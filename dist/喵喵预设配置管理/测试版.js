/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ var __webpack_modules__ = ({

/***/ "./src/喵喵预设配置管理/index.ts":
/*!*******************************!*\
  !*** ./src/喵喵预设配置管理/index.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./事件绑定 */ \"./src/喵喵预设配置管理/事件绑定.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./初始化和配置 */ \"./src/喵喵预设配置管理/初始化和配置.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./加载和卸载时执行函数 */ \"./src/喵喵预设配置管理/加载和卸载时执行函数.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./导入导出功能 */ \"./src/喵喵预设配置管理/导入导出功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./批量操作功能 */ \"./src/喵喵预设配置管理/批量操作功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./条目分组功能 */ \"./src/喵喵预设配置管理/条目分组功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./正则绑定功能 */ \"./src/喵喵预设配置管理/正则绑定功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./界面创建和管理 */ \"./src/喵喵预设配置管理/界面创建和管理.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./角色绑定功能 */ \"./src/喵喵预设配置管理/角色绑定功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./辅助弹窗功能 */ \"./src/喵喵预设配置管理/辅助弹窗功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./配置存储和读取 */ \"./src/喵喵预设配置管理/配置存储和读取.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./配置操作功能 */ \"./src/喵喵预设配置管理/配置操作功能.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5Za15Za16aKE6K6+6YWN572u566h55CGL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBZ0I7QUFDRTtBQUNJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQztBQUNEO0FBQ0E7QUFDQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/llrXllrXpooTorr7phY3nva7nrqHnkIYvaW5kZXgudHM/Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi/kuovku7bnu5HlrponO1xuaW1wb3J0ICcuL+WIneWni+WMluWSjOmFjee9ric7XG5pbXBvcnQgJy4v5Yqg6L295ZKM5Y246L295pe25omn6KGM5Ye95pWwJztcbmltcG9ydCAnLi/lr7zlhaXlr7zlh7rlip/og70nO1xuaW1wb3J0ICcuL+aJuemHj+aTjeS9nOWKn+iDvSc7XG5pbXBvcnQgJy4v5p2h55uu5YiG57uE5Yqf6IO9JztcbmltcG9ydCAnLi/mraPliJnnu5Hlrprlip/og70nO1xuaW1wb3J0ICcuL+eVjOmdouWIm+W7uuWSjOeuoeeQhic7XG5pbXBvcnQgJy4v6KeS6Imy57uR5a6a5Yqf6IO9JztcbmltcG9ydCAnLi/ovoXliqnlvLnnqpflip/og70nO1xuaW1wb3J0ICcuL+mFjee9ruWtmOWCqOWSjOivu+WPlic7XG5pbXBvcnQgJy4v6YWN572u5pON5L2c5Yqf6IO9JztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/喵喵预设配置管理/index.ts\n\n}");

/***/ }),

/***/ "./src/喵喵预设配置管理/事件绑定.ts":
/*!******************************!*\
  !*** ./src/喵喵预设配置管理/事件绑定.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bindConfigListEvents: () => (/* binding */ bindConfigListEvents)\n/* harmony export */ });\n// 配置列表的按钮事件绑定\nfunction bindConfigListEvents() {\n    const listElement = $('#preset-manager-list');\n    console.log('绑定配置列表事件，找到按钮数量:', listElement.find('button').length);\n    listElement.off('click', 'button').on('click', 'button', async function (e) {\n        const button = $(this);\n        const action = button.attr('name');\n        console.log('按钮点击事件触发，action:', action, 'configId:', button.data('id'));\n        if (action === 'more-actions') {\n            e.stopPropagation();\n            const submenu = button.siblings('.pm-submenu');\n            $('.pm-submenu').not(submenu).hide(); // Hide other open menus\n            submenu.toggle();\n            return;\n        }\n        if (action === 'close-submenu') {\n            button.closest('.pm-submenu').hide();\n            return;\n        }\n        const configId = button.data('id');\n        // 动态导入避免循环引用\n        switch (action) {\n            case 'rename-config': {\n                const { renameConfig } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./配置操作功能 */ \"./src/喵喵预设配置管理/配置操作功能.ts\"));\n                await renameConfig(configId);\n                break;\n            }\n            case 'update-config': {\n                const { updateConfig } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./配置操作功能 */ \"./src/喵喵预设配置管理/配置操作功能.ts\"));\n                await updateConfig(configId);\n                break;\n            }\n            case 'load-config': {\n                const { loadConfig } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./配置操作功能 */ \"./src/喵喵预设配置管理/配置操作功能.ts\"));\n                await loadConfig(configId);\n                break;\n            }\n            case 'export-config': {\n                const { exportConfig } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./导入导出功能 */ \"./src/喵喵预设配置管理/导入导出功能.ts\"));\n                await exportConfig(configId);\n                break;\n            }\n            case 'delete-config': {\n                const { deleteConfig } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./配置操作功能 */ \"./src/喵喵预设配置管理/配置操作功能.ts\"));\n                await deleteConfig(configId);\n                break;\n            }\n            case 'bind-regex': {\n                const { showRegexBindingPopup } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./正则绑定功能 */ \"./src/喵喵预设配置管理/正则绑定功能.ts\"));\n                await showRegexBindingPopup(configId);\n                break;\n            }\n            case 'view-config': {\n                const { showViewConfigPopup } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./辅助弹窗功能 */ \"./src/喵喵预设配置管理/辅助弹窗功能.ts\"));\n                await showViewConfigPopup(configId);\n                break;\n            }\n        }\n        button.closest('.pm-submenu').hide();\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5Za15Za16aKE6K6+6YWN572u566h55CGL+S6i+S7tue7keWumi50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsY0FBYztBQUNQLFNBQVMsb0JBQW9CO0lBQ2xDLE1BQU0sV0FBVyxHQUFHLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0lBQzlDLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUVuRSxXQUFXLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxLQUFLLFdBQVcsQ0FBQztRQUN4RSxNQUFNLE1BQU0sR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkIsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNuQyxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBRXhFLElBQUksTUFBTSxLQUFLLGNBQWMsRUFBRSxDQUFDO1lBQzlCLENBQUMsQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUNwQixNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQy9DLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyx3QkFBd0I7WUFDOUQsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2pCLE9BQU87UUFDVCxDQUFDO1FBRUQsSUFBSSxNQUFNLEtBQUssZUFBZSxFQUFFLENBQUM7WUFDL0IsTUFBTSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNyQyxPQUFPO1FBQ1QsQ0FBQztRQUVELE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFbkMsYUFBYTtRQUNiLFFBQVEsTUFBTSxFQUFFLENBQUM7WUFDZixLQUFLLGVBQWUsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JCLE1BQU0sRUFBRSxZQUFZLEVBQUUsR0FBRyxNQUFNLGdJQUFrQixDQUFDO2dCQUNsRCxNQUFNLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDN0IsTUFBTTtZQUNSLENBQUM7WUFDRCxLQUFLLGVBQWUsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JCLE1BQU0sRUFBRSxZQUFZLEVBQUUsR0FBRyxNQUFNLGdJQUFrQixDQUFDO2dCQUNsRCxNQUFNLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDN0IsTUFBTTtZQUNSLENBQUM7WUFDRCxLQUFLLGFBQWEsQ0FBQyxDQUFDLENBQUM7Z0JBQ25CLE1BQU0sRUFBRSxVQUFVLEVBQUUsR0FBRyxNQUFNLGdJQUFrQixDQUFDO2dCQUNoRCxNQUFNLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDM0IsTUFBTTtZQUNSLENBQUM7WUFDRCxLQUFLLGVBQWUsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JCLE1BQU0sRUFBRSxZQUFZLEVBQUUsR0FBRyxNQUFNLGdJQUFrQixDQUFDO2dCQUNsRCxNQUFNLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDN0IsTUFBTTtZQUNSLENBQUM7WUFDRCxLQUFLLGVBQWUsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JCLE1BQU0sRUFBRSxZQUFZLEVBQUUsR0FBRyxNQUFNLGdJQUFrQixDQUFDO2dCQUNsRCxNQUFNLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDN0IsTUFBTTtZQUNSLENBQUM7WUFDRCxLQUFLLFlBQVksQ0FBQyxDQUFDLENBQUM7Z0JBQ2xCLE1BQU0sRUFBRSxxQkFBcUIsRUFBRSxHQUFHLE1BQU0sZ0lBQWtCLENBQUM7Z0JBQzNELE1BQU0scUJBQXFCLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3RDLE1BQU07WUFDUixDQUFDO1lBQ0QsS0FBSyxhQUFhLENBQUMsQ0FBQyxDQUFDO2dCQUNuQixNQUFNLEVBQUUsbUJBQW1CLEVBQUUsR0FBRyxNQUFNLGdJQUFrQixDQUFDO2dCQUN6RCxNQUFNLG1CQUFtQixDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUNwQyxNQUFNO1lBQ1IsQ0FBQztRQUNILENBQUM7UUFFRCxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3ZDLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5Za15Za16aKE6K6+6YWN572u566h55CGL+S6i+S7tue7keWumi50cz8iXSwic291cmNlc0NvbnRlbnQiOlsiLy8g6YWN572u5YiX6KGo55qE5oyJ6ZKu5LqL5Lu257uR5a6aXG5leHBvcnQgZnVuY3Rpb24gYmluZENvbmZpZ0xpc3RFdmVudHMoKTogdm9pZCB7XG4gIGNvbnN0IGxpc3RFbGVtZW50ID0gJCgnI3ByZXNldC1tYW5hZ2VyLWxpc3QnKTtcbiAgY29uc29sZS5sb2coJ+e7keWumumFjee9ruWIl+ihqOS6i+S7tu+8jOaJvuWIsOaMiemSruaVsOmHjzonLCBsaXN0RWxlbWVudC5maW5kKCdidXR0b24nKS5sZW5ndGgpO1xuXG4gIGxpc3RFbGVtZW50Lm9mZignY2xpY2snLCAnYnV0dG9uJykub24oJ2NsaWNrJywgJ2J1dHRvbicsIGFzeW5jIGZ1bmN0aW9uIChlKSB7XG4gICAgY29uc3QgYnV0dG9uID0gJCh0aGlzKTtcbiAgICBjb25zdCBhY3Rpb24gPSBidXR0b24uYXR0cignbmFtZScpO1xuICAgIGNvbnNvbGUubG9nKCfmjInpkq7ngrnlh7vkuovku7bop6blj5HvvIxhY3Rpb246JywgYWN0aW9uLCAnY29uZmlnSWQ6JywgYnV0dG9uLmRhdGEoJ2lkJykpO1xuXG4gICAgaWYgKGFjdGlvbiA9PT0gJ21vcmUtYWN0aW9ucycpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBjb25zdCBzdWJtZW51ID0gYnV0dG9uLnNpYmxpbmdzKCcucG0tc3VibWVudScpO1xuICAgICAgJCgnLnBtLXN1Ym1lbnUnKS5ub3Qoc3VibWVudSkuaGlkZSgpOyAvLyBIaWRlIG90aGVyIG9wZW4gbWVudXNcbiAgICAgIHN1Ym1lbnUudG9nZ2xlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGFjdGlvbiA9PT0gJ2Nsb3NlLXN1Ym1lbnUnKSB7XG4gICAgICBidXR0b24uY2xvc2VzdCgnLnBtLXN1Ym1lbnUnKS5oaWRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29uZmlnSWQgPSBidXR0b24uZGF0YSgnaWQnKTtcblxuICAgIC8vIOWKqOaAgeWvvOWFpemBv+WFjeW+queOr+W8leeUqFxuICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICBjYXNlICdyZW5hbWUtY29uZmlnJzoge1xuICAgICAgICBjb25zdCB7IHJlbmFtZUNvbmZpZyB9ID0gYXdhaXQgaW1wb3J0KCcuL+mFjee9ruaTjeS9nOWKn+iDvScpO1xuICAgICAgICBhd2FpdCByZW5hbWVDb25maWcoY29uZmlnSWQpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3VwZGF0ZS1jb25maWcnOiB7XG4gICAgICAgIGNvbnN0IHsgdXBkYXRlQ29uZmlnIH0gPSBhd2FpdCBpbXBvcnQoJy4v6YWN572u5pON5L2c5Yqf6IO9Jyk7XG4gICAgICAgIGF3YWl0IHVwZGF0ZUNvbmZpZyhjb25maWdJZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnbG9hZC1jb25maWcnOiB7XG4gICAgICAgIGNvbnN0IHsgbG9hZENvbmZpZyB9ID0gYXdhaXQgaW1wb3J0KCcuL+mFjee9ruaTjeS9nOWKn+iDvScpO1xuICAgICAgICBhd2FpdCBsb2FkQ29uZmlnKGNvbmZpZ0lkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdleHBvcnQtY29uZmlnJzoge1xuICAgICAgICBjb25zdCB7IGV4cG9ydENvbmZpZyB9ID0gYXdhaXQgaW1wb3J0KCcuL+WvvOWFpeWvvOWHuuWKn+iDvScpO1xuICAgICAgICBhd2FpdCBleHBvcnRDb25maWcoY29uZmlnSWQpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2RlbGV0ZS1jb25maWcnOiB7XG4gICAgICAgIGNvbnN0IHsgZGVsZXRlQ29uZmlnIH0gPSBhd2FpdCBpbXBvcnQoJy4v6YWN572u5pON5L2c5Yqf6IO9Jyk7XG4gICAgICAgIGF3YWl0IGRlbGV0ZUNvbmZpZyhjb25maWdJZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnYmluZC1yZWdleCc6IHtcbiAgICAgICAgY29uc3QgeyBzaG93UmVnZXhCaW5kaW5nUG9wdXAgfSA9IGF3YWl0IGltcG9ydCgnLi/mraPliJnnu5Hlrprlip/og70nKTtcbiAgICAgICAgYXdhaXQgc2hvd1JlZ2V4QmluZGluZ1BvcHVwKGNvbmZpZ0lkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICd2aWV3LWNvbmZpZyc6IHtcbiAgICAgICAgY29uc3QgeyBzaG93Vmlld0NvbmZpZ1BvcHVwIH0gPSBhd2FpdCBpbXBvcnQoJy4v6L6F5Yqp5by556qX5Yqf6IO9Jyk7XG4gICAgICAgIGF3YWl0IHNob3dWaWV3Q29uZmlnUG9wdXAoY29uZmlnSWQpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBidXR0b24uY2xvc2VzdCgnLnBtLXN1Ym1lbnUnKS5oaWRlKCk7XG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/喵喵预设配置管理/事件绑定.ts\n\n}");

/***/ }),

/***/ "./src/喵喵预设配置管理/初始化和配置.ts":
/*!********************************!*\
  !*** ./src/喵喵预设配置管理/初始化和配置.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CONFIG_LOREBOOK_NAME: () => (/* binding */ CONFIG_LOREBOOK_NAME),\n/* harmony export */   TIPS: () => (/* binding */ TIPS),\n/* harmony export */   TOGGLE_BUTTON_NAME: () => (/* binding */ TOGGLE_BUTTON_NAME),\n/* harmony export */   UI_ID: () => (/* binding */ UI_ID),\n/* harmony export */   V2_MIGRATION_KEY: () => (/* binding */ V2_MIGRATION_KEY),\n/* harmony export */   ensureConfigLorebookExists: () => (/* binding */ ensureConfigLorebookExists),\n/* harmony export */   generateUUID: () => (/* binding */ generateUUID),\n/* harmony export */   generateUniqueId: () => (/* binding */ generateUniqueId),\n/* harmony export */   initializePresetManager: () => (/* binding */ initializePresetManager),\n/* harmony export */   lastProcessedCharAvatar: () => (/* binding */ lastProcessedCharAvatar),\n/* harmony export */   setLastProcessedCharAvatar: () => (/* binding */ setLastProcessedCharAvatar)\n/* harmony export */ });\n// 定义用于存储配置的世界书的固定名称\nconst CONFIG_LOREBOOK_NAME = 'PresetConfigManager_Data';\nconst V2_MIGRATION_KEY = 'MiaoMiaoPresetManager_AllConfigs_V2'; // 用于检测旧版合并数据的Key\nconst TOGGLE_BUTTON_NAME = '喵喵预设配置管理';\nconst UI_ID = 'preset-manager-ui';\nlet lastProcessedCharAvatar = null; // 用于跟踪上一个处理过的角色，防止重复触发\n// 小贴士列表\nconst TIPS = [\n    '如果你玩BL的话，来试试小n同人女预设吧！其他MoM系预设也可以试试哦！',\n    '当你的总token达到6w左右时，你就该总结隐藏了哦',\n    '你知道吗，聊天界面开关正则有一定可能丢失你的聊天记录',\n    '不要使用第三方/\"半公益站\"的api或云酒馆！首先你的数据会非常不安全，其次没有后台我们无法解答你的问题，最后贩子不仅收你钱还掺水！',\n];\nfunction generateUniqueId() {\n    return Date.now().toString(36) + Math.random().toString(36).substring(2);\n}\n// 生成标准的UUID v4格式，用作预设条目 identifier\nfunction generateUUID() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        const r = (Math.random() * 16) | 0;\n        const v = c === 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\nfunction setLastProcessedCharAvatar(avatar) {\n    lastProcessedCharAvatar = avatar;\n}\n// 确保配置世界书存在\nasync function ensureConfigLorebookExists() {\n    try {\n        await TavernHelper.getWorldbook(CONFIG_LOREBOOK_NAME);\n    }\n    catch (error) {\n        console.log(`'${CONFIG_LOREBOOK_NAME}' not found. Creating it now.`);\n        await TavernHelper.createOrReplaceWorldbook(CONFIG_LOREBOOK_NAME, []);\n    }\n}\n// 初始化函数（将在加载时执行函数中调用）\nasync function initializePresetManager() {\n    await ensureConfigLorebookExists();\n    $(document).on('click', function (e) {\n        if (!$(e.target).is('button[name=\"more-actions\"]') && $(e.target).closest('.pm-submenu').length === 0) {\n            $('.pm-submenu').hide();\n        }\n    });\n    // 自动为所有预设创建识别条目（仅在新版用户首次使用时执行）\n    try {\n        const configs = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./配置操作功能 */ \"./src/喵喵预设配置管理/配置操作功能.ts\")).then(m => m.getStoredConfigs());\n        const hasOldConfigs = Object.values(configs).some((config) => !config.identifierId && config.presetName);\n        if (hasOldConfigs) {\n            console.log('检测到旧版配置，开始自动创建识别条目...');\n            const { autoCreateIdentifiersForAllPresets } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./配置操作功能 */ \"./src/喵喵预设配置管理/配置操作功能.ts\"));\n            await autoCreateIdentifiersForAllPresets();\n        }\n    }\n    catch (error) {\n        console.error('自动创建识别条目时出错:', error);\n    }\n}\n// 移除自动初始化，改为在加载时执行函数中调用\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5Za15Za16aKE6K6+6YWN572u566h55CGL+WIneWni+WMluWSjOmFjee9ri50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNiLE1BQU0sb0JBQW9CLEdBQUcsMEJBQTBCLENBQUM7QUFDeEQsTUFBTSxnQkFBZ0IsR0FBRyxxQ0FBcUMsQ0FBQyxDQUFDLGlCQUFpQjtBQUNqRixNQUFNLGtCQUFrQixHQUFHLFVBQVUsQ0FBQztBQUN0QyxNQUFNLEtBQUssR0FBRyxtQkFBbUIsQ0FBQztBQUNsQyxJQUFJLHVCQUF1QixHQUFrQixJQUFJLENBQUMsQ0FBQyx1QkFBdUI7QUFFakYsUUFBUTtBQUNELE1BQU0sSUFBSSxHQUFHO0lBQ2xCLHNDQUFzQztJQUN0Qyw0QkFBNEI7SUFDNUIsNEJBQTRCO0lBQzVCLG9FQUFvRTtDQUNyRSxDQUFDO0FBRUssU0FBUyxnQkFBZ0I7SUFDOUIsT0FBTyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzNFLENBQUM7QUFFRCxtQ0FBbUM7QUFDNUIsU0FBUyxZQUFZO0lBQzFCLE9BQU8sc0NBQXNDLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUM7UUFDeEUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ25DLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDO1FBQzFDLE9BQU8sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN4QixDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFFTSxTQUFTLDBCQUEwQixDQUFDLE1BQXFCO0lBQzlELHVCQUF1QixHQUFHLE1BQU0sQ0FBQztBQUNuQyxDQUFDO0FBRUQsWUFBWTtBQUNMLEtBQUssVUFBVSwwQkFBMEI7SUFDOUMsSUFBSSxDQUFDO1FBQ0gsTUFBTSxZQUFZLENBQUMsWUFBWSxDQUFDLG9CQUFvQixDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7UUFDZixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksb0JBQW9CLCtCQUErQixDQUFDLENBQUM7UUFDckUsTUFBTSxZQUFZLENBQUMsd0JBQXdCLENBQUMsb0JBQW9CLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDeEUsQ0FBQztBQUNILENBQUM7QUFFRCxzQkFBc0I7QUFDZixLQUFLLFVBQVUsdUJBQXVCO0lBQzNDLE1BQU0sMEJBQTBCLEVBQUUsQ0FBQztJQUVuQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUM7UUFDakMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLDZCQUE2QixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQ3RHLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUMxQixDQUFDO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFFSCwrQkFBK0I7SUFDL0IsSUFBSSxDQUFDO1FBQ0gsTUFBTSxPQUFPLEdBQUcsTUFBTSxnSUFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDO1FBQ3pFLE1BQU0sYUFBYSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBVyxFQUFFLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxZQUFZLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBRTlHLElBQUksYUFBYSxFQUFFLENBQUM7WUFDbEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1lBQ3JDLE1BQU0sRUFBRSxrQ0FBa0MsRUFBRSxHQUFHLE1BQU0sZ0lBQWtCLENBQUM7WUFDeEUsTUFBTSxrQ0FBa0MsRUFBRSxDQUFDO1FBQzdDLENBQUM7SUFDSCxDQUFDO0lBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztRQUNmLE9BQU8sQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7QUFDSCxDQUFDO0FBRUQsd0JBQXdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/llrXllrXpooTorr7phY3nva7nrqHnkIYv5Yid5aeL5YyW5ZKM6YWN572uLnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDlrprkuYnnlKjkuo7lrZjlgqjphY3nva7nmoTkuJbnlYzkuabnmoTlm7rlrprlkI3np7BcbmV4cG9ydCBjb25zdCBDT05GSUdfTE9SRUJPT0tfTkFNRSA9ICdQcmVzZXRDb25maWdNYW5hZ2VyX0RhdGEnO1xuZXhwb3J0IGNvbnN0IFYyX01JR1JBVElPTl9LRVkgPSAnTWlhb01pYW9QcmVzZXRNYW5hZ2VyX0FsbENvbmZpZ3NfVjInOyAvLyDnlKjkuo7mo4DmtYvml6fniYjlkIjlubbmlbDmja7nmoRLZXlcbmV4cG9ydCBjb25zdCBUT0dHTEVfQlVUVE9OX05BTUUgPSAn5Za15Za16aKE6K6+6YWN572u566h55CGJztcbmV4cG9ydCBjb25zdCBVSV9JRCA9ICdwcmVzZXQtbWFuYWdlci11aSc7XG5leHBvcnQgbGV0IGxhc3RQcm9jZXNzZWRDaGFyQXZhdGFyOiBzdHJpbmcgfCBudWxsID0gbnVsbDsgLy8g55So5LqO6Lef6Liq5LiK5LiA5Liq5aSE55CG6L+H55qE6KeS6Imy77yM6Ziy5q2i6YeN5aSN6Kem5Y+RXG5cbi8vIOWwj+i0tOWjq+WIl+ihqFxuZXhwb3J0IGNvbnN0IFRJUFMgPSBbXG4gICflpoLmnpzkvaDnjqlCTOeahOivne+8jOadpeivleivleWwj27lkIzkurrlpbPpooTorr7lkKfvvIHlhbbku5ZNb03ns7vpooTorr7kuZ/lj6/ku6Xor5Xor5Xlk6bvvIEnLFxuICAn5b2T5L2g55qE5oC7dG9rZW7ovr7liLA2d+W3puWPs+aXtu+8jOS9oOWwseivpeaAu+e7k+makOiXj+S6huWTpicsXG4gICfkvaDnn6XpgZPlkJfvvIzogYrlpKnnlYzpnaLlvIDlhbPmraPliJnmnInkuIDlrprlj6/og73kuKLlpLHkvaDnmoTogYrlpKnorrDlvZUnLFxuICAn5LiN6KaB5L2/55So56ys5LiJ5pa5L1wi5Y2K5YWs55uK56uZXCLnmoRhcGnmiJbkupHphZLppobvvIHpppblhYjkvaDnmoTmlbDmja7kvJrpnZ7luLjkuI3lronlhajvvIzlhbbmrKHmsqHmnInlkI7lj7DmiJHku6zml6Dms5Xop6PnrZTkvaDnmoTpl67popjvvIzmnIDlkI7otKnlrZDkuI3ku4XmlLbkvaDpkrHov5jmjrrmsLTvvIEnLFxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVW5pcXVlSWQoKTogc3RyaW5nIHtcbiAgcmV0dXJuIERhdGUubm93KCkudG9TdHJpbmcoMzYpICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIpO1xufVxuXG4vLyDnlJ/miJDmoIflh4bnmoRVVUlEIHY05qC85byP77yM55So5L2c6aKE6K6+5p2h55uuIGlkZW50aWZpZXJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVVVSUQoKTogc3RyaW5nIHtcbiAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwO1xuICAgIGNvbnN0IHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMpIHwgMHg4O1xuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRMYXN0UHJvY2Vzc2VkQ2hhckF2YXRhcihhdmF0YXI6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgbGFzdFByb2Nlc3NlZENoYXJBdmF0YXIgPSBhdmF0YXI7XG59XG5cbi8vIOehruS/nemFjee9ruS4lueVjOS5puWtmOWcqFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuc3VyZUNvbmZpZ0xvcmVib29rRXhpc3RzKCk6IFByb21pc2U8dm9pZD4ge1xuICB0cnkge1xuICAgIGF3YWl0IFRhdmVybkhlbHBlci5nZXRXb3JsZGJvb2soQ09ORklHX0xPUkVCT09LX05BTUUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGAnJHtDT05GSUdfTE9SRUJPT0tfTkFNRX0nIG5vdCBmb3VuZC4gQ3JlYXRpbmcgaXQgbm93LmApO1xuICAgIGF3YWl0IFRhdmVybkhlbHBlci5jcmVhdGVPclJlcGxhY2VXb3JsZGJvb2soQ09ORklHX0xPUkVCT09LX05BTUUsIFtdKTtcbiAgfVxufVxuXG4vLyDliJ3lp4vljJblh73mlbDvvIjlsIblnKjliqDovb3ml7bmiafooYzlh73mlbDkuK3osIPnlKjvvIlcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplUHJlc2V0TWFuYWdlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgZW5zdXJlQ29uZmlnTG9yZWJvb2tFeGlzdHMoKTtcblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghJChlLnRhcmdldCkuaXMoJ2J1dHRvbltuYW1lPVwibW9yZS1hY3Rpb25zXCJdJykgJiYgJChlLnRhcmdldCkuY2xvc2VzdCgnLnBtLXN1Ym1lbnUnKS5sZW5ndGggPT09IDApIHtcbiAgICAgICQoJy5wbS1zdWJtZW51JykuaGlkZSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8g6Ieq5Yqo5Li65omA5pyJ6aKE6K6+5Yib5bu66K+G5Yir5p2h55uu77yI5LuF5Zyo5paw54mI55So5oi36aaW5qyh5L2/55So5pe25omn6KGM77yJXG4gIHRyeSB7XG4gICAgY29uc3QgY29uZmlncyA9IGF3YWl0IGltcG9ydCgnLi/phY3nva7mk43kvZzlip/og70nKS50aGVuKG0gPT4gbS5nZXRTdG9yZWRDb25maWdzKCkpO1xuICAgIGNvbnN0IGhhc09sZENvbmZpZ3MgPSBPYmplY3QudmFsdWVzKGNvbmZpZ3MpLnNvbWUoKGNvbmZpZzogYW55KSA9PiAhY29uZmlnLmlkZW50aWZpZXJJZCAmJiBjb25maWcucHJlc2V0TmFtZSk7XG5cbiAgICBpZiAoaGFzT2xkQ29uZmlncykge1xuICAgICAgY29uc29sZS5sb2coJ+ajgOa1i+WIsOaXp+eJiOmFjee9ru+8jOW8gOWni+iHquWKqOWIm+W7uuivhuWIq+adoeebri4uLicpO1xuICAgICAgY29uc3QgeyBhdXRvQ3JlYXRlSWRlbnRpZmllcnNGb3JBbGxQcmVzZXRzIH0gPSBhd2FpdCBpbXBvcnQoJy4v6YWN572u5pON5L2c5Yqf6IO9Jyk7XG4gICAgICBhd2FpdCBhdXRvQ3JlYXRlSWRlbnRpZmllcnNGb3JBbGxQcmVzZXRzKCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+iHquWKqOWIm+W7uuivhuWIq+adoeebruaXtuWHuumUmTonLCBlcnJvcik7XG4gIH1cbn1cblxuLy8g56e76Zmk6Ieq5Yqo5Yid5aeL5YyW77yM5pS55Li65Zyo5Yqg6L295pe25omn6KGM5Ye95pWw5Lit6LCD55SoXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/喵喵预设配置管理/初始化和配置.ts\n\n}");

/***/ }),

/***/ "./src/喵喵预设配置管理/加载和卸载时执行函数.ts":
/*!************************************!*\
  !*** ./src/喵喵预设配置管理/加载和卸载时执行函数.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./初始化和配置 */ \"./src/喵喵预设配置管理/初始化和配置.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./条目分组功能 */ \"./src/喵喵预设配置管理/条目分组功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./界面创建和管理 */ \"./src/喵喵预设配置管理/界面创建和管理.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./角色绑定功能 */ \"./src/喵喵预设配置管理/角色绑定功能.ts\");\n\n\n\n\n// 防止重复初始化的全局标记\nconst SCRIPT_ID = 'MIAO_MIAO_PRESET_MANAGER';\n// 等待必要的全局变量加载完成\nfunction checkReady() {\n    const win = window;\n    if (win.jQuery &&\n        win.TavernHelper &&\n        typeof TavernHelper.createOrReplaceWorldbook === 'function' &&\n        win.tavern_events &&\n        typeof getButtonEvent === 'function') {\n        initScript();\n    }\n    else {\n        setTimeout(checkReady, 100);\n    }\n}\nfunction init() {\n    // 检查是否已存在，如果存在则重新初始化（适配脚本重复加载）\n    const win = window;\n    if (win[SCRIPT_ID]) {\n        console.log('⚠️ 喵喵预设配置管理已存在，重新初始化以适配重复加载');\n        // 清理旧的事件绑定\n        cleanupOldBindings();\n    }\n    // 设置全局标记\n    win[SCRIPT_ID] = true;\n    win.miaoMiaoPresetManager = true;\n    console.log('🔥 jQuery ready 事件触发...');\n    checkReady();\n}\n// 清理旧的事件绑定\nfunction cleanupOldBindings() {\n    try {\n        // 解绑所有可能的事件\n        $('#preset-manager-close').off('click');\n        $('#preset-manager-help-btn').off('click');\n        $('#preset-manager-save-btn').off('click');\n        $('#preset-manager-import-btn').off('click');\n        $('#preset-manager-batch-export-btn').off('click');\n        $('#preset-manager-batch-delete-btn').off('click');\n        $('#preset-manager-grouping-btn').off('click');\n        $('#preset-manager-import-file').off('change');\n        // 解绑分组相关事件\n        $('.prompt-item').off('click');\n        $('.prompt-checkbox').off('change');\n        $('.dropdown-close-btn').off('click');\n        $(document).off('click', '.dropdown-close-btn');\n        console.log('✅ 旧的事件绑定已清理');\n    }\n    catch (error) {\n        console.warn('清理旧事件绑定时出错:', error);\n    }\n}\nasync function initScript() {\n    try {\n        console.log('🚀 喵喵预设配置管理开始初始化...');\n        // 初始化配置管理器\n        await (0,___WEBPACK_IMPORTED_MODULE_0__.initializePresetManager)();\n        console.log('✅ 配置管理器初始化完成');\n        // 创建UI界面\n        (0,___WEBPACK_IMPORTED_MODULE_2__.createUI)();\n        console.log('✅ UI界面创建完成');\n        // 注册按钮事件\n        const buttonEventId = getButtonEvent(___WEBPACK_IMPORTED_MODULE_0__.TOGGLE_BUTTON_NAME);\n        eventOn(buttonEventId, ___WEBPACK_IMPORTED_MODULE_2__.toggleUI);\n        console.log('✅ 按钮事件已注册:', buttonEventId);\n        // 注册角色切换事件\n        eventOn(tavern_events.CHAT_CHANGED, ___WEBPACK_IMPORTED_MODULE_3__.onChatChanged);\n        // 延迟加载非关键功能，避免阻塞UI\n        setTimeout(() => {\n            initNonCriticalFeatures();\n        }, 100);\n        console.log('✅ 喵喵预设配置管理已加载成功!');\n    }\n    catch (error) {\n        console.error('初始化喵喵预设配置管理失败:', error);\n        toastr.error('喵喵预设配置管理加载失败，请检查控制台');\n    }\n}\n// 初始化非关键功能，避免阻塞主UI\nfunction initNonCriticalFeatures() {\n    try {\n        // 恢复分组配置\n        eventOn(tavern_events.SETTINGS_LOADED, ___WEBPACK_IMPORTED_MODULE_1__.restoreGroupingFromConfig);\n        // 监听预设变化，如果存在该事件的话\n        const tavernEventsExt = tavern_events;\n        if (tavernEventsExt.PRESET_CHANGED) {\n            eventOn(tavernEventsExt.PRESET_CHANGED, ___WEBPACK_IMPORTED_MODULE_1__.restoreGroupingFromConfig);\n        }\n        // 监听预设界面变化，延迟恢复分组\n        if (tavernEventsExt.PROMPT_MANAGER_UPDATED) {\n            eventOn(tavernEventsExt.PROMPT_MANAGER_UPDATED, () => (0,___WEBPACK_IMPORTED_MODULE_1__.restoreGroupingDelayed)(150, 'dom_change'));\n        }\n        // 监听设置更新事件，这通常在条目开关后触发\n        eventOn(tavern_events.SETTINGS_UPDATED, () => {\n            console.log('检测到设置更新，准备恢复分组');\n            (0,___WEBPACK_IMPORTED_MODULE_1__.restoreGroupingDelayed)(200, 'settings');\n        });\n        // 优化DOM观察器 - 使用防抖机制\n        let restoreTimeout = null;\n        const observer = new MutationObserver(mutations => {\n            let shouldRestore = false;\n            mutations.forEach(mutation => {\n                if (mutation.type === 'childList') {\n                    const target = mutation.target;\n                    // 检查是否是预设管理器的条目变化\n                    if (target.classList?.contains('completion_prompt_manager') ||\n                        target.querySelector?.('.completion_prompt_manager_prompt') ||\n                        // 检查是否是预设条目本身的变化\n                        target.classList?.contains('completion_prompt_manager_prompt') ||\n                        // 检查是否是分组容器的变化\n                        target.classList?.contains('prompt-group-container')) {\n                        shouldRestore = true;\n                    }\n                }\n                // 检查属性变化（如开关状态变化）\n                if (mutation.type === 'attributes') {\n                    const target = mutation.target;\n                    if (target.classList?.contains('completion_prompt_manager_prompt') ||\n                        target.closest?.('.completion_prompt_manager_prompt')) {\n                        shouldRestore = true;\n                    }\n                }\n            });\n            if (shouldRestore) {\n                // 防抖处理，避免频繁触发\n                if (restoreTimeout) {\n                    clearTimeout(restoreTimeout);\n                }\n                restoreTimeout = window.setTimeout(() => {\n                    console.log('检测到预设条目变化，准备恢复分组');\n                    (0,___WEBPACK_IMPORTED_MODULE_1__.restoreGroupingDelayed)(150, 'toggle');\n                }, 50);\n            }\n        });\n        // 开始观察预设管理器区域的变化\n        const presetManagerContainer = $('.completion_prompt_manager').get(0);\n        if (presetManagerContainer) {\n            observer.observe(presetManagerContainer, {\n                childList: true,\n                subtree: true,\n                attributes: true,\n                attributeFilter: ['class', 'data-pm-identifier'],\n            });\n            console.log('✅ 预设管理器DOM观察器已启动');\n        }\n        // 延迟恢复分组，避免阻塞UI加载\n        setTimeout(() => {\n            console.log('🔄 脚本加载完成，开始强制恢复分组配置...');\n            (0,___WEBPACK_IMPORTED_MODULE_1__.forceRestoreGrouping)();\n        }, 2000);\n        console.log('✅ 非关键功能初始化完成');\n    }\n    catch (error) {\n        console.error('初始化非关键功能失败:', error);\n    }\n}\n// 在加载脚本时执行初始化\nconsole.log('🔥 喵喵预设配置管理模块开始加载...');\n$(() => init());\n// 在卸载脚本时执行清理\n$(window).on('pagehide', () => {\n    // 清理全局标记\n    const win = window;\n    delete win[SCRIPT_ID];\n    delete win.miaoMiaoPresetManager;\n    // 快速清理UI元素，避免阻塞\n    const uiElement = document.getElementById('preset-manager-ui');\n    const fileElement = document.getElementById('preset-manager-import-file');\n    if (uiElement) {\n        uiElement.remove();\n    }\n    if (fileElement) {\n        fileElement.remove();\n    }\n    // 异步清理分组效果，避免阻塞页面卸载\n    setTimeout(async () => {\n        try {\n            const { clearAllGrouping } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./条目分组功能 */ \"./src/喵喵预设配置管理/条目分组功能.ts\"));\n            clearAllGrouping();\n        }\n        catch (error) {\n            // 忽略清理错误\n        }\n    }, 0);\n    console.log('✅ 喵喵预设配置管理已卸载');\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5Za15Za16aKE6K6+6YWN572u566h55CGL+WKoOi9veWSjOWNuOi9veaXtuaJp+ihjOWHveaVsC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUF1RTtBQUM0QjtBQUNwRDtBQUNOO0FBRXpDLGVBQWU7QUFDZixNQUFNLFNBQVMsR0FBRywwQkFBMEIsQ0FBQztBQUU3QyxnQkFBZ0I7QUFDaEIsU0FBUyxVQUFVO0lBQ2pCLE1BQU0sR0FBRyxHQUFHLE1BQTRDLENBQUM7SUFDekQsSUFDRSxHQUFHLENBQUMsTUFBTTtRQUNWLEdBQUcsQ0FBQyxZQUFZO1FBQ2hCLE9BQU8sWUFBWSxDQUFDLHdCQUF3QixLQUFLLFVBQVU7UUFDM0QsR0FBRyxDQUFDLGFBQWE7UUFDakIsT0FBTyxjQUFjLEtBQUssVUFBVSxFQUNwQyxDQUFDO1FBQ0QsVUFBVSxFQUFFLENBQUM7SUFDZixDQUFDO1NBQU0sQ0FBQztRQUNOLFVBQVUsQ0FBQyxVQUFVLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDOUIsQ0FBQztBQUNILENBQUM7QUFFRCxTQUFTLElBQUk7SUFDWCwrQkFBK0I7SUFDL0IsTUFBTSxHQUFHLEdBQUcsTUFBNEMsQ0FBQztJQUN6RCxJQUFJLEdBQUcsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDO1FBQ25CLE9BQU8sQ0FBQyxHQUFHLENBQUMsNkJBQTZCLENBQUMsQ0FBQztRQUMzQyxXQUFXO1FBQ1gsa0JBQWtCLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsU0FBUztJQUNULEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDdEIsR0FBRyxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQztJQUVqQyxPQUFPLENBQUMsR0FBRyxDQUFDLHlCQUF5QixDQUFDLENBQUM7SUFDdkMsVUFBVSxFQUFFLENBQUM7QUFDZixDQUFDO0FBRUQsV0FBVztBQUNYLFNBQVMsa0JBQWtCO0lBQ3pCLElBQUksQ0FBQztRQUNILFlBQVk7UUFDWixDQUFDLENBQUMsdUJBQXVCLENB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SCxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsR0FBRyxNQUFNLGdJQUFrQixDQUFDO1lBQ3RELGdCQUFnQixFQUFFLENBQUM7UUFDckIsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDZixTQUFTO1FBQ1gsQ0FBQztJQUNILENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUVOLE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDL0IsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+WWteWWtemihOiuvumFjee9rueuoeeQhi/liqDovb3lkozljbjovb3ml7bmiafooYzlh73mlbAudHM/Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRPR0dMRV9CVVRUT05fTkFNRSwgaW5pdGlhbGl6ZVByZXNldE1hbmFnZXIgfSBmcm9tICcuL+WIneWni+WMluWSjOmFjee9ric7XG5pbXBvcnQgeyBmb3JjZVJlc3RvcmVHcm91cGluZywgcmVzdG9yZUdyb3VwaW5nRGVsYXllZCwgcmVzdG9yZUdyb3VwaW5nRnJvbUNvbmZpZyB9IGZyb20gJy4v5p2h55uu5YiG57uE5Yqf6IO9JztcbmltcG9ydCB7IGNyZWF0ZVVJLCB0b2dnbGVVSSB9IGZyb20gJy4v55WM6Z2i5Yib5bu65ZKM566h55CGJztcbmltcG9ydCB7IG9uQ2hhdENoYW5nZWQgfSBmcm9tICcuL+inkuiJsue7keWumuWKn+iDvSc7XG5cbi8vIOmYsuatoumHjeWkjeWIneWni+WMlueahOWFqOWxgOagh+iusFxuY29uc3QgU0NSSVBUX0lEID0gJ01JQU9fTUlBT19QUkVTRVRfTUFOQUdFUic7XG5cbi8vIOetieW+heW/heimgeeahOWFqOWxgOWPmOmHj+WKoOi9veWujOaIkFxuZnVuY3Rpb24gY2hlY2tSZWFkeSgpOiB2b2lkIHtcbiAgY29uc3Qgd2luID0gd2luZG93IGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIGlmIChcbiAgICB3aW4ualF1ZXJ5ICYmXG4gICAgd2luLlRhdmVybkhlbHBlciAmJlxuICAgIHR5cGVvZiBUYXZlcm5IZWxwZXIuY3JlYXRlT3JSZXBsYWNlV29ybGRib29rID09PSAnZnVuY3Rpb24nICYmXG4gICAgd2luLnRhdmVybl9ldmVudHMgJiZcbiAgICB0eXBlb2YgZ2V0QnV0dG9uRXZlbnQgPT09ICdmdW5jdGlvbidcbiAgKSB7XG4gICAgaW5pdFNjcmlwdCgpO1xuICB9IGVsc2Uge1xuICAgIHNldFRpbWVvdXQoY2hlY2tSZWFkeSwgMTAwKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0KCk6IHZvaWQge1xuICAvLyDmo4Dmn6XmmK/lkKblt7LlrZjlnKjvvIzlpoLmnpzlrZjlnKjliJnph43mlrDliJ3lp4vljJbvvIjpgILphY3ohJrmnKzph43lpI3liqDovb3vvIlcbiAgY29uc3Qgd2luID0gd2luZG93IGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIGlmICh3aW5bU0NSSVBUX0lEXSkge1xuICAgIGNvbnNvbGUubG9nKCfimqDvuI8g5Za15Za16aKE6K6+6YWN572u566h55CG5bey5a2Y5Zyo77yM6YeN5paw5Yid5aeL5YyW5Lul6YCC6YWN6YeN5aSN5Yqg6L29Jyk7XG4gICAgLy8g5riF55CG5pen55qE5LqL5Lu257uR5a6aXG4gICAgY2xlYW51cE9sZEJpbmRpbmdzKCk7XG4gIH1cblxuICAvLyDorr7nva7lhajlsYDmoIforrBcbiAgd2luW1NDUklQVF9JRF0gPSB0cnVlO1xuICB3aW4ubWlhb01pYW9QcmVzZXRNYW5hZ2VyID0gdHJ1ZTtcblxuICBjb25zb2xlLmxvZygn8J+UpSBqUXVlcnkgcmVhZHkg5LqL5Lu26Kem5Y+RLi4uJyk7XG4gIGNoZWNrUmVhZHkoKTtcbn1cblxuLy8g5riF55CG5pen55qE5LqL5Lu257uR5a6aXG5mdW5jdGlvbiBjbGVhbnVwT2xkQmluZGluZ3MoKTogdm9pZCB7XG4gIHRyeSB7XG4gICAgLy8g6Kej57uR5omA5pyJ5Y+v6IO955qE5LqL5Lu2XG4gICAgJCgnI3ByZXNldC1tYW5hZ2VyLWNsb3NlJykub2ZmKCdjbGljaycpO1xuICAgICQoJyNwcmVzZXQtbWFuYWdlci1oZWxwLWJ0bicpLm9mZignY2xpY2snKTtcbiAgICAkKCcjcHJlc2V0LW1hbmFnZXItc2F2ZS1idG4nKS5vZmYoJ2NsaWNrJyk7XG4gICAgJCgnI3ByZXNldC1tYW5hZ2VyLWltcG9ydC1idG4nKS5vZmYoJ2NsaWNrJyk7XG4gICAgJCgnI3ByZXNldC1tYW5hZ2VyLWJhdGNoLWV4cG9ydC1idG4nKS5vZmYoJ2NsaWNrJyk7XG4gICAgJCgnI3ByZXNldC1tYW5hZ2VyLWJhdGNoLWRlbGV0ZS1idG4nKS5vZmYoJ2NsaWNrJyk7XG4gICAgJCgnI3ByZXNldC1tYW5hZ2VyLWdyb3VwaW5nLWJ0bicpLm9mZignY2xpY2snKTtcbiAgICAkKCcjcHJlc2V0LW1hbmFnZXItaW1wb3J0LWZpbGUnKS5vZmYoJ2NoYW5nZScpO1xuXG4gICAgLy8g6Kej57uR5YiG57uE55u45YWz5LqL5Lu2XG4gICAgJCgnLnByb21wdC1pdGVtJykub2ZmKCdjbGljaycpO1xuICAgICQoJy5wcm9tcHQtY2hlY2tib3gnKS5vZmYoJ2NoYW5nZScpO1xuICAgICQoJy5kcm9wZG93bi1jbG9zZS1idG4nKS5vZmYoJ2NsaWNrJyk7XG4gICAgJChkb2N1bWVudCkub2ZmKCdjbGljaycsICcuZHJvcGRvd24tY2xvc2UtYnRuJyk7XG5cbiAgICBjb25zb2xlLmxvZygn4pyFIOaXp+eahOS6i+S7tue7keWumuW3sua4heeQhicpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2Fybign5riF55CG5pen5LqL5Lu257uR5a6a5pe25Ye66ZSZOicsIGVycm9yKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBpbml0U2NyaXB0KCk6IFByb21pc2U8dm9pZD4ge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCfwn5qAIOWWteWWtemihOiuvumFjee9rueuoeeQhuW8gOWni+WIneWni+WMli4uLicpO1xuXG4gICAgLy8g5Yid5aeL5YyW6YWN572u566h55CG5ZmoXG4gICAgYXdhaXQgaW5pdGlhbGl6ZVByZXNldE1hbmFnZXIoKTtcbiAgICBjb25zb2xlLmxvZygn4pyFIOmFjee9rueuoeeQhuWZqOWIneWni+WMluWujOaIkCcpO1xuXG4gICAgLy8g5Yib5bu6VUnnlYzpnaJcbiAgICBjcmVhdGVVSSgpO1xuICAgIGNvbnNvbGUubG9nKCfinIUgVUnnlYzpnaLliJvlu7rlrozmiJAnKTtcblxuICAgIC8vIOazqOWGjOaMiemSruS6i+S7tlxuICAgIGNvbnN0IGJ1dHRvbkV2ZW50SWQgPSBnZXRCdXR0b25FdmVudChUT0dHTEVfQlVUVE9OX05BTUUpO1xuICAgIGV2ZW50T24oYnV0dG9uRXZlbnRJZCwgdG9nZ2xlVUkpO1xuICAgIGNvbnNvbGUubG9nKCfinIUg5oyJ6ZKu5LqL5Lu25bey5rOo5YaMOicsIGJ1dHRvbkV2ZW50SWQpO1xuXG4gICAgLy8g5rOo5YaM6KeS6Imy5YiH5o2i5LqL5Lu2XG4gICAgZXZlbnRPbih0YXZlcm5fZXZlbnRzLkNIQVRfQ0hBTkdFRCwgb25DaGF0Q2hhbmdlZCk7XG5cbiAgICAvLyDlu7bov5/liqDovb3pnZ7lhbPplK7lip/og73vvIzpgb/lhY3pmLvloZ5VSVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaW5pdE5vbkNyaXRpY2FsRmVhdHVyZXMoKTtcbiAgICB9LCAxMDApO1xuXG4gICAgY29uc29sZS5sb2coJ+KchSDllrXllrXpooTorr7phY3nva7nrqHnkIblt7LliqDovb3miJDlip8hJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign5Yid5aeL5YyW5Za15Za16aKE6K6+6YWN572u566h55CG5aSx6LSlOicsIGVycm9yKTtcbiAgICB0b2FzdHIuZXJyb3IoJ+WWteWWtemihOiuvumFjee9rueuoeeQhuWKoOi9veWksei0pe+8jOivt+ajgOafpeaOp+WItuWPsCcpO1xuICB9XG59XG5cbi8vIOWIneWni+WMlumdnuWFs+mUruWKn+iDve+8jOmBv+WFjemYu+WhnuS4u1VJXG5mdW5jdGlvbiBpbml0Tm9uQ3JpdGljYWxGZWF0dXJlcygpOiB2b2lkIHtcbiAgdHJ5IHtcbiAgICAvLyDmgaLlpI3liIbnu4TphY3nva5cbiAgICBldmVudE9uKHRhdmVybl9ldmVudHMuU0VUVElOR1NfTE9BREVELCByZXN0b3JlR3JvdXBpbmdGcm9tQ29uZmlnKTtcblxuICAgIC8vIOebkeWQrOmihOiuvuWPmOWMlu+8jOWmguaenOWtmOWcqOivpeS6i+S7tueahOivnVxuICAgIGNvbnN0IHRhdmVybkV2ZW50c0V4dCA9IHRhdmVybl9ldmVudHMgYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICBpZiAodGF2ZXJuRXZlbnRzRXh0LlBSRVNFVF9DSEFOR0VEKSB7XG4gICAgICBldmVudE9uKHRhdmVybkV2ZW50c0V4dC5QUkVTRVRfQ0hBTkdFRCwgcmVzdG9yZUdyb3VwaW5nRnJvbUNvbmZpZyk7XG4gICAgfVxuXG4gICAgLy8g55uR5ZCs6aKE6K6+55WM6Z2i5Y+Y5YyW77yM5bu26L+f5oGi5aSN5YiG57uEXG4gICAgaWYgKHRhdmVybkV2ZW50c0V4dC5QUk9NUFRfTUFOQUdFUl9VUERBVEVEKSB7XG4gICAgICBldmVudE9uKHRhdmVybkV2ZW50c0V4dC5QUk9NUFRfTUFOQUdFUl9VUERBVEVELCAoKSA9PiByZXN0b3JlR3JvdXBpbmdEZWxheWVkKDE1MCwgJ2RvbV9jaGFuZ2UnKSk7XG4gICAgfVxuXG4gICAgLy8g55uR5ZCs6K6+572u5pu05paw5LqL5Lu277yM6L+Z6YCa5bi45Zyo5p2h55uu5byA5YWz5ZCO6Kem5Y+RXG4gICAgZXZlbnRPbih0YXZlcm5fZXZlbnRzLlNFVFRJTkdTX1VQREFURUQsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfmo4DmtYvliLDorr7nva7mm7TmlrDvvIzlh4blpIfmgaLlpI3liIbnu4QnKTtcbiAgICAgIHJlc3RvcmVHcm91cGluZ0RlbGF5ZWQoMjAwLCAnc2V0dGluZ3MnKTtcbiAgICB9KTtcblxuICAgIC8vIOS8mOWMlkRPTeinguWvn+WZqCAtIOS9v+eUqOmYsuaKluacuuWItlxuICAgIGxldCByZXN0b3JlVGltZW91dDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbnMgPT4ge1xuICAgICAgbGV0IHNob3VsZFJlc3RvcmUgPSBmYWxzZTtcbiAgICAgIG11dGF0aW9ucy5mb3JFYWNoKG11dGF0aW9uID0+IHtcbiAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICdjaGlsZExpc3QnKSB7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0ID0gbXV0YXRpb24udGFyZ2V0IGFzIEVsZW1lbnQ7XG4gICAgICAgICAgLy8g5qOA5p+l5piv5ZCm5piv6aKE6K6+566h55CG5Zmo55qE5p2h55uu5Y+Y5YyWXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdD8uY29udGFpbnMoJ2NvbXBsZXRpb25fcHJvbXB0X21hbmFnZXInKSB8fFxuICAgICAgICAgICAgdGFyZ2V0LnF1ZXJ5U2VsZWN0b3I/LignLmNvbXBsZXRpb25fcHJvbXB0X21hbmFnZXJfcHJvbXB0JykgfHxcbiAgICAgICAgICAgIC8vIOajgOafpeaYr+WQpuaYr+mihOiuvuadoeebruacrOi6q+eahOWPmOWMllxuICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdD8uY29udGFpbnMoJ2NvbXBsZXRpb25fcHJvbXB0X21hbmFnZXJfcHJvbXB0JykgfHxcbiAgICAgICAgICAgIC8vIOajgOafpeaYr+WQpuaYr+WIhue7hOWuueWZqOeahOWPmOWMllxuICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdD8uY29udGFpbnMoJ3Byb21wdC1ncm91cC1jb250YWluZXInKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2hvdWxkUmVzdG9yZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8g5qOA5p+l5bGe5oCn5Y+Y5YyW77yI5aaC5byA5YWz54q25oCB5Y+Y5YyW77yJXG4gICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnYXR0cmlidXRlcycpIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXQgPSBtdXRhdGlvbi50YXJnZXQgYXMgRWxlbWVudDtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0Py5jb250YWlucygnY29tcGxldGlvbl9wcm9tcHRfbWFuYWdlcl9wcm9tcHQnKSB8fFxuICAgICAgICAgICAgdGFyZ2V0LmNsb3Nlc3Q/LignLmNvbXBsZXRpb25fcHJvbXB0X21hbmFnZXJfcHJvbXB0JylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNob3VsZFJlc3RvcmUgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChzaG91bGRSZXN0b3JlKSB7XG4gICAgICAgIC8vIOmYsuaKluWkhOeQhu+8jOmBv+WFjemikee5geinpuWPkVxuICAgICAgICBpZiAocmVzdG9yZVRpbWVvdXQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQocmVzdG9yZVRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3RvcmVUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfmo4DmtYvliLDpooTorr7mnaHnm67lj5jljJbvvIzlh4blpIfmgaLlpI3liIbnu4QnKTtcbiAgICAgICAgICByZXN0b3JlR3JvdXBpbmdEZWxheWVkKDE1MCwgJ3RvZ2dsZScpO1xuICAgICAgICB9LCA1MCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyDlvIDlp4vop4Llr5/pooTorr7nrqHnkIblmajljLrln5/nmoTlj5jljJZcbiAgICBjb25zdCBwcmVzZXRNYW5hZ2VyQ29udGFpbmVyID0gJCgnLmNvbXBsZXRpb25fcHJvbXB0X21hbmFnZXInKS5nZXQoMCk7XG4gICAgaWYgKHByZXNldE1hbmFnZXJDb250YWluZXIpIHtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUocHJlc2V0TWFuYWdlckNvbnRhaW5lciwge1xuICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICAgIGF0dHJpYnV0ZUZpbHRlcjogWydjbGFzcycsICdkYXRhLXBtLWlkZW50aWZpZXInXSxcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coJ+KchSDpooTorr7nrqHnkIblmahET03op4Llr5/lmajlt7LlkK/liqgnKTtcbiAgICB9XG5cbiAgICAvLyDlu7bov5/mgaLlpI3liIbnu4TvvIzpgb/lhY3pmLvloZ5VSeWKoOi9vVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ/CflIQg6ISa5pys5Yqg6L295a6M5oiQ77yM5byA5aeL5by65Yi25oGi5aSN5YiG57uE6YWN572uLi4uJyk7XG4gICAgICBmb3JjZVJlc3RvcmVHcm91cGluZygpO1xuICAgIH0sIDIwMDApO1xuXG4gICAgY29uc29sZS5sb2coJ+KchSDpnZ7lhbPplK7lip/og73liJ3lp4vljJblrozmiJAnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfliJ3lp4vljJbpnZ7lhbPplK7lip/og73lpLHotKU6JywgZXJyb3IpO1xuICB9XG59XG5cbi8vIOWcqOWKoOi9veiEmuacrOaXtuaJp+ihjOWIneWni+WMllxuY29uc29sZS5sb2coJ/CflKUg5Za15Za16aKE6K6+6YWN572u566h55CG5qih5Z2X5byA5aeL5Yqg6L29Li4uJyk7XG4kKCgpID0+IGluaXQoKSk7XG5cbi8vIOWcqOWNuOi9veiEmuacrOaXtuaJp+ihjOa4heeQhlxuJCh3aW5kb3cpLm9uKCdwYWdlaGlkZScsICgpID0+IHtcbiAgLy8g5riF55CG5YWo5bGA5qCH6K6wXG4gIGNvbnN0IHdpbiA9IHdpbmRvdyBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICBkZWxldGUgd2luW1NDUklQVF9JRF07XG4gIGRlbGV0ZSB3aW4ubWlhb01pYW9QcmVzZXRNYW5hZ2VyO1xuXG4gIC8vIOW/q+mAn+a4heeQhlVJ5YWD57Sg77yM6YG/5YWN6Zi75aGeXG4gIGNvbnN0IHVpRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmVzZXQtbWFuYWdlci11aScpO1xuICBjb25zdCBmaWxlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmVzZXQtbWFuYWdlci1pbXBvcnQtZmlsZScpO1xuXG4gIGlmICh1aUVsZW1lbnQpIHtcbiAgICB1aUVsZW1lbnQucmVtb3ZlKCk7XG4gIH1cbiAgaWYgKGZpbGVFbGVtZW50KSB7XG4gICAgZmlsZUVsZW1lbnQucmVtb3ZlKCk7XG4gIH1cblxuICAvLyDlvILmraXmuIXnkIbliIbnu4TmlYjmnpzvvIzpgb/lhY3pmLvloZ7pobXpnaLljbjovb1cbiAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgY2xlYXJBbGxHcm91cGluZyB9ID0gYXdhaXQgaW1wb3J0KCcuL+adoeebruWIhue7hOWKn+iDvScpO1xuICAgICAgY2xlYXJBbGxHcm91cGluZygpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyDlv73nlaXmuIXnkIbplJnor69cbiAgICB9XG4gIH0sIDApO1xuXG4gIGNvbnNvbGUubG9nKCfinIUg5Za15Za16aKE6K6+6YWN572u566h55CG5bey5Y246L29Jyk7XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/喵喵预设配置管理/加载和卸载时执行函数.ts\n\n}");

/***/ }),

/***/ "./src/喵喵预设配置管理/导入导出功能.ts":
/*!********************************!*\
  !*** ./src/喵喵预设配置管理/导入导出功能.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   exportConfig: () => (/* binding */ exportConfig),\n/* harmony export */   handleFileImport: () => (/* binding */ handleFileImport)\n/* harmony export */ });\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./初始化和配置 */ \"./src/喵喵预设配置管理/初始化和配置.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./条目分组功能 */ \"./src/喵喵预设配置管理/条目分组功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./正则绑定功能 */ \"./src/喵喵预设配置管理/正则绑定功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./配置存储和读取 */ \"./src/喵喵预设配置管理/配置存储和读取.ts\");\n\n\n\n\nasync function exportConfig(configId) {\n    try {\n        const configs = await (0,___WEBPACK_IMPORTED_MODULE_3__.getStoredConfigs)();\n        const configData = configs[configId];\n        if (!configData) {\n            toastr.error(`配置不存在，无法导出。`);\n            return;\n        }\n        const configName = configData.name;\n        let userRemark = '';\n        const addRemarkChoice = await triggerSlash(`/popup okButton=\"是\" cancelButton=\"否\" result=true \"是否要为此导出添加备注信息？\"`);\n        if (addRemarkChoice === '1') {\n            userRemark = await triggerSlash(`/input multiline=true placeholder=\"请输入备注，例如预设用途、来源等...\" \"添加备注\"`);\n        }\n        const exportBundle = {\n            type: 'MiaoMiaoPresetBundle',\n            version: 1,\n            remark: userRemark || '',\n            presetConfig: configData,\n            presetData: null,\n            regexData: null,\n            groupingConfig: null,\n        };\n        const configPresetName = configData.presetName;\n        if (configPresetName && TavernHelper.getPresetNames().includes(configPresetName)) {\n            const includePresetChoice = await triggerSlash(`/popup okButton=\"是\" cancelButton=\"否\" result=true \"此配置关联了预设 \\\\\"${configPresetName}\\\\\"。是否要将预设文件本身一起打包导出？\"`);\n            if (includePresetChoice === '1') {\n                const presetData = TavernHelper.getPreset(configPresetName);\n                if (presetData) {\n                    presetData.name = configPresetName;\n                    exportBundle.presetData = presetData;\n                    toastr.info(`已将预设 \"${configPresetName}\" 打包。`);\n                }\n                else {\n                    toastr.warning(`无法获取预设 \"${configPresetName}\" 的数据。`);\n                }\n            }\n        }\n        if (configData.regexStates && configData.regexStates.length > 0) {\n            const userChoice = await triggerSlash(`/popup okButton=\"是\" cancelButton=\"否\" result=true \"此配置绑定了正则。是否选择要一起导出的正则？\"`);\n            if (userChoice === '1') {\n                const boundRegexIds = new Set(configData.regexStates.map(r => r.id));\n                const allGlobalRegexes = await TavernHelper.getTavernRegexes({ scope: 'global' });\n                const boundRegexes = allGlobalRegexes.filter((r) => boundRegexIds.has(r.id));\n                const { showRegexExportSelectionPopup } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./辅助弹窗功能 */ \"./src/喵喵预设配置管理/辅助弹窗功能.ts\"));\n                const selectedRegexes = await showRegexExportSelectionPopup(boundRegexes);\n                if (selectedRegexes) {\n                    exportBundle.regexData = selectedRegexes;\n                    toastr.info(`已将 ${selectedRegexes.length} 条正则打包导出。`);\n                }\n                else {\n                    toastr.info('已取消导出正则。');\n                }\n            }\n        }\n        // 检查是否包含分组配置\n        const groupingPresetName = configData.presetName;\n        if (groupingPresetName) {\n            const groupingConfig = (0,___WEBPACK_IMPORTED_MODULE_1__.exportPresetGrouping)(groupingPresetName);\n            if (groupingConfig) {\n                const includeGroupingChoice = await triggerSlash(`/popup okButton=\"是\" cancelButton=\"否\" result=true \"预设 \\\\\"${groupingPresetName}\\\\\" 包含条目分组设置。是否要一起导出？\"`);\n                if (includeGroupingChoice === '1') {\n                    exportBundle.groupingConfig = groupingConfig;\n                    toastr.info('已将分组设置打包导出。');\n                }\n            }\n        }\n        const defaultFileName = `${configName}_bundle`;\n        let userFileName = await triggerSlash(`/input default=\"${defaultFileName}\" \"请输入导出的文件名（无需后缀）\"`);\n        if (!userFileName || userFileName.trim() === '') {\n            userFileName = defaultFileName;\n            toastr.info('文件名为空，已使用默认名称。');\n        }\n        userFileName = userFileName.trim().replace(/\\.json$/, '');\n        const jsonString = JSON.stringify(exportBundle, null, 2);\n        const blob = new Blob([jsonString], { type: 'application/json' });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `${userFileName}.json`;\n        document.body.appendChild(a);\n        a.click();\n        URL.revokeObjectURL(url);\n        a.remove();\n        toastr.success(`配置包 \"${configName}\" 已导出。`);\n    }\n    catch (error) {\n        console.error('导出配置失败:', error);\n        toastr.error('导出配置失败，请检查控制台获取更多信息。');\n    }\n}\nasync function handleFileImport(event) {\n    const file = event.target.files[0];\n    if (!file)\n        return;\n    const reader = new FileReader();\n    reader.onload = async (e) => {\n        try {\n            const content = e.target?.result;\n            const parsedContent = JSON.parse(content);\n            if (parsedContent.entries && typeof parsedContent.entries === 'object') {\n                toastr.info('检测到世界书备份文件。');\n                const configsToImport = [];\n                for (const entry of Object.values(parsedContent.entries)) {\n                    if (entry.content) {\n                        try {\n                            const config = JSON.parse(entry.content);\n                            if (config.id && config.name && Array.isArray(config.states)) {\n                                configsToImport.push(config);\n                            }\n                        }\n                        catch (err) {\n                            // 忽略解析失败的条目\n                        }\n                    }\n                }\n                if (configsToImport.length > 0) {\n                    const { startBatchImportFlow } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./批量操作功能 */ \"./src/喵喵预设配置管理/批量操作功能.ts\"));\n                    await startBatchImportFlow(configsToImport);\n                }\n                else {\n                    toastr.warning('世界书文件中未找到有效的喵喵配置数据。');\n                }\n                return;\n            }\n            if (parsedContent.remark) {\n                const { showRemarkPopup } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./辅助弹窗功能 */ \"./src/喵喵预设配置管理/辅助弹窗功能.ts\"));\n                await showRemarkPopup(parsedContent.remark);\n            }\n            if (parsedContent.type === 'MiaoMiaoPresetMegaBundle') {\n                const { handleMegaBundleImport } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./批量操作功能 */ \"./src/喵喵预设配置管理/批量操作功能.ts\"));\n                await handleMegaBundleImport(parsedContent);\n                return;\n            }\n            let configToImport, presetToImport, regexToImport, groupingToImport;\n            if (parsedContent.type === 'MiaoMiaoPresetBundle') {\n                console.log('检测到整合包文件，版本:', parsedContent.version);\n                toastr.info('检测到整合包文件。');\n                configToImport = parsedContent.presetConfig;\n                presetToImport = parsedContent.presetData;\n                regexToImport = parsedContent.regexData;\n                groupingToImport = parsedContent.groupingConfig;\n                console.log('分组配置:', groupingToImport);\n            }\n            else {\n                configToImport = parsedContent;\n            }\n            if (!configToImport || typeof configToImport.presetName !== 'string' || !Array.isArray(configToImport.states)) {\n                toastr.error('导入失败：配置数据格式不正确。');\n                return;\n            }\n            if (presetToImport) {\n                const importPresetChoice = await triggerSlash(`/popup okButton=\"是\" cancelButton=\"否\" result=true \"此文件包含预设文件 \\\\\"${presetToImport.name}\\\\\"。是否导入/覆盖？\"`);\n                if (importPresetChoice === '1') {\n                    await TavernHelper.createOrReplacePreset(presetToImport.name, presetToImport);\n                    toastr.success(`预设文件 \"${presetToImport.name}\" 已导入。`);\n                }\n            }\n            if (regexToImport && regexToImport.length > 0) {\n                await (0,___WEBPACK_IMPORTED_MODULE_2__.importRegexLogic)(regexToImport);\n            }\n            // 处理分组配置导入\n            if (groupingToImport && Array.isArray(groupingToImport) && groupingToImport.length > 0) {\n                if (configToImport.presetName) {\n                    try {\n                        console.log('导入分组配置:', groupingToImport);\n                        (0,___WEBPACK_IMPORTED_MODULE_1__.importPresetGrouping)(configToImport.presetName, groupingToImport);\n                        toastr.success('已成功导入并应用分组设置到预设。');\n                    }\n                    catch (error) {\n                        console.error('导入分组配置失败:', error);\n                        toastr.error('导入分组配置失败：' + error.message);\n                    }\n                }\n                else {\n                    console.warn('配置中没有预设名称，无法导入分组配置');\n                }\n            }\n            const initialName = configToImport.name || file.name.replace(/_bundle\\.json$/i, '').replace(/\\.json$/i, '');\n            let configName = await triggerSlash(`/input default=\"${initialName}\" \"请输入导入配置的名称\"`);\n            configName = configName.trim();\n            if (!configName) {\n                toastr.info('导入已取消。');\n                return;\n            }\n            const configs = await (0,___WEBPACK_IMPORTED_MODULE_3__.getStoredConfigs)();\n            configToImport.name = configName;\n            configToImport.id = (0,___WEBPACK_IMPORTED_MODULE_0__.generateUniqueId)(); // Always generate new ID for single import\n            configs[configToImport.id] = configToImport;\n            await (0,___WEBPACK_IMPORTED_MODULE_3__.setStoredConfigs)(configs);\n            toastr.success(`配置 \"${configName}\" 已成功导入。`);\n            await (0,___WEBPACK_IMPORTED_MODULE_3__.renderConfigsList)();\n        }\n        catch (error) {\n            console.error('导入文件失败:', error);\n            toastr.error('导入文件失败，请检查控制台获取更多信息。');\n        }\n        finally {\n            $(event.target).val('');\n        }\n    };\n    reader.readAsText(file);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5Za15Za16aKE6K6+6YWN572u566h55CGL+WvvOWFpeWvvOWHuuWKn+iDvS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBNEM7QUFDdUM7QUFDdkM7QUFDc0M7QUFFM0UsS0FBSyxVQUFVLFlBQVksQ0FBQyxRQUFnQjtJQUNqRCxJQUFJLENBQUM7UUFDSCxNQUFNLE9BQU8sR0FBRyxNQUFNLG1EQUFnQixFQUFFLENBQUM7UUFDekMsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRXJDLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUNoQixNQUFNLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQzVCLE9BQU87UUFDVCxDQUFDO1FBQ0QsTUFBTSxVQUFVLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQztRQUVuQyxJQUFJLFVBQVUsR0FBRyxFQUFFLENBQUM7UUFDcEIsTUFBTSxlQUFlLEdBQUcsTUFBTSxZQUFZLENBQ3hDLG1FQUFtRSxDQUNwRSxDQUFDO1FBQ0YsSUFBSSxlQUFlLEtBQUssR0FBRyxFQUFFLENBQUM7WUFDNUIsVUFBVSxHQUFHLE1BQU0sWUFBWSxDQUM3QixnRUFBZ0UsQ0FDakUsQ0FBQztRQUNKLENBQUM7UUFFRCxNQUFNLFlBQVksR0FBRztZQUNuQixJQUFJLEVBQUUsc0JBQXNCO1lBQzVCLE9BQU8sRUFBRSxDQUFDO1lBQ1YsTUFBTSxFQUFFLFVBQVUsSUFBSSxFQUFFO1lBQ3hCLFlBQVksRUFBRSxVQUFVO1lBQ3hCLFVBQVUsRUFBRSxJQUFJO1lBQ2hCLFNBQVMsRUFBRSxJQUFJO1lBQ2YsY0FBYyxFQUFFLElBQUk7U0FDckIsQ0FBQztRQUVGLE1BQU0sZ0JBQWdCLEdBQUcsVUFBVSxDQUFDLFVBQVUsQ0FBQztRQUMvQyxJQUFJLGdCQUFnQixJQUFJLFlBQVksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxDQUFDO1lBQ2pGLE1BQU0sbUJBQW1CLEdB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TyxVQUFVLFVBQVUsQ0FBQyxDQUFDO1lBQzVDLE1BQU0sb0RBQWlCLEVBQUUsQ0FBQztRQUM1QixDQUFDO1FBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztZQUNmLE9BQU8sQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ2hDLE1BQU0sQ0FBQyxLQUFLLENBQUMsc0JBQXNCLENBQUMsQ0FBQztRQUN2QyxDQUFDO2dCQUFTLENBQUM7WUFDVCxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMxQixDQUFDO0lBQ0gsQ0FBQyxDQUFDO0lBQ0YsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMxQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/llrXllrXpooTorr7phY3nva7nrqHnkIYv5a+85YWl5a+85Ye65Yqf6IO9LnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZW5lcmF0ZVVuaXF1ZUlkIH0gZnJvbSAnLi/liJ3lp4vljJblkozphY3nva4nO1xuaW1wb3J0IHsgZXhwb3J0UHJlc2V0R3JvdXBpbmcsIGltcG9ydFByZXNldEdyb3VwaW5nLCBQcm9tcHRHcm91cCB9IGZyb20gJy4v5p2h55uu5YiG57uE5Yqf6IO9JztcbmltcG9ydCB7IGltcG9ydFJlZ2V4TG9naWMgfSBmcm9tICcuL+ato+WImee7keWumuWKn+iDvSc7XG5pbXBvcnQgeyBnZXRTdG9yZWRDb25maWdzLCByZW5kZXJDb25maWdzTGlzdCwgc2V0U3RvcmVkQ29uZmlncyB9IGZyb20gJy4v6YWN572u5a2Y5YKo5ZKM6K+75Y+WJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4cG9ydENvbmZpZyhjb25maWdJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29uZmlncyA9IGF3YWl0IGdldFN0b3JlZENvbmZpZ3MoKTtcbiAgICBjb25zdCBjb25maWdEYXRhID0gY29uZmlnc1tjb25maWdJZF07XG5cbiAgICBpZiAoIWNvbmZpZ0RhdGEpIHtcbiAgICAgIHRvYXN0ci5lcnJvcihg6YWN572u5LiN5a2Y5Zyo77yM5peg5rOV5a+85Ye644CCYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbmZpZ05hbWUgPSBjb25maWdEYXRhLm5hbWU7XG5cbiAgICBsZXQgdXNlclJlbWFyayA9ICcnO1xuICAgIGNvbnN0IGFkZFJlbWFya0Nob2ljZSA9IGF3YWl0IHRyaWdnZXJTbGFzaChcbiAgICAgIGAvcG9wdXAgb2tCdXR0b249XCLmmK9cIiBjYW5jZWxCdXR0b249XCLlkKZcIiByZXN1bHQ9dHJ1ZSBcIuaYr+WQpuimgeS4uuatpOWvvOWHuua3u+WKoOWkh+azqOS/oeaBr++8n1wiYCxcbiAgICApO1xuICAgIGlmIChhZGRSZW1hcmtDaG9pY2UgPT09ICcxJykge1xuICAgICAgdXNlclJlbWFyayA9IGF3YWl0IHRyaWdnZXJTbGFzaChcbiAgICAgICAgYC9pbnB1dCBtdWx0aWxpbmU9dHJ1ZSBwbGFjZWhvbGRlcj1cIuivt+i+k+WFpeWkh+azqO+8jOS+i+WmgumihOiuvueUqOmAlOOAgeadpea6kOetiS4uLlwiIFwi5re75Yqg5aSH5rOoXCJgLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBleHBvcnRCdW5kbGUgPSB7XG4gICAgICB0eXBlOiAnTWlhb01pYW9QcmVzZXRCdW5kbGUnLFxuICAgICAgdmVyc2lvbjogMSxcbiAgICAgIHJlbWFyazogdXNlclJlbWFyayB8fCAnJyxcbiAgICAgIHByZXNldENvbmZpZzogY29uZmlnRGF0YSxcbiAgICAgIHByZXNldERhdGE6IG51bGwsXG4gICAgICByZWdleERhdGE6IG51bGwsXG4gICAgICBncm91cGluZ0NvbmZpZzogbnVsbCxcbiAgICB9O1xuXG4gICAgY29uc3QgY29uZmlnUHJlc2V0TmFtZSA9IGNvbmZpZ0RhdGEucHJlc2V0TmFtZTtcbiAgICBpZiAoY29uZmlnUHJlc2V0TmFtZSAmJiBUYXZlcm5IZWxwZXIuZ2V0UHJlc2V0TmFtZXMoKS5pbmNsdWRlcyhjb25maWdQcmVzZXROYW1lKSkge1xuICAgICAgY29uc3QgaW5jbHVkZVByZXNldENob2ljZSA9IGF3YWl0IHRyaWdnZXJTbGFzaChcbiAgICAgICAgYC9wb3B1cCBva0J1dHRvbj1cIuaYr1wiIGNhbmNlbEJ1dHRvbj1cIuWQplwiIHJlc3VsdD10cnVlIFwi5q2k6YWN572u5YWz6IGU5LqG6aKE6K6+IFxcXFxcIiR7Y29uZmlnUHJlc2V0TmFtZX1cXFxcXCLjgILmmK/lkKbopoHlsIbpooTorr7mlofku7bmnKzouqvkuIDotbfmiZPljIXlr7zlh7rvvJ9cImAsXG4gICAgICApO1xuICAgICAgaWYgKGluY2x1ZGVQcmVzZXRDaG9pY2UgPT09ICcxJykge1xuICAgICAgICBjb25zdCBwcmVzZXREYXRhID0gVGF2ZXJuSGVscGVyLmdldFByZXNldChjb25maWdQcmVzZXROYW1lKTtcbiAgICAgICAgaWYgKHByZXNldERhdGEpIHtcbiAgICAgICAgICAocHJlc2V0RGF0YSBhcyBhbnkpLm5hbWUgPSBjb25maWdQcmVzZXROYW1lO1xuICAgICAgICAgIChleHBvcnRCdW5kbGUgYXMgYW55KS5wcmVzZXREYXRhID0gcHJlc2V0RGF0YTtcbiAgICAgICAgICB0b2FzdHIuaW5mbyhg5bey5bCG6aKE6K6+IFwiJHtjb25maWdQcmVzZXROYW1lfVwiIOaJk+WMheOAgmApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvYXN0ci53YXJuaW5nKGDml6Dms5Xojrflj5bpooTorr4gXCIke2NvbmZpZ1ByZXNldE5hbWV9XCIg55qE5pWw5o2u44CCYCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29uZmlnRGF0YS5yZWdleFN0YXRlcyAmJiBjb25maWdEYXRhLnJlZ2V4U3RhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHVzZXJDaG9pY2UgPSBhd2FpdCB0cmlnZ2VyU2xhc2goXG4gICAgICAgIGAvcG9wdXAgb2tCdXR0b249XCLmmK9cIiBjYW5jZWxCdXR0b249XCLlkKZcIiByZXN1bHQ9dHJ1ZSBcIuatpOmFjee9rue7keWumuS6huato+WImeOAguaYr+WQpumAieaLqeimgeS4gOi1t+WvvOWHuueahOato+WIme+8n1wiYCxcbiAgICAgICk7XG4gICAgICBpZiAodXNlckNob2ljZSA9PT0gJzEnKSB7XG4gICAgICAgIGNvbnN0IGJvdW5kUmVnZXhJZHMgPSBuZXcgU2V0KGNvbmZpZ0RhdGEucmVnZXhTdGF0ZXMubWFwKHIgPT4gci5pZCkpO1xuICAgICAgICBjb25zdCBhbGxHbG9iYWxSZWdleGVzID0gYXdhaXQgVGF2ZXJuSGVscGVyLmdldFRhdmVyblJlZ2V4ZXMoeyBzY29wZTogJ2dsb2JhbCcgfSk7XG4gICAgICAgIGNvbnN0IGJvdW5kUmVnZXhlcyA9IGFsbEdsb2JhbFJlZ2V4ZXMuZmlsdGVyKChyOiBhbnkpID0+IGJvdW5kUmVnZXhJZHMuaGFzKHIuaWQpKTtcblxuICAgICAgICBjb25zdCB7IHNob3dSZWdleEV4cG9ydFNlbGVjdGlvblBvcHVwIH0gPSBhd2FpdCBpbXBvcnQoJy4v6L6F5Yqp5by556qX5Yqf6IO9Jyk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkUmVnZXhlcyA9IGF3YWl0IHNob3dSZWdleEV4cG9ydFNlbGVjdGlvblBvcHVwKGJvdW5kUmVnZXhlcyk7XG5cbiAgICAgICAgaWYgKHNlbGVjdGVkUmVnZXhlcykge1xuICAgICAgICAgIChleHBvcnRCdW5kbGUgYXMgYW55KS5yZWdleERhdGEgPSBzZWxlY3RlZFJlZ2V4ZXM7XG4gICAgICAgICAgdG9hc3RyLmluZm8oYOW3suWwhiAke3NlbGVjdGVkUmVnZXhlcy5sZW5ndGh9IOadoeato+WImeaJk+WMheWvvOWHuuOAgmApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvYXN0ci5pbmZvKCflt7Llj5bmtojlr7zlh7rmraPliJnjgIInKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIOajgOafpeaYr+WQpuWMheWQq+WIhue7hOmFjee9rlxuICAgIGNvbnN0IGdyb3VwaW5nUHJlc2V0TmFtZSA9IGNvbmZpZ0RhdGEucHJlc2V0TmFtZTtcbiAgICBpZiAoZ3JvdXBpbmdQcmVzZXROYW1lKSB7XG4gICAgICBjb25zdCBncm91cGluZ0NvbmZpZyA9IGV4cG9ydFByZXNldEdyb3VwaW5nKGdyb3VwaW5nUHJlc2V0TmFtZSk7XG4gICAgICBpZiAoZ3JvdXBpbmdDb25maWcpIHtcbiAgICAgICAgY29uc3QgaW5jbHVkZUdyb3VwaW5nQ2hvaWNlID0gYXdhaXQgdHJpZ2dlclNsYXNoKFxuICAgICAgICAgIGAvcG9wdXAgb2tCdXR0b249XCLmmK9cIiBjYW5jZWxCdXR0b249XCLlkKZcIiByZXN1bHQ9dHJ1ZSBcIumihOiuviBcXFxcXCIke2dyb3VwaW5nUHJlc2V0TmFtZX1cXFxcXCIg5YyF5ZCr5p2h55uu5YiG57uE6K6+572u44CC5piv5ZCm6KaB5LiA6LW35a+85Ye677yfXCJgLFxuICAgICAgICApO1xuICAgICAgICBpZiAoaW5jbHVkZUdyb3VwaW5nQ2hvaWNlID09PSAnMScpIHtcbiAgICAgICAgICAoZXhwb3J0QnVuZGxlIGFzIGFueSkuZ3JvdXBpbmdDb25maWcgPSBncm91cGluZ0NvbmZpZztcbiAgICAgICAgICB0b2FzdHIuaW5mbygn5bey5bCG5YiG57uE6K6+572u5omT5YyF5a+85Ye644CCJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBkZWZhdWx0RmlsZU5hbWUgPSBgJHtjb25maWdOYW1lfV9idW5kbGVgO1xuICAgIGxldCB1c2VyRmlsZU5hbWUgPSBhd2FpdCB0cmlnZ2VyU2xhc2goYC9pbnB1dCBkZWZhdWx0PVwiJHtkZWZhdWx0RmlsZU5hbWV9XCIgXCLor7fovpPlhaXlr7zlh7rnmoTmlofku7blkI3vvIjml6DpnIDlkI7nvIDvvIlcImApO1xuXG4gICAgaWYgKCF1c2VyRmlsZU5hbWUgfHwgdXNlckZpbGVOYW1lLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgIHVzZXJGaWxlTmFtZSA9IGRlZmF1bHRGaWxlTmFtZTtcbiAgICAgIHRvYXN0ci5pbmZvKCfmlofku7blkI3kuLrnqbrvvIzlt7Lkvb/nlKjpu5jorqTlkI3np7DjgIInKTtcbiAgICB9XG4gICAgdXNlckZpbGVOYW1lID0gdXNlckZpbGVOYW1lLnRyaW0oKS5yZXBsYWNlKC9cXC5qc29uJC8sICcnKTtcblxuICAgIGNvbnN0IGpzb25TdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBvcnRCdW5kbGUsIG51bGwsIDIpO1xuICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbanNvblN0cmluZ10sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pO1xuICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGEuaHJlZiA9IHVybDtcbiAgICBhLmRvd25sb2FkID0gYCR7dXNlckZpbGVOYW1lfS5qc29uYDtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuICAgIGEuY2xpY2soKTtcbiAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgYS5yZW1vdmUoKTtcblxuICAgIHRvYXN0ci5zdWNjZXNzKGDphY3nva7ljIUgXCIke2NvbmZpZ05hbWV9XCIg5bey5a+85Ye644CCYCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign5a+85Ye66YWN572u5aSx6LSlOicsIGVycm9yKTtcbiAgICB0b2FzdHIuZXJyb3IoJ+WvvOWHuumFjee9ruWksei0pe+8jOivt+ajgOafpeaOp+WItuWPsOiOt+WPluabtOWkmuS/oeaBr+OAgicpO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVGaWxlSW1wb3J0KGV2ZW50OiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTtcbiAgaWYgKCFmaWxlKSByZXR1cm47XG5cbiAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgcmVhZGVyLm9ubG9hZCA9IGFzeW5jIGUgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb250ZW50ID0gZS50YXJnZXQ/LnJlc3VsdCBhcyBzdHJpbmc7XG4gICAgICBjb25zdCBwYXJzZWRDb250ZW50ID0gSlNPTi5wYXJzZShjb250ZW50KTtcblxuICAgICAgaWYgKHBhcnNlZENvbnRlbnQuZW50cmllcyAmJiB0eXBlb2YgcGFyc2VkQ29udGVudC5lbnRyaWVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICB0b2FzdHIuaW5mbygn5qOA5rWL5Yiw5LiW55WM5Lmm5aSH5Lu95paH5Lu244CCJyk7XG4gICAgICAgIGNvbnN0IGNvbmZpZ3NUb0ltcG9ydCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIE9iamVjdC52YWx1ZXMocGFyc2VkQ29udGVudC5lbnRyaWVzKSkge1xuICAgICAgICAgIGlmICgoZW50cnkgYXMgYW55KS5jb250ZW50KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBjb25maWcgPSBKU09OLnBhcnNlKChlbnRyeSBhcyBhbnkpLmNvbnRlbnQpO1xuICAgICAgICAgICAgICBpZiAoY29uZmlnLmlkICYmIGNvbmZpZy5uYW1lICYmIEFycmF5LmlzQXJyYXkoY29uZmlnLnN0YXRlcykpIHtcbiAgICAgICAgICAgICAgICBjb25maWdzVG9JbXBvcnQucHVzaChjb25maWcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgLy8g5b+955Wl6Kej5p6Q5aSx6LSl55qE5p2h55uuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWdzVG9JbXBvcnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IHsgc3RhcnRCYXRjaEltcG9ydEZsb3cgfSA9IGF3YWl0IGltcG9ydCgnLi/mibnph4/mk43kvZzlip/og70nKTtcbiAgICAgICAgICBhd2FpdCBzdGFydEJhdGNoSW1wb3J0Rmxvdyhjb25maWdzVG9JbXBvcnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvYXN0ci53YXJuaW5nKCfkuJbnlYzkuabmlofku7bkuK3mnKrmib7liLDmnInmlYjnmoTllrXllrXphY3nva7mlbDmja7jgIInKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJzZWRDb250ZW50LnJlbWFyaykge1xuICAgICAgICBjb25zdCB7IHNob3dSZW1hcmtQb3B1cCB9ID0gYXdhaXQgaW1wb3J0KCcuL+i+heWKqeW8ueeql+WKn+iDvScpO1xuICAgICAgICBhd2FpdCBzaG93UmVtYXJrUG9wdXAocGFyc2VkQ29udGVudC5yZW1hcmspO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyc2VkQ29udGVudC50eXBlID09PSAnTWlhb01pYW9QcmVzZXRNZWdhQnVuZGxlJykge1xuICAgICAgICBjb25zdCB7IGhhbmRsZU1lZ2FCdW5kbGVJbXBvcnQgfSA9IGF3YWl0IGltcG9ydCgnLi/mibnph4/mk43kvZzlip/og70nKTtcbiAgICAgICAgYXdhaXQgaGFuZGxlTWVnYUJ1bmRsZUltcG9ydChwYXJzZWRDb250ZW50KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsZXQgY29uZmlnVG9JbXBvcnQsIHByZXNldFRvSW1wb3J0LCByZWdleFRvSW1wb3J0LCBncm91cGluZ1RvSW1wb3J0O1xuXG4gICAgICBpZiAocGFyc2VkQ29udGVudC50eXBlID09PSAnTWlhb01pYW9QcmVzZXRCdW5kbGUnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfmo4DmtYvliLDmlbTlkIjljIXmlofku7bvvIzniYjmnKw6JywgcGFyc2VkQ29udGVudC52ZXJzaW9uKTtcbiAgICAgICAgdG9hc3RyLmluZm8oJ+ajgOa1i+WIsOaVtOWQiOWMheaWh+S7tuOAgicpO1xuICAgICAgICBjb25maWdUb0ltcG9ydCA9IHBhcnNlZENvbnRlbnQucHJlc2V0Q29uZmlnO1xuICAgICAgICBwcmVzZXRUb0ltcG9ydCA9IHBhcnNlZENvbnRlbnQucHJlc2V0RGF0YTtcbiAgICAgICAgcmVnZXhUb0ltcG9ydCA9IHBhcnNlZENvbnRlbnQucmVnZXhEYXRhO1xuICAgICAgICBncm91cGluZ1RvSW1wb3J0ID0gcGFyc2VkQ29udGVudC5ncm91cGluZ0NvbmZpZztcbiAgICAgICAgY29uc29sZS5sb2coJ+WIhue7hOmFjee9rjonLCBncm91cGluZ1RvSW1wb3J0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmZpZ1RvSW1wb3J0ID0gcGFyc2VkQ29udGVudDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFjb25maWdUb0ltcG9ydCB8fCB0eXBlb2YgY29uZmlnVG9JbXBvcnQucHJlc2V0TmFtZSAhPT0gJ3N0cmluZycgfHwgIUFycmF5LmlzQXJyYXkoY29uZmlnVG9JbXBvcnQuc3RhdGVzKSkge1xuICAgICAgICB0b2FzdHIuZXJyb3IoJ+WvvOWFpeWksei0pe+8mumFjee9ruaVsOaNruagvOW8j+S4jeato+ehruOAgicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChwcmVzZXRUb0ltcG9ydCkge1xuICAgICAgICBjb25zdCBpbXBvcnRQcmVzZXRDaG9pY2UgPSBhd2FpdCB0cmlnZ2VyU2xhc2goXG4gICAgICAgICAgYC9wb3B1cCBva0J1dHRvbj1cIuaYr1wiIGNhbmNlbEJ1dHRvbj1cIuWQplwiIHJlc3VsdD10cnVlIFwi5q2k5paH5Lu25YyF5ZCr6aKE6K6+5paH5Lu2IFxcXFxcIiR7cHJlc2V0VG9JbXBvcnQubmFtZX1cXFxcXCLjgILmmK/lkKblr7zlhaUv6KaG55uW77yfXCJgLFxuICAgICAgICApO1xuICAgICAgICBpZiAoaW1wb3J0UHJlc2V0Q2hvaWNlID09PSAnMScpIHtcbiAgICAgICAgICBhd2FpdCBUYXZlcm5IZWxwZXIuY3JlYXRlT3JSZXBsYWNlUHJlc2V0KHByZXNldFRvSW1wb3J0Lm5hbWUsIHByZXNldFRvSW1wb3J0KTtcbiAgICAgICAgICB0b2FzdHIuc3VjY2Vzcyhg6aKE6K6+5paH5Lu2IFwiJHtwcmVzZXRUb0ltcG9ydC5uYW1lfVwiIOW3suWvvOWFpeOAgmApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWdleFRvSW1wb3J0ICYmIHJlZ2V4VG9JbXBvcnQubGVuZ3RoID4gMCkge1xuICAgICAgICBhd2FpdCBpbXBvcnRSZWdleExvZ2ljKHJlZ2V4VG9JbXBvcnQpO1xuICAgICAgfVxuXG4gICAgICAvLyDlpITnkIbliIbnu4TphY3nva7lr7zlhaVcbiAgICAgIGlmIChncm91cGluZ1RvSW1wb3J0ICYmIEFycmF5LmlzQXJyYXkoZ3JvdXBpbmdUb0ltcG9ydCkgJiYgZ3JvdXBpbmdUb0ltcG9ydC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChjb25maWdUb0ltcG9ydC5wcmVzZXROYW1lKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCflr7zlhaXliIbnu4TphY3nva46JywgZ3JvdXBpbmdUb0ltcG9ydCk7XG4gICAgICAgICAgICBpbXBvcnRQcmVzZXRHcm91cGluZyhjb25maWdUb0ltcG9ydC5wcmVzZXROYW1lLCBncm91cGluZ1RvSW1wb3J0IGFzIFByb21wdEdyb3VwW10pO1xuICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ+W3suaIkOWKn+WvvOWFpeW5tuW6lOeUqOWIhue7hOiuvue9ruWIsOmihOiuvuOAgicpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCflr7zlhaXliIbnu4TphY3nva7lpLHotKU6JywgZXJyb3IpO1xuICAgICAgICAgICAgdG9hc3RyLmVycm9yKCflr7zlhaXliIbnu4TphY3nva7lpLHotKXvvJonICsgKGVycm9yIGFzIEVycm9yKS5tZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCfphY3nva7kuK3msqHmnInpooTorr7lkI3np7DvvIzml6Dms5Xlr7zlhaXliIbnu4TphY3nva4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBpbml0aWFsTmFtZSA9IGNvbmZpZ1RvSW1wb3J0Lm5hbWUgfHwgZmlsZS5uYW1lLnJlcGxhY2UoL19idW5kbGVcXC5qc29uJC9pLCAnJykucmVwbGFjZSgvXFwuanNvbiQvaSwgJycpO1xuICAgICAgbGV0IGNvbmZpZ05hbWUgPSBhd2FpdCB0cmlnZ2VyU2xhc2goYC9pbnB1dCBkZWZhdWx0PVwiJHtpbml0aWFsTmFtZX1cIiBcIuivt+i+k+WFpeWvvOWFpemFjee9rueahOWQjeensFwiYCk7XG4gICAgICBjb25maWdOYW1lID0gY29uZmlnTmFtZS50cmltKCk7XG4gICAgICBpZiAoIWNvbmZpZ05hbWUpIHtcbiAgICAgICAgdG9hc3RyLmluZm8oJ+WvvOWFpeW3suWPlua2iOOAgicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbmZpZ3MgPSBhd2FpdCBnZXRTdG9yZWRDb25maWdzKCk7XG4gICAgICBjb25maWdUb0ltcG9ydC5uYW1lID0gY29uZmlnTmFtZTtcbiAgICAgIGNvbmZpZ1RvSW1wb3J0LmlkID0gZ2VuZXJhdGVVbmlxdWVJZCgpOyAvLyBBbHdheXMgZ2VuZXJhdGUgbmV3IElEIGZvciBzaW5nbGUgaW1wb3J0XG4gICAgICBjb25maWdzW2NvbmZpZ1RvSW1wb3J0LmlkXSA9IGNvbmZpZ1RvSW1wb3J0O1xuICAgICAgYXdhaXQgc2V0U3RvcmVkQ29uZmlncyhjb25maWdzKTtcblxuICAgICAgdG9hc3RyLnN1Y2Nlc3MoYOmFjee9riBcIiR7Y29uZmlnTmFtZX1cIiDlt7LmiJDlip/lr7zlhaXjgIJgKTtcbiAgICAgIGF3YWl0IHJlbmRlckNvbmZpZ3NMaXN0KCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+WvvOWFpeaWh+S7tuWksei0pTonLCBlcnJvcik7XG4gICAgICB0b2FzdHIuZXJyb3IoJ+WvvOWFpeaWh+S7tuWksei0pe+8jOivt+ajgOafpeaOp+WItuWPsOiOt+WPluabtOWkmuS/oeaBr+OAgicpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAkKGV2ZW50LnRhcmdldCkudmFsKCcnKTtcbiAgICB9XG4gIH07XG4gIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/喵喵预设配置管理/导入导出功能.ts\n\n}");

/***/ }),

/***/ "./src/喵喵预设配置管理/批量操作功能.ts":
/*!********************************!*\
  !*** ./src/喵喵预设配置管理/批量操作功能.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleMegaBundleImport: () => (/* binding */ handleMegaBundleImport),\n/* harmony export */   showBatchDeletePopup: () => (/* binding */ showBatchDeletePopup),\n/* harmony export */   showBatchExportPopup: () => (/* binding */ showBatchExportPopup),\n/* harmony export */   startBatchImportFlow: () => (/* binding */ startBatchImportFlow)\n/* harmony export */ });\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./初始化和配置 */ \"./src/喵喵预设配置管理/初始化和配置.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./正则绑定功能 */ \"./src/喵喵预设配置管理/正则绑定功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./辅助弹窗功能 */ \"./src/喵喵预设配置管理/辅助弹窗功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./配置存储和读取 */ \"./src/喵喵预设配置管理/配置存储和读取.ts\");\n\n\n\n\nasync function showBatchExportPopup() {\n    const popupId = 'preset-manager-batch-export-popup';\n    $(`#${popupId}`).remove();\n    const configs = Object.values(await (0,___WEBPACK_IMPORTED_MODULE_3__.getStoredConfigs)());\n    if (configs.length === 0) {\n        toastr.info('没有可导出的配置。');\n        return;\n    }\n    const configsHtml = configs\n        .map(config => {\n        const safeName = $('<div/>').text(config.name).html();\n        return `\n            <div style=\"padding: 8px 5px; border-bottom: 1px solid #eee; display: flex; align-items: center;\">\n                <label style=\"cursor:pointer; display:flex; align-items:center; width: 100%;\">\n                    <input type=\"checkbox\" class=\"pm-batch-export-item\" value=\"${config.id}\" style=\"margin-right: 10px; transform: scale(1.2);\">\n                    <span>${safeName}</span>\n                </label>\n            </div>\n        `;\n    })\n        .join('');\n    const popupHtml = `\n        <div id=\"${popupId}\" style=\"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 10001; display: flex; align-items: center; justify-content: center;\">\n            <div style=\"background-color: #fff8f0; color: #3a2c2c; border-radius: 16px; padding: 20px; width: 90%; max-width: 450px; box-shadow: 0 4px 25px rgba(120,90,60,.25); display: flex; flex-direction: column; max-height: 80vh;\">\n                <h4 style=\"margin-top:0; color:#6a4226; text-align: center;\">选择要批量导出的配置</h4>\n                <div style=\"margin: 10px 0; display: flex; justify-content: space-around;\">\n                   <button id=\"batch-export-select-all\" style=\"padding: 6px 12px; background-color:#a5d6f9; border:none; border-radius:6px; cursor:pointer;\">全选</button>\n                   <button id=\"batch-export-deselect-all\" style=\"padding: 6px 12px; background-color:#e0e0e0; border:none; border-radius:6px; cursor:pointer;\">全不选</button>\n                </div>\n                <div style=\"flex: 1; min-height: 0; overflow-y: auto; margin-bottom: 20px; border-top: 1px solid #f0e2d0; border-bottom: 1px solid #f0e2d0; padding: 5px 10px;\">\n                    ${configsHtml}\n                </div>\n                <div style=\"text-align: right; display:flex; justify-content:flex-end; gap: 10px;\">\n                    <button id=\"batch-export-cancel\" style=\"padding: 8px 16px; background-color:#e0e0e0; border:none; border-radius:6px; cursor:pointer; color:#333;\">取消</button>\n                    <button id=\"batch-export-confirm\" style=\"padding: 8px 16px; background-color:#f4c78e; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#3a2c2c;\">确认导出</button>\n                </div>\n            </div>\n        </div>\n    `;\n    $('body').append(popupHtml);\n    const mobileStyles = `<style>\n        @media (max-width: 600px) { #${popupId} > div { margin-top: 5vh; } }\n    </style>`;\n    $(`#${popupId}`).append(mobileStyles);\n    $('#batch-export-select-all').on('click', () => $('.pm-batch-export-item').prop('checked', true));\n    $('#batch-export-deselect-all').on('click', () => $('.pm-batch-export-item').prop('checked', false));\n    $('#batch-export-cancel').on('click', () => $(`#${popupId}`).remove());\n    $('#batch-export-confirm').on('click', async () => {\n        const selectedIds = new Set();\n        $('.pm-batch-export-item:checked').each(function () {\n            selectedIds.add($(this).val());\n        });\n        const allConfigs = await (0,___WEBPACK_IMPORTED_MODULE_3__.getStoredConfigs)();\n        const selectedConfigs = Object.values(allConfigs).filter(c => selectedIds.has(c.id));\n        batchExportConfigs(selectedConfigs);\n        $(`#${popupId}`).remove();\n    });\n}\nasync function batchExportConfigs(selectedConfigs) {\n    if (selectedConfigs.length === 0) {\n        toastr.info('未选择任何配置。');\n        return;\n    }\n    try {\n        let userRemark = '';\n        const addRemarkChoice = await triggerSlash(`/popup okButton=\"是\" cancelButton=\"否\" result=true \"是否要为这个批量导出的整合包添加备注信息？\"`);\n        if (addRemarkChoice === '1') {\n            userRemark = await triggerSlash(`/input multiline=true placeholder=\"请输入备注，例如这批配置的共同特点...\" \"为整合包添加备注\"`);\n        }\n        const megaBundle = {\n            type: 'MiaoMiaoPresetMegaBundle',\n            version: 1,\n            remark: userRemark || '',\n            presetConfigs: {},\n            presets: {},\n            regexData: [],\n        };\n        const uniquePresetNames = new Set();\n        for (const configData of selectedConfigs) {\n            megaBundle.presetConfigs[configData.id] = configData;\n            if (configData.presetName) {\n                uniquePresetNames.add(configData.presetName);\n            }\n        }\n        if (uniquePresetNames.size > 0) {\n            const presetList = Array.from(uniquePresetNames).join(', ');\n            const includePresetsChoice = await triggerSlash(`/popup okButton=\"是\" cancelButton=\"否\" result=true \"您选择的配置关联了以下预设：${presetList}。是否要将这些预设文件一同打包导出？\"`);\n            if (includePresetsChoice === '1') {\n                let includedCount = 0;\n                for (const presetName of uniquePresetNames) {\n                    if (TavernHelper.getPresetNames().includes(presetName)) {\n                        const presetData = TavernHelper.getPreset(presetName);\n                        if (presetData) {\n                            megaBundle.presets[presetName] = presetData;\n                            includedCount++;\n                        }\n                    }\n                }\n                toastr.info(`已将 ${includedCount} 个预设文件打包。`);\n            }\n            else {\n                toastr.info('跳过预设文件导出。');\n            }\n        }\n        const includeRegexChoice = await triggerSlash(`/popup okButton=\"是\" cancelButton=\"否\" result=true \"是否需要选择一些全局正则脚本一同打包导出？\"`);\n        if (includeRegexChoice === '1') {\n            const allGlobalRegexes = await TavernHelper.getTavernRegexes({ scope: 'global' });\n            if (allGlobalRegexes.length === 0) {\n                toastr.info('没有可供导出的全局正则脚本。');\n            }\n            else {\n                const selectedRegexes = await (0,___WEBPACK_IMPORTED_MODULE_2__.showRegexExportSelectionPopup)(allGlobalRegexes);\n                if (selectedRegexes) {\n                    megaBundle.regexData = selectedRegexes;\n                    toastr.info(`已将 ${selectedRegexes.length} 条正则打包。`);\n                }\n                else {\n                    toastr.info('已取消选择正则，将不导出任何正则脚本。');\n                }\n            }\n        }\n        else {\n            toastr.info('跳过正则导出。');\n        }\n        const defaultFileName = 'MiaoMiao_Batch_Export';\n        let userFileName = await triggerSlash(`/input default=\"${defaultFileName}\" \"请输入批量导出的文件名（无需后缀）\"`);\n        if (!userFileName || userFileName.trim() === '') {\n            userFileName = defaultFileName;\n            toastr.info('文件名为空，已使用默认名称。');\n        }\n        userFileName = userFileName.trim().replace(/\\.json$/, '');\n        const jsonString = JSON.stringify(megaBundle, null, 2);\n        const blob = new Blob([jsonString], { type: 'application/json' });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `${userFileName}.json`;\n        document.body.appendChild(a);\n        a.click();\n        URL.revokeObjectURL(url);\n        a.remove();\n        toastr.success(`已成功导出 ${selectedConfigs.length} 个配置的整合包。`);\n    }\n    catch (error) {\n        console.error('批量导出失败:', error);\n        toastr.error('批量导出失败，请检查控制台。');\n    }\n}\nasync function startBatchImportFlow(configsToImport) {\n    const userChoices = await (0,___WEBPACK_IMPORTED_MODULE_2__.showBatchImportConfigSelectionPopup)(configsToImport);\n    if (!userChoices) {\n        toastr.info('配置导入已取消。');\n        return;\n    }\n    const importList = userChoices.filter((choice) => choice.import);\n    if (importList.length === 0) {\n        toastr.info('未选择要导入的配置。');\n        return;\n    }\n    const storedConfigs = await (0,___WEBPACK_IMPORTED_MODULE_3__.getStoredConfigs)();\n    importList.forEach((choice) => {\n        const config = configsToImport.find(c => c.id === choice.originalId);\n        if (config) {\n            const newConfig = { ...config }; // Create a copy\n            newConfig.name = choice.newName;\n            newConfig.id = (0,___WEBPACK_IMPORTED_MODULE_0__.generateUniqueId)(); // Assign a new unique ID on import\n            storedConfigs[newConfig.id] = newConfig;\n        }\n    });\n    await (0,___WEBPACK_IMPORTED_MODULE_3__.setStoredConfigs)(storedConfigs);\n    toastr.success(`成功导入 ${importList.length} 个配置。`);\n    await (0,___WEBPACK_IMPORTED_MODULE_3__.renderConfigsList)();\n}\nasync function handleMegaBundleImport(megaBundle) {\n    // 1. 导入预设\n    const presetsToImport = megaBundle.presets;\n    if (presetsToImport && Object.keys(presetsToImport).length > 0) {\n        const presetNames = Object.keys(presetsToImport).join(', ');\n        const importPresetChoice = await triggerSlash(`/popup okButton=\"是\" cancelButton=\"否\" result=true \"此文件包含预设: ${presetNames}。是否全部导入/覆盖？\"`);\n        if (importPresetChoice === '1') {\n            for (const presetName in presetsToImport) {\n                await TavernHelper.createOrReplacePreset(presetName, presetsToImport[presetName]);\n            }\n            toastr.success(`已导入 ${Object.keys(presetsToImport).length} 个预设。`);\n        }\n    }\n    // 2. 导入正则\n    const regexToImport = megaBundle.regexData;\n    if (regexToImport && regexToImport.length > 0) {\n        const importRegexChoice = await triggerSlash(`/popup okButton=\"是\" cancelButton=\"否\" result=true \"此文件包含 ${regexToImport.length} 条正则脚本。是否导入？\"`);\n        if (importRegexChoice === '1') {\n            await (0,___WEBPACK_IMPORTED_MODULE_1__.importRegexLogic)(regexToImport);\n        }\n    }\n    // 3. 导入配置\n    const configsToImport = Object.values(megaBundle.presetConfigs);\n    await startBatchImportFlow(configsToImport);\n}\nasync function showBatchDeletePopup() {\n    const popupId = 'preset-manager-batch-delete-popup';\n    $(`#${popupId}`).remove();\n    const configs = Object.values(await (0,___WEBPACK_IMPORTED_MODULE_3__.getStoredConfigs)());\n    if (configs.length === 0) {\n        toastr.info('没有可删除的配置。');\n        return;\n    }\n    const configsHtml = configs\n        .map(config => {\n        const safeName = $('<div/>').text(config.name).html();\n        return `\n            <div style=\"padding: 8px 5px; border-bottom: 1px solid #eee; display: flex; align-items: center;\">\n                <label style=\"cursor:pointer; display:flex; align-items:center; width: 100%;\">\n                    <input type=\"checkbox\" class=\"pm-batch-delete-item\" value=\"${config.id}\" style=\"margin-right: 10px; transform: scale(1.2);\">\n                    <span title=\"${safeName}\">${safeName}</span>\n                </label>\n            </div>\n        `;\n    })\n        .join('');\n    const popupHtml = `\n        <div id=\"${popupId}\" style=\"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 10001; display: flex; align-items: center; justify-content: center;\">\n            <div style=\"background-color: #fff8f0; color: #3a2c2c; border-radius: 16px; padding: 20px; width: 90%; max-width: 450px; box-shadow: 0 4px 25px rgba(120,90,60,.25); display: flex; flex-direction: column; max-height: 80vh;\">\n                <h4 style=\"margin-top:0; color:#c62828; text-align: center;\">选择要批量删除的配置</h4>\n                <div style=\"margin: 10px 0; display: flex; justify-content: space-around;\">\n                   <button id=\"batch-delete-select-all\" style=\"padding: 6px 12px; background-color:#a5d6f9; border:none; border-radius:6px; cursor:pointer;\">全选</button>\n                   <button id=\"batch-delete-deselect-all\" style=\"padding: 6px 12px; background-color:#e0e0e0; border:none; border-radius:6px; cursor:pointer;\">全不选</button>\n                </div>\n                <div style=\"flex: 1; min-height: 0; overflow-y: auto; margin-bottom: 20px; border-top: 1px solid #f0e2d0; border-bottom: 1px solid #f0e2d0; padding: 5px 10px;\">\n                    ${configsHtml}\n                </div>\n                <div style=\"text-align: right; display:flex; justify-content:flex-end; gap: 10px;\">\n                    <button id=\"batch-delete-cancel\" style=\"padding: 8px 16px; background-color:#e0e0e0; border:none; border-radius:6px; cursor:pointer; color:#333;\">取消</button>\n                    <button id=\"batch-delete-confirm\" style=\"padding: 8px 16px; background-color:#f44336; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#fff;\">确认删除</button>\n                </div>\n            </div>\n        </div>\n    `;\n    $('body').append(popupHtml);\n    const mobileStyles = `<style>@media (max-width: 600px) { #${popupId} { align-items: flex-start !important; } #${popupId} > div { margin-top: 200px; } }</style>`;\n    $(`#${popupId}`).append(mobileStyles);\n    $('#batch-delete-select-all').on('click', () => $('.pm-batch-delete-item').prop('checked', true));\n    $('#batch-delete-deselect-all').on('click', () => $('.pm-batch-delete-item').prop('checked', false));\n    $('#batch-delete-cancel').on('click', () => $(`#${popupId}`).remove());\n    $('#batch-delete-confirm').on('click', () => {\n        const selectedIds = [];\n        $('.pm-batch-delete-item:checked').each(function () {\n            selectedIds.push($(this).val());\n        });\n        batchDeleteConfigs(selectedIds);\n        $(`#${popupId}`).remove();\n    });\n}\nasync function batchDeleteConfigs(configIds) {\n    if (configIds.length === 0) {\n        toastr.info('未选择任何要删除的配置。');\n        return;\n    }\n    const confirm = await triggerSlash(`/popup okButton=\"确认删除\" cancelButton=\"取消\" result=true \"警告：您确定要删除选中的 ${configIds.length} 个配置吗？此操作无法撤销。\"`);\n    if (confirm !== '1') {\n        toastr.info('批量删除操作已取消。');\n        return;\n    }\n    try {\n        const storedConfigs = await (0,___WEBPACK_IMPORTED_MODULE_3__.getStoredConfigs)();\n        const idsToDelete = new Set(configIds);\n        Object.keys(storedConfigs).forEach(id => {\n            if (idsToDelete.has(id))\n                delete storedConfigs[id];\n        });\n        await (0,___WEBPACK_IMPORTED_MODULE_3__.setStoredConfigs)(storedConfigs);\n        toastr.success(`已成功删除 ${configIds.length} 个配置。`);\n        await (0,___WEBPACK_IMPORTED_MODULE_3__.renderConfigsList)();\n    }\n    catch (error) {\n        console.error('批量删除失败:', error);\n        toastr.error('批量删除失败，请检查控制台。');\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5Za15Za16aKE6K6+6YWN572u566h55CGL+aJuemHj+aTjeS9nOWKn+iDvS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE0QztBQUNBO0FBQ2tEO0FBQ0E7QUFFdkYsS0FBSyxVQUFVLG9CQUFvQjtJQUN4QyxNQUFNLE9BQU8sR0FBRyxtQ0FBbUMsQ0FBQztJQUNwRCxDQUFDLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBRTFCLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxtREFBZ0IsRUFBRSxDQUFDLENBQUM7SUFFeEQsSUFBSSxPQUFPLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQ3pCLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDekIsT0FBTztJQUNULENBQUM7SUFFRCxNQUFNLFdBQVcsR0FBRyxPQUFPO1NBQ3hCLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRTtRQUNaLE1BQU0sUUFBUSxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ3RELE9BQU87OztpRkFHb0UsTUFBTSxDQUFDLEVBQUU7NEJBQzlELFFBQVE7OztTQUczQixDQUFDO0lBQ04sQ0FBQyxDQUFDO1NBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBRVosTUFBTSxTQUFTLEdBQUc7bUJBQ0QsT0FBTzs7Ozs7Ozs7c0JBUUosV0FBVzs7Ozs7Ozs7S0FRNUIsQ0FBQztJQUVKLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7SUFFNUIsTUFBTSxZQUFZLEdBQUc7dUNBQ2dCLE9BQU87YUFDakMsQ0FBQztJQUNaLENBQUMsQ0FBQyxJQUFJLE9BQU8sRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBRXRD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QUUsT0FBTyxhQUFhLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDcEQsQ0FBQyxDQUFDLENBQUM7UUFDSCxNQUFNLG1EQUFnQixDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ3RDLE1BQU0sQ0FBQyxPQUFPLENBQUMsU0FBUyxTQUFTLENBQUMsTUFBTSxPQUFPLENBQUMsQ0FBQztRQUNqRCxNQUFNLG9EQUFpQixFQUFFLENBQUM7SUFDNUIsQ0FBQztJQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7UUFDZixPQUFPLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNoQyxNQUFNLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDakMsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+WWteWWtemihOiuvumFjee9rueuoeeQhi/mibnph4/mk43kvZzlip/og70udHM/Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdlbmVyYXRlVW5pcXVlSWQgfSBmcm9tICcuL+WIneWni+WMluWSjOmFjee9ric7XG5pbXBvcnQgeyBpbXBvcnRSZWdleExvZ2ljIH0gZnJvbSAnLi/mraPliJnnu5Hlrprlip/og70nO1xuaW1wb3J0IHsgc2hvd0JhdGNoSW1wb3J0Q29uZmlnU2VsZWN0aW9uUG9wdXAsIHNob3dSZWdleEV4cG9ydFNlbGVjdGlvblBvcHVwIH0gZnJvbSAnLi/ovoXliqnlvLnnqpflip/og70nO1xuaW1wb3J0IHsgQ29uZmlnRGF0YSwgZ2V0U3RvcmVkQ29uZmlncywgcmVuZGVyQ29uZmlnc0xpc3QsIHNldFN0b3JlZENvbmZpZ3MgfSBmcm9tICcuL+mFjee9ruWtmOWCqOWSjOivu+WPlic7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaG93QmF0Y2hFeHBvcnRQb3B1cCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgcG9wdXBJZCA9ICdwcmVzZXQtbWFuYWdlci1iYXRjaC1leHBvcnQtcG9wdXAnO1xuICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuXG4gIGNvbnN0IGNvbmZpZ3MgPSBPYmplY3QudmFsdWVzKGF3YWl0IGdldFN0b3JlZENvbmZpZ3MoKSk7XG5cbiAgaWYgKGNvbmZpZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgdG9hc3RyLmluZm8oJ+ayoeacieWPr+WvvOWHuueahOmFjee9ruOAgicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNvbmZpZ3NIdG1sID0gY29uZmlnc1xuICAgIC5tYXAoY29uZmlnID0+IHtcbiAgICAgIGNvbnN0IHNhZmVOYW1lID0gJCgnPGRpdi8+JykudGV4dChjb25maWcubmFtZSkuaHRtbCgpO1xuICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJwYWRkaW5nOiA4cHggNXB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjtcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9XCJjdXJzb3I6cG9pbnRlcjsgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IHdpZHRoOiAxMDAlO1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJwbS1iYXRjaC1leHBvcnQtaXRlbVwiIHZhbHVlPVwiJHtjb25maWcuaWR9XCIgc3R5bGU9XCJtYXJnaW4tcmlnaHQ6IDEwcHg7IHRyYW5zZm9ybTogc2NhbGUoMS4yKTtcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+JHtzYWZlTmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgIH0pXG4gICAgLmpvaW4oJycpO1xuXG4gIGNvbnN0IHBvcHVwSHRtbCA9IGBcbiAgICAgICAgPGRpdiBpZD1cIiR7cG9wdXBJZH1cIiBzdHlsZT1cInBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuNSk7IHotaW5kZXg6IDEwMDAxOyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcIj5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOGYwOyBjb2xvcjogIzNhMmMyYzsgYm9yZGVyLXJhZGl1czogMTZweDsgcGFkZGluZzogMjBweDsgd2lkdGg6IDkwJTsgbWF4LXdpZHRoOiA0NTBweDsgYm94LXNoYWRvdzogMCA0cHggMjVweCByZ2JhKDEyMCw5MCw2MCwuMjUpOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBtYXgtaGVpZ2h0OiA4MHZoO1wiPlxuICAgICAgICAgICAgICAgIDxoNCBzdHlsZT1cIm1hcmdpbi10b3A6MDsgY29sb3I6IzZhNDIyNjsgdGV4dC1hbGlnbjogY2VudGVyO1wiPumAieaLqeimgeaJuemHj+WvvOWHuueahOmFjee9rjwvaDQ+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbjogMTBweCAwOyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcIj5cbiAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiYmF0Y2gtZXhwb3J0LXNlbGVjdC1hbGxcIiBzdHlsZT1cInBhZGRpbmc6IDZweCAxMnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiNhNWQ2Zjk7IGJvcmRlcjpub25lOyBib3JkZXItcmFkaXVzOjZweDsgY3Vyc29yOnBvaW50ZXI7XCI+5YWo6YCJPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImJhdGNoLWV4cG9ydC1kZXNlbGVjdC1hbGxcIiBzdHlsZT1cInBhZGRpbmc6IDZweCAxMnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiNlMGUwZTA7IGJvcmRlcjpub25lOyBib3JkZXItcmFkaXVzOjZweDsgY3Vyc29yOnBvaW50ZXI7XCI+5YWo5LiN6YCJPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZsZXg6IDE7IG1pbi1oZWlnaHQ6IDA7IG92ZXJmbG93LXk6IGF1dG87IG1hcmdpbi1ib3R0b206IDIwcHg7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjZjBlMmQwOyBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2YwZTJkMDsgcGFkZGluZzogNXB4IDEwcHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICR7Y29uZmlnc0h0bWx9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0OyBkaXNwbGF5OmZsZXg7IGp1c3RpZnktY29udGVudDpmbGV4LWVuZDsgZ2FwOiAxMHB4O1wiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiYmF0Y2gtZXhwb3J0LWNhbmNlbFwiIHN0eWxlPVwicGFkZGluZzogOHB4IDE2cHg7IGJhY2tncm91bmQtY29sb3I6I2UwZTBlMDsgYm9yZGVyOm5vbmU7IGJvcmRlci1yYWRpdXM6NnB4OyBjdXJzb3I6cG9pbnRlcjsgY29sb3I6IzMzMztcIj7lj5bmtog8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImJhdGNoLWV4cG9ydC1jb25maXJtXCIgc3R5bGU9XCJwYWRkaW5nOiA4cHggMTZweDsgYmFja2dyb3VuZC1jb2xvcjojZjRjNzhlOyBib3JkZXI6bm9uZTsgYm9yZGVyLXJhZGl1czo2cHg7IGN1cnNvcjpwb2ludGVyOyBmb250LXdlaWdodDpib2xkOyBjb2xvcjojM2EyYzJjO1wiPuehruiupOWvvOWHujwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIGA7XG5cbiAgJCgnYm9keScpLmFwcGVuZChwb3B1cEh0bWwpO1xuXG4gIGNvbnN0IG1vYmlsZVN0eWxlcyA9IGA8c3R5bGU+XG4gICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkgeyAjJHtwb3B1cElkfSA+IGRpdiB7IG1hcmdpbi10b3A6IDV2aDsgfSB9XG4gICAgPC9zdHlsZT5gO1xuICAkKGAjJHtwb3B1cElkfWApLmFwcGVuZChtb2JpbGVTdHlsZXMpO1xuXG4gICQoJyNiYXRjaC1leHBvcnQtc2VsZWN0LWFsbCcpLm9uKCdjbGljaycsICgpID0+ICQoJy5wbS1iYXRjaC1leHBvcnQtaXRlbScpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKSk7XG4gICQoJyNiYXRjaC1leHBvcnQtZGVzZWxlY3QtYWxsJykub24oJ2NsaWNrJywgKCkgPT4gJCgnLnBtLWJhdGNoLWV4cG9ydC1pdGVtJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKSk7XG4gICQoJyNiYXRjaC1leHBvcnQtY2FuY2VsJykub24oJ2NsaWNrJywgKCkgPT4gJChgIyR7cG9wdXBJZH1gKS5yZW1vdmUoKSk7XG4gICQoJyNiYXRjaC1leHBvcnQtY29uZmlybScpLm9uKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzZWxlY3RlZElkcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICQoJy5wbS1iYXRjaC1leHBvcnQtaXRlbTpjaGVja2VkJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBzZWxlY3RlZElkcy5hZGQoJCh0aGlzKS52YWwoKSBhcyBzdHJpbmcpO1xuICAgIH0pO1xuICAgIGNvbnN0IGFsbENvbmZpZ3MgPSBhd2FpdCBnZXRTdG9yZWRDb25maWdzKCk7XG4gICAgY29uc3Qgc2VsZWN0ZWRDb25maWdzID0gT2JqZWN0LnZhbHVlcyhhbGxDb25maWdzKS5maWx0ZXIoYyA9PiBzZWxlY3RlZElkcy5oYXMoYy5pZCkpO1xuICAgIGJhdGNoRXhwb3J0Q29uZmlncyhzZWxlY3RlZENvbmZpZ3MpO1xuICAgICQoYCMke3BvcHVwSWR9YCkucmVtb3ZlKCk7XG4gIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBiYXRjaEV4cG9ydENvbmZpZ3Moc2VsZWN0ZWRDb25maWdzOiBDb25maWdEYXRhW10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKHNlbGVjdGVkQ29uZmlncy5sZW5ndGggPT09IDApIHtcbiAgICB0b2FzdHIuaW5mbygn5pyq6YCJ5oup5Lu75L2V6YWN572u44CCJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBsZXQgdXNlclJlbWFyayA9ICcnO1xuICAgIGNvbnN0IGFkZFJlbWFya0Nob2ljZSA9IGF3YWl0IHRyaWdnZXJTbGFzaChcbiAgICAgIGAvcG9wdXAgb2tCdXR0b249XCLmmK9cIiBjYW5jZWxCdXR0b249XCLlkKZcIiByZXN1bHQ9dHJ1ZSBcIuaYr+WQpuimgeS4uui/meS4quaJuemHj+WvvOWHuueahOaVtOWQiOWMhea3u+WKoOWkh+azqOS/oeaBr++8n1wiYCxcbiAgICApO1xuICAgIGlmIChhZGRSZW1hcmtDaG9pY2UgPT09ICcxJykge1xuICAgICAgdXNlclJlbWFyayA9IGF3YWl0IHRyaWdnZXJTbGFzaChcbiAgICAgICAgYC9pbnB1dCBtdWx0aWxpbmU9dHJ1ZSBwbGFjZWhvbGRlcj1cIuivt+i+k+WFpeWkh+azqO+8jOS+i+Wmgui/meaJuemFjee9rueahOWFseWQjOeJueeCuS4uLlwiIFwi5Li65pW05ZCI5YyF5re75Yqg5aSH5rOoXCJgLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBtZWdhQnVuZGxlID0ge1xuICAgICAgdHlwZTogJ01pYW9NaWFvUHJlc2V0TWVnYUJ1bmRsZScsXG4gICAgICB2ZXJzaW9uOiAxLFxuICAgICAgcmVtYXJrOiB1c2VyUmVtYXJrIHx8ICcnLFxuICAgICAgcHJlc2V0Q29uZmlnczoge30gYXMgUmVjb3JkPHN0cmluZywgQ29uZmlnRGF0YT4sXG4gICAgICBwcmVzZXRzOiB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgICAgcmVnZXhEYXRhOiBbXSBhcyBhbnlbXSxcbiAgICB9O1xuXG4gICAgY29uc3QgdW5pcXVlUHJlc2V0TmFtZXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuICAgIGZvciAoY29uc3QgY29uZmlnRGF0YSBvZiBzZWxlY3RlZENvbmZpZ3MpIHtcbiAgICAgIG1lZ2FCdW5kbGUucHJlc2V0Q29uZmlnc1tjb25maWdEYXRhLmlkXSA9IGNvbmZpZ0RhdGE7XG4gICAgICBpZiAoY29uZmlnRGF0YS5wcmVzZXROYW1lKSB7XG4gICAgICAgIHVuaXF1ZVByZXNldE5hbWVzLmFkZChjb25maWdEYXRhLnByZXNldE5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1bmlxdWVQcmVzZXROYW1lcy5zaXplID4gMCkge1xuICAgICAgY29uc3QgcHJlc2V0TGlzdCA9IEFycmF5LmZyb20odW5pcXVlUHJlc2V0TmFtZXMpLmpvaW4oJywgJyk7XG4gICAgICBjb25zdCBpbmNsdWRlUHJlc2V0c0Nob2ljZSA9IGF3YWl0IHRyaWdnZXJTbGFzaChcbiAgICAgICAgYC9wb3B1cCBva0J1dHRvbj1cIuaYr1wiIGNhbmNlbEJ1dHRvbj1cIuWQplwiIHJlc3VsdD10cnVlIFwi5oKo6YCJ5oup55qE6YWN572u5YWz6IGU5LqG5Lul5LiL6aKE6K6+77yaJHtwcmVzZXRMaXN0feOAguaYr+WQpuimgeWwhui/meS6m+mihOiuvuaWh+S7tuS4gOWQjOaJk+WMheWvvOWHuu+8n1wiYCxcbiAgICAgICk7XG4gICAgICBpZiAoaW5jbHVkZVByZXNldHNDaG9pY2UgPT09ICcxJykge1xuICAgICAgICBsZXQgaW5jbHVkZWRDb3VudCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgcHJlc2V0TmFtZSBvZiB1bmlxdWVQcmVzZXROYW1lcykge1xuICAgICAgICAgIGlmIChUYXZlcm5IZWxwZXIuZ2V0UHJlc2V0TmFtZXMoKS5pbmNsdWRlcyhwcmVzZXROYW1lKSkge1xuICAgICAgICAgICAgY29uc3QgcHJlc2V0RGF0YSA9IFRhdmVybkhlbHBlci5nZXRQcmVzZXQocHJlc2V0TmFtZSk7XG4gICAgICAgICAgICBpZiAocHJlc2V0RGF0YSkge1xuICAgICAgICAgICAgICBtZWdhQnVuZGxlLnByZXNldHNbcHJlc2V0TmFtZV0gPSBwcmVzZXREYXRhO1xuICAgICAgICAgICAgICBpbmNsdWRlZENvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRvYXN0ci5pbmZvKGDlt7LlsIYgJHtpbmNsdWRlZENvdW50fSDkuKrpooTorr7mlofku7bmiZPljIXjgIJgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvYXN0ci5pbmZvKCfot7Pov4fpooTorr7mlofku7blr7zlh7rjgIInKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBpbmNsdWRlUmVnZXhDaG9pY2UgPSBhd2FpdCB0cmlnZ2VyU2xhc2goXG4gICAgICBgL3BvcHVwIG9rQnV0dG9uPVwi5pivXCIgY2FuY2VsQnV0dG9uPVwi5ZCmXCIgcmVzdWx0PXRydWUgXCLmmK/lkKbpnIDopoHpgInmi6nkuIDkupvlhajlsYDmraPliJnohJrmnKzkuIDlkIzmiZPljIXlr7zlh7rvvJ9cImAsXG4gICAgKTtcbiAgICBpZiAoaW5jbHVkZVJlZ2V4Q2hvaWNlID09PSAnMScpIHtcbiAgICAgIGNvbnN0IGFsbEdsb2JhbFJlZ2V4ZXMgPSBhd2FpdCBUYXZlcm5IZWxwZXIuZ2V0VGF2ZXJuUmVnZXhlcyh7IHNjb3BlOiAnZ2xvYmFsJyB9KTtcbiAgICAgIGlmIChhbGxHbG9iYWxSZWdleGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0b2FzdHIuaW5mbygn5rKh5pyJ5Y+v5L6b5a+85Ye655qE5YWo5bGA5q2j5YiZ6ISa5pys44CCJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzZWxlY3RlZFJlZ2V4ZXMgPSBhd2FpdCBzaG93UmVnZXhFeHBvcnRTZWxlY3Rpb25Qb3B1cChhbGxHbG9iYWxSZWdleGVzKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkUmVnZXhlcykge1xuICAgICAgICAgIG1lZ2FCdW5kbGUucmVnZXhEYXRhID0gc2VsZWN0ZWRSZWdleGVzO1xuICAgICAgICAgIHRvYXN0ci5pbmZvKGDlt7LlsIYgJHtzZWxlY3RlZFJlZ2V4ZXMubGVuZ3RofSDmnaHmraPliJnmiZPljIXjgIJgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b2FzdHIuaW5mbygn5bey5Y+W5raI6YCJ5oup5q2j5YiZ77yM5bCG5LiN5a+85Ye65Lu75L2V5q2j5YiZ6ISa5pys44CCJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdG9hc3RyLmluZm8oJ+i3s+i/h+ato+WImeWvvOWHuuOAgicpO1xuICAgIH1cblxuICAgIGNvbnN0IGRlZmF1bHRGaWxlTmFtZSA9ICdNaWFvTWlhb19CYXRjaF9FeHBvcnQnO1xuICAgIGxldCB1c2VyRmlsZU5hbWUgPSBhd2FpdCB0cmlnZ2VyU2xhc2goYC9pbnB1dCBkZWZhdWx0PVwiJHtkZWZhdWx0RmlsZU5hbWV9XCIgXCLor7fovpPlhaXmibnph4/lr7zlh7rnmoTmlofku7blkI3vvIjml6DpnIDlkI7nvIDvvIlcImApO1xuXG4gICAgaWYgKCF1c2VyRmlsZU5hbWUgfHwgdXNlckZpbGVOYW1lLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgIHVzZXJGaWxlTmFtZSA9IGRlZmF1bHRGaWxlTmFtZTtcbiAgICAgIHRvYXN0ci5pbmZvKCfmlofku7blkI3kuLrnqbrvvIzlt7Lkvb/nlKjpu5jorqTlkI3np7DjgIInKTtcbiAgICB9XG4gICAgdXNlckZpbGVOYW1lID0gdXNlckZpbGVOYW1lLnRyaW0oKS5yZXBsYWNlKC9cXC5qc29uJC8sICcnKTtcblxuICAgIGNvbnN0IGpzb25TdHJpbmcgPSBKU09OLnN0cmluZ2lmeShtZWdhQnVuZGxlLCBudWxsLCAyKTtcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2pzb25TdHJpbmddLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KTtcbiAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG4gICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBhLmhyZWYgPSB1cmw7XG4gICAgYS5kb3dubG9hZCA9IGAke3VzZXJGaWxlTmFtZX0uanNvbmA7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICBhLmNsaWNrKCk7XG4gICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgIGEucmVtb3ZlKCk7XG5cbiAgICB0b2FzdHIuc3VjY2Vzcyhg5bey5oiQ5Yqf5a+85Ye6ICR7c2VsZWN0ZWRDb25maWdzLmxlbmd0aH0g5Liq6YWN572u55qE5pW05ZCI5YyF44CCYCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign5om56YeP5a+85Ye65aSx6LSlOicsIGVycm9yKTtcbiAgICB0b2FzdHIuZXJyb3IoJ+aJuemHj+WvvOWHuuWksei0pe+8jOivt+ajgOafpeaOp+WItuWPsOOAgicpO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdGFydEJhdGNoSW1wb3J0Rmxvdyhjb25maWdzVG9JbXBvcnQ6IENvbmZpZ0RhdGFbXSk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCB1c2VyQ2hvaWNlcyA9IGF3YWl0IHNob3dCYXRjaEltcG9ydENvbmZpZ1NlbGVjdGlvblBvcHVwKGNvbmZpZ3NUb0ltcG9ydCk7XG5cbiAgaWYgKCF1c2VyQ2hvaWNlcykge1xuICAgIHRvYXN0ci5pbmZvKCfphY3nva7lr7zlhaXlt7Llj5bmtojjgIInKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBpbXBvcnRMaXN0ID0gdXNlckNob2ljZXMuZmlsdGVyKChjaG9pY2U6IGFueSkgPT4gY2hvaWNlLmltcG9ydCk7XG4gIGlmIChpbXBvcnRMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHRvYXN0ci5pbmZvKCfmnKrpgInmi6nopoHlr7zlhaXnmoTphY3nva7jgIInKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBzdG9yZWRDb25maWdzID0gYXdhaXQgZ2V0U3RvcmVkQ29uZmlncygpO1xuICBpbXBvcnRMaXN0LmZvckVhY2goKGNob2ljZTogYW55KSA9PiB7XG4gICAgY29uc3QgY29uZmlnID0gY29uZmlnc1RvSW1wb3J0LmZpbmQoYyA9PiBjLmlkID09PSBjaG9pY2Uub3JpZ2luYWxJZCk7XG4gICAgaWYgKGNvbmZpZykge1xuICAgICAgY29uc3QgbmV3Q29uZmlnID0geyAuLi5jb25maWcgfTsgLy8gQ3JlYXRlIGEgY29weVxuICAgICAgbmV3Q29uZmlnLm5hbWUgPSBjaG9pY2UubmV3TmFtZTtcbiAgICAgIG5ld0NvbmZpZy5pZCA9IGdlbmVyYXRlVW5pcXVlSWQoKTsgLy8gQXNzaWduIGEgbmV3IHVuaXF1ZSBJRCBvbiBpbXBvcnRcbiAgICAgIHN0b3JlZENvbmZpZ3NbbmV3Q29uZmlnLmlkXSA9IG5ld0NvbmZpZztcbiAgICB9XG4gIH0pO1xuXG4gIGF3YWl0IHNldFN0b3JlZENvbmZpZ3Moc3RvcmVkQ29uZmlncyk7XG4gIHRvYXN0ci5zdWNjZXNzKGDmiJDlip/lr7zlhaUgJHtpbXBvcnRMaXN0Lmxlbmd0aH0g5Liq6YWN572u44CCYCk7XG4gIGF3YWl0IHJlbmRlckNvbmZpZ3NMaXN0KCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVNZWdhQnVuZGxlSW1wb3J0KG1lZ2FCdW5kbGU6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAvLyAxLiDlr7zlhaXpooTorr5cbiAgY29uc3QgcHJlc2V0c1RvSW1wb3J0ID0gbWVnYUJ1bmRsZS5wcmVzZXRzO1xuICBpZiAocHJlc2V0c1RvSW1wb3J0ICYmIE9iamVjdC5rZXlzKHByZXNldHNUb0ltcG9ydCkubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IHByZXNldE5hbWVzID0gT2JqZWN0LmtleXMocHJlc2V0c1RvSW1wb3J0KS5qb2luKCcsICcpO1xuICAgIGNvbnN0IGltcG9ydFByZXNldENob2ljZSA9IGF3YWl0IHRyaWdnZXJTbGFzaChcbiAgICAgIGAvcG9wdXAgb2tCdXR0b249XCLmmK9cIiBjYW5jZWxCdXR0b249XCLlkKZcIiByZXN1bHQ9dHJ1ZSBcIuatpOaWh+S7tuWMheWQq+mihOiuvjogJHtwcmVzZXROYW1lc33jgILmmK/lkKblhajpg6jlr7zlhaUv6KaG55uW77yfXCJgLFxuICAgICk7XG4gICAgaWYgKGltcG9ydFByZXNldENob2ljZSA9PT0gJzEnKSB7XG4gICAgICBmb3IgKGNvbnN0IHByZXNldE5hbWUgaW4gcHJlc2V0c1RvSW1wb3J0KSB7XG4gICAgICAgIGF3YWl0IFRhdmVybkhlbHBlci5jcmVhdGVPclJlcGxhY2VQcmVzZXQocHJlc2V0TmFtZSwgcHJlc2V0c1RvSW1wb3J0W3ByZXNldE5hbWVdKTtcbiAgICAgIH1cbiAgICAgIHRvYXN0ci5zdWNjZXNzKGDlt7Llr7zlhaUgJHtPYmplY3Qua2V5cyhwcmVzZXRzVG9JbXBvcnQpLmxlbmd0aH0g5Liq6aKE6K6+44CCYCk7XG4gICAgfVxuICB9XG5cbiAgLy8gMi4g5a+85YWl5q2j5YiZXG4gIGNvbnN0IHJlZ2V4VG9JbXBvcnQgPSBtZWdhQnVuZGxlLnJlZ2V4RGF0YTtcbiAgaWYgKHJlZ2V4VG9JbXBvcnQgJiYgcmVnZXhUb0ltcG9ydC5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgaW1wb3J0UmVnZXhDaG9pY2UgPSBhd2FpdCB0cmlnZ2VyU2xhc2goXG4gICAgICBgL3BvcHVwIG9rQnV0dG9uPVwi5pivXCIgY2FuY2VsQnV0dG9uPVwi5ZCmXCIgcmVzdWx0PXRydWUgXCLmraTmlofku7bljIXlkKsgJHtyZWdleFRvSW1wb3J0Lmxlbmd0aH0g5p2h5q2j5YiZ6ISa5pys44CC5piv5ZCm5a+85YWl77yfXCJgLFxuICAgICk7XG4gICAgaWYgKGltcG9ydFJlZ2V4Q2hvaWNlID09PSAnMScpIHtcbiAgICAgIGF3YWl0IGltcG9ydFJlZ2V4TG9naWMocmVnZXhUb0ltcG9ydCk7XG4gICAgfVxuICB9XG5cbiAgLy8gMy4g5a+85YWl6YWN572uXG4gIGNvbnN0IGNvbmZpZ3NUb0ltcG9ydCA9IE9iamVjdC52YWx1ZXMobWVnYUJ1bmRsZS5wcmVzZXRDb25maWdzKTtcbiAgYXdhaXQgc3RhcnRCYXRjaEltcG9ydEZsb3coY29uZmlnc1RvSW1wb3J0KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNob3dCYXRjaERlbGV0ZVBvcHVwKCk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBwb3B1cElkID0gJ3ByZXNldC1tYW5hZ2VyLWJhdGNoLWRlbGV0ZS1wb3B1cCc7XG4gICQoYCMke3BvcHVwSWR9YCkucmVtb3ZlKCk7XG5cbiAgY29uc3QgY29uZmlncyA9IE9iamVjdC52YWx1ZXMoYXdhaXQgZ2V0U3RvcmVkQ29uZmlncygpKTtcbiAgaWYgKGNvbmZpZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgdG9hc3RyLmluZm8oJ+ayoeacieWPr+WIoOmZpOeahOmFjee9ruOAgicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNvbmZpZ3NIdG1sID0gY29uZmlnc1xuICAgIC5tYXAoY29uZmlnID0+IHtcbiAgICAgIGNvbnN0IHNhZmVOYW1lID0gJCgnPGRpdi8+JykudGV4dChjb25maWcubmFtZSkuaHRtbCgpO1xuICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJwYWRkaW5nOiA4cHggNXB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjtcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9XCJjdXJzb3I6cG9pbnRlcjsgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IHdpZHRoOiAxMDAlO1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJwbS1iYXRjaC1kZWxldGUtaXRlbVwiIHZhbHVlPVwiJHtjb25maWcuaWR9XCIgc3R5bGU9XCJtYXJnaW4tcmlnaHQ6IDEwcHg7IHRyYW5zZm9ybTogc2NhbGUoMS4yKTtcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gdGl0bGU9XCIke3NhZmVOYW1lfVwiPiR7c2FmZU5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICB9KVxuICAgIC5qb2luKCcnKTtcblxuICBjb25zdCBwb3B1cEh0bWwgPSBgXG4gICAgICAgIDxkaXYgaWQ9XCIke3BvcHVwSWR9XCIgc3R5bGU9XCJwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjUpOyB6LWluZGV4OiAxMDAwMTsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XCI+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogI2ZmZjhmMDsgY29sb3I6ICMzYTJjMmM7IGJvcmRlci1yYWRpdXM6IDE2cHg7IHBhZGRpbmc6IDIwcHg7IHdpZHRoOiA5MCU7IG1heC13aWR0aDogNDUwcHg7IGJveC1zaGFkb3c6IDAgNHB4IDI1cHggcmdiYSgxMjAsOTAsNjAsLjI1KTsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgbWF4LWhlaWdodDogODB2aDtcIj5cbiAgICAgICAgICAgICAgICA8aDQgc3R5bGU9XCJtYXJnaW4tdG9wOjA7IGNvbG9yOiNjNjI4Mjg7IHRleHQtYWxpZ246IGNlbnRlcjtcIj7pgInmi6nopoHmibnph4/liKDpmaTnmoTphY3nva48L2g0PlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW46IDEwcHggMDsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XCI+XG4gICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImJhdGNoLWRlbGV0ZS1zZWxlY3QtYWxsXCIgc3R5bGU9XCJwYWRkaW5nOiA2cHggMTJweDsgYmFja2dyb3VuZC1jb2xvcjojYTVkNmY5OyBib3JkZXI6bm9uZTsgYm9yZGVyLXJhZGl1czo2cHg7IGN1cnNvcjpwb2ludGVyO1wiPuWFqOmAiTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJiYXRjaC1kZWxldGUtZGVzZWxlY3QtYWxsXCIgc3R5bGU9XCJwYWRkaW5nOiA2cHggMTJweDsgYmFja2dyb3VuZC1jb2xvcjojZTBlMGUwOyBib3JkZXI6bm9uZTsgYm9yZGVyLXJhZGl1czo2cHg7IGN1cnNvcjpwb2ludGVyO1wiPuWFqOS4jemAiTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJmbGV4OiAxOyBtaW4taGVpZ2h0OiAwOyBvdmVyZmxvdy15OiBhdXRvOyBtYXJnaW4tYm90dG9tOiAyMHB4OyBib3JkZXItdG9wOiAxcHggc29saWQgI2YwZTJkMDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmMGUyZDA7IHBhZGRpbmc6IDVweCAxMHB4O1wiPlxuICAgICAgICAgICAgICAgICAgICAke2NvbmZpZ3NIdG1sfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiByaWdodDsgZGlzcGxheTpmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7IGdhcDogMTBweDtcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImJhdGNoLWRlbGV0ZS1jYW5jZWxcIiBzdHlsZT1cInBhZGRpbmc6IDhweCAxNnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiNlMGUwZTA7IGJvcmRlcjpub25lOyBib3JkZXItcmFkaXVzOjZweDsgY3Vyc29yOnBvaW50ZXI7IGNvbG9yOiMzMzM7XCI+5Y+W5raIPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJiYXRjaC1kZWxldGUtY29uZmlybVwiIHN0eWxlPVwicGFkZGluZzogOHB4IDE2cHg7IGJhY2tncm91bmQtY29sb3I6I2Y0NDMzNjsgYm9yZGVyOm5vbmU7IGJvcmRlci1yYWRpdXM6NnB4OyBjdXJzb3I6cG9pbnRlcjsgZm9udC13ZWlnaHQ6Ym9sZDsgY29sb3I6I2ZmZjtcIj7noa7orqTliKDpmaQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICBgO1xuXG4gICQoJ2JvZHknKS5hcHBlbmQocG9wdXBIdG1sKTtcbiAgY29uc3QgbW9iaWxlU3R5bGVzID0gYDxzdHlsZT5AbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHsgIyR7cG9wdXBJZH0geyBhbGlnbi1pdGVtczogZmxleC1zdGFydCAhaW1wb3J0YW50OyB9ICMke3BvcHVwSWR9ID4gZGl2IHsgbWFyZ2luLXRvcDogMjAwcHg7IH0gfTwvc3R5bGU+YDtcbiAgJChgIyR7cG9wdXBJZH1gKS5hcHBlbmQobW9iaWxlU3R5bGVzKTtcblxuICAkKCcjYmF0Y2gtZGVsZXRlLXNlbGVjdC1hbGwnKS5vbignY2xpY2snLCAoKSA9PiAkKCcucG0tYmF0Y2gtZGVsZXRlLWl0ZW0nKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSkpO1xuICAkKCcjYmF0Y2gtZGVsZXRlLWRlc2VsZWN0LWFsbCcpLm9uKCdjbGljaycsICgpID0+ICQoJy5wbS1iYXRjaC1kZWxldGUtaXRlbScpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSkpO1xuICAkKCcjYmF0Y2gtZGVsZXRlLWNhbmNlbCcpLm9uKCdjbGljaycsICgpID0+ICQoYCMke3BvcHVwSWR9YCkucmVtb3ZlKCkpO1xuICAkKCcjYmF0Y2gtZGVsZXRlLWNvbmZpcm0nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3Qgc2VsZWN0ZWRJZHM6IHN0cmluZ1tdID0gW107XG4gICAgJCgnLnBtLWJhdGNoLWRlbGV0ZS1pdGVtOmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGVjdGVkSWRzLnB1c2goJCh0aGlzKS52YWwoKSBhcyBzdHJpbmcpO1xuICAgIH0pO1xuICAgIGJhdGNoRGVsZXRlQ29uZmlncyhzZWxlY3RlZElkcyk7XG4gICAgJChgIyR7cG9wdXBJZH1gKS5yZW1vdmUoKTtcbiAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGJhdGNoRGVsZXRlQ29uZmlncyhjb25maWdJZHM6IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmIChjb25maWdJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgdG9hc3RyLmluZm8oJ+acqumAieaLqeS7u+S9leimgeWIoOmZpOeahOmFjee9ruOAgicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNvbmZpcm0gPSBhd2FpdCB0cmlnZ2VyU2xhc2goXG4gICAgYC9wb3B1cCBva0J1dHRvbj1cIuehruiupOWIoOmZpFwiIGNhbmNlbEJ1dHRvbj1cIuWPlua2iFwiIHJlc3VsdD10cnVlIFwi6K2m5ZGK77ya5oKo56Gu5a6a6KaB5Yig6Zmk6YCJ5Lit55qEICR7Y29uZmlnSWRzLmxlbmd0aH0g5Liq6YWN572u5ZCX77yf5q2k5pON5L2c5peg5rOV5pKk6ZSA44CCXCJgLFxuICApO1xuICBpZiAoY29uZmlybSAhPT0gJzEnKSB7XG4gICAgdG9hc3RyLmluZm8oJ+aJuemHj+WIoOmZpOaTjeS9nOW3suWPlua2iOOAgicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3Qgc3RvcmVkQ29uZmlncyA9IGF3YWl0IGdldFN0b3JlZENvbmZpZ3MoKTtcbiAgICBjb25zdCBpZHNUb0RlbGV0ZSA9IG5ldyBTZXQoY29uZmlnSWRzKTtcbiAgICBPYmplY3Qua2V5cyhzdG9yZWRDb25maWdzKS5mb3JFYWNoKGlkID0+IHtcbiAgICAgIGlmIChpZHNUb0RlbGV0ZS5oYXMoaWQpKSBkZWxldGUgc3RvcmVkQ29uZmlnc1tpZF07XG4gICAgfSk7XG4gICAgYXdhaXQgc2V0U3RvcmVkQ29uZmlncyhzdG9yZWRDb25maWdzKTtcbiAgICB0b2FzdHIuc3VjY2Vzcyhg5bey5oiQ5Yqf5Yig6ZmkICR7Y29uZmlnSWRzLmxlbmd0aH0g5Liq6YWN572u44CCYCk7XG4gICAgYXdhaXQgcmVuZGVyQ29uZmlnc0xpc3QoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfmibnph4/liKDpmaTlpLHotKU6JywgZXJyb3IpO1xuICAgIHRvYXN0ci5lcnJvcign5om56YeP5Yig6Zmk5aSx6LSl77yM6K+35qOA5p+l5o6n5Yi25Y+w44CCJyk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/喵喵预设配置管理/批量操作功能.ts\n\n}");

/***/ }),

/***/ "./src/喵喵预设配置管理/条目分组功能.ts":
/*!********************************!*\
  !*** ./src/喵喵预设配置管理/条目分组功能.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearAllGrouping: () => (/* binding */ clearAllGrouping),\n/* harmony export */   clearPresetGrouping: () => (/* binding */ clearPresetGrouping),\n/* harmony export */   exportPresetGrouping: () => (/* binding */ exportPresetGrouping),\n/* harmony export */   forceRestoreGrouping: () => (/* binding */ forceRestoreGrouping),\n/* harmony export */   getAllPresetGroupings: () => (/* binding */ getAllPresetGroupings),\n/* harmony export */   getCurrentPresetPrompts: () => (/* binding */ getCurrentPresetPrompts),\n/* harmony export */   importPresetGrouping: () => (/* binding */ importPresetGrouping),\n/* harmony export */   restoreGroupingDelayed: () => (/* binding */ restoreGroupingDelayed),\n/* harmony export */   restoreGroupingFromConfig: () => (/* binding */ restoreGroupingFromConfig),\n/* harmony export */   restoreGroupingImmediate: () => (/* binding */ restoreGroupingImmediate),\n/* harmony export */   showPromptGroupingUI: () => (/* binding */ showPromptGroupingUI),\n/* harmony export */   triggerGroupingRestore: () => (/* binding */ triggerGroupingRestore)\n/* harmony export */ });\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./初始化和配置 */ \"./src/喵喵预设配置管理/初始化和配置.ts\");\n// 防重复加载检查\nif (window.miaomiaoPromptGroupingLoaded) {\n    console.log('喵喵预设配置管理 - 条目分组功能已加载，跳过重复加载');\n    // 直接返回，不执行后续代码\n    throw new Error('Script already loaded');\n}\nwindow.miaomiaoPromptGroupingLoaded = true;\nconsole.log('喵喵预设配置管理 - 条目分组功能首次加载');\n\n// 分组数据存储键名（基于预设名称）\nfunction getGroupingStorageKey(presetName) {\n    return `miaomiao_preset_groups_${presetName}`;\n}\n// 获取预设的分组配置\nfunction getPresetGrouping(presetName) {\n    try {\n        const stored = localStorage.getItem(getGroupingStorageKey(presetName));\n        return stored ? JSON.parse(stored) : [];\n    }\n    catch (error) {\n        console.error('获取分组配置失败:', error);\n        return [];\n    }\n}\n// 保存预设的分组配置\nfunction savePresetGrouping(presetName, groups) {\n    try {\n        localStorage.setItem(getGroupingStorageKey(presetName), JSON.stringify(groups));\n    }\n    catch (error) {\n        console.error('保存分组配置失败:', error);\n    }\n}\n// 缓存DOM查询结果\nlet cachedPromptElements = null;\nlet lastPromptQueryTime = 0;\nconst PROMPT_CACHE_DURATION = 3000; // 3秒缓存\n// 触发一次预设保存，避免条目更改丢失\nfunction triggerPresetSave() {\n    try {\n        const $btn = $('#update_oai_preset');\n        if ($btn.length) {\n            $btn.trigger('click');\n            console.log('已触发预设保存');\n        }\n        else {\n            console.warn('未找到预设保存按钮 #update_oai_preset');\n        }\n    }\n    catch (err) {\n        console.error('触发预设保存时出错:', err);\n    }\n}\n// 获取当前预设的所有条目\nfunction getCurrentPresetPrompts() {\n    const prompts = [];\n    // 检查缓存是否有效\n    const now = Date.now();\n    if (!cachedPromptElements || now - lastPromptQueryTime > PROMPT_CACHE_DURATION) {\n        cachedPromptElements = $('.completion_prompt_manager_prompt');\n        lastPromptQueryTime = now;\n    }\n    const promptElements = cachedPromptElements;\n    promptElements.each(function () {\n        const element = $(this);\n        const id = element.data('pm-identifier') || element.find('[data-pm-identifier]').data('pm-identifier');\n        if (!id)\n            return; // 早期跳出，避免不必要的DOM查询\n        const nameElement = element.find('.completion_prompt_manager_prompt_name');\n        const name = nameElement.find('a').text().trim() || nameElement.text().trim();\n        if (!name)\n            return; // 早期跳出\n        const isEnabled = element.find('.prompt-manager-toggle-action').hasClass('fa-toggle-on');\n        prompts.push({\n            id: id,\n            name: name,\n            element: element,\n            enabled: isEnabled,\n        });\n    });\n    return prompts;\n}\n// 全局标记，防止重复绑定事件\nlet groupingEventsBound = false;\n// 显示条目分组界面\nasync function showPromptGroupingUI() {\n    const popupId = 'preset-manager-grouping-popup';\n    $(`#${popupId}`).remove();\n    const prompts = getCurrentPresetPrompts();\n    if (prompts.length === 0) {\n        toastr.warning('当前预设没有可分组的条目。');\n        return;\n    }\n    // 获取当前预设的分组信息\n    const currentPresetName = TavernHelper.getLoadedPresetName();\n    const existingGroups = getPresetGrouping(currentPresetName);\n    // 递归查找条目所在的分组路径\n    function findPromptGroupPath(promptId, groups, parentPath = '') {\n        for (const group of groups) {\n            // 检查是否在直接条目中\n            if (group.promptIds.includes(promptId)) {\n                return parentPath ? `${parentPath}/${group.name}` : group.name;\n            }\n            // 递归检查子分组\n            if (group.subGroups.length > 0) {\n                const subPath = findPromptGroupPath(promptId, group.subGroups, parentPath ? `${parentPath}/${group.name}` : group.name);\n                if (subPath) {\n                    return subPath;\n                }\n            }\n        }\n        return null;\n    }\n    const promptsHtml = prompts\n        .map((prompt, index) => {\n        const groupPath = findPromptGroupPath(prompt.id, existingGroups);\n        const isInGroup = groupPath !== null;\n        return `\n      <div class=\"prompt-item\" data-prompt-id=\"${prompt.id}\" data-index=\"${index}\" \n           style=\"display: flex; align-items: flex-start; padding: 10px; border: 1px solid #e0e0e0; margin: 3px 0; border-radius: 6px; cursor: pointer; background-color: ${isInGroup ? '#e8f5e8' : '#fff'}; min-height: 44px;\">\n        <input type=\"checkbox\" class=\"prompt-checkbox\" style=\"margin-right: 12px; transform: scale(1.3); flex-shrink: 0; margin-top: 2px;\">\n        <div class=\"prompt-text\" style=\"flex: 1; min-width: 0;\">\n          <div style=\"font-weight: ${prompt.enabled ? 'bold' : 'normal'}; color: ${prompt.enabled ? '#000' : '#666'}; font-size: 14px; line-height: 1.4; word-wrap: break-word; overflow-wrap: break-word;\">\n          ${$('<div/>').text(prompt.name).html()}\n          </div>\n          ${isInGroup ? `<div style=\"color: #666; font-size: 12px; margin-top: 4px; word-wrap: break-word; overflow-wrap: break-word;\">📁 ${groupPath}</div>` : ''}\n        </div>\n        ${isInGroup ? `<span class=\"group-tag\" style=\"background-color: #4CAF50; color: white; padding: 2px 8px; border-radius: 12px; font-size: 11px; margin-left: 8px; flex-shrink: 0; align-self: flex-start; margin-top: 2px;\">已分组</span>` : ''}\n      </div>\n    `;\n    })\n        .join('');\n    const popupHtml = `\n    <div id=\"${popupId}\" style=\"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 10001; display: flex; align-items: center; justify-content: center;\">\n      <div style=\"background-color: #fff8f0; color: #3a2c2c; border-radius: 16px; padding: 20px; width: 90%; max-width: 700px; box-shadow: 0 4px 25px rgba(120,90,60,.25); display: flex; flex-direction: column; max-height: 85vh; position: relative;\">\n        <button id=\"grouping-close\" style=\"position: absolute; top: 15px; right: 15px; background: none; border: none; color: #9a6b4f; font-size: 24px; cursor: pointer; z-index: 10003; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: background-color 0.2s;\">&times;</button>\n        <h4 style=\"margin-top:0; color:#6a4226; text-align: center; border-bottom: 2px solid #f0d8b6; padding-bottom: 10px; padding-right: 40px;\">预设编辑器</h4>\n        \n        <!-- 操作区域 - 并排布局 -->\n        <div class=\"操作区域\" style=\"margin: 15px 0; display: flex; gap: 12px; flex-wrap: wrap;\">\n          <!-- 分组管理区域 -->\n          <div style=\"flex: 1; min-width: 280px; padding: 12px; background-color: #f8f9fa; border-radius: 8px; border-left: 4px solid #4CAF50;\">\n            <div style=\"font-size: 14px; font-weight: bold; color: #2e7d32; margin-bottom: 8px;\">📁 分组管理</div>\n            <input type=\"text\" id=\"group-name-input\" placeholder=\"输入分组名称...\" style=\"width: 100%; padding: 8px 12px; border: 1px solid #d4b58b; border-radius: 6px; background: #fff; color: #333; font-size: 14px; margin-bottom: 10px; box-sizing: border-box;\">\n            <div style=\"position: relative; display: inline-block; width: 100%;\">\n              <button id=\"group-management-btn\" style=\"width: 100%; padding: 10px 16px; background-color:#4CAF50; border:none; border-radius:6px; color:#fff; cursor:pointer; font-weight:bold; font-size: 14px; display: flex; align-items: center; justify-content: space-between;\">\n                <span>分组操作</span>\n                <span style=\"font-size: 12px;\">▼</span>\n              </button>\n              <div id=\"group-management-menu\" style=\"display: none; position: absolute; top: 100%; left: 0; right: 0; background-color: #fff; border: 1px solid #d4b58b; border-radius: 6px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 10002; margin-top: 2px;\">\n                <button id=\"create-group-btn\" style=\"width: 100%; padding: 10px 16px; border:none; background:none; color:#333; cursor:pointer; font-size: 13px; text-align: left; border-bottom: 1px solid #f0f0f0;\">创建分组</button>\n                <button id=\"add-to-group-btn\" style=\"width: 100%; padding: 10px 16px; border:none; background:none; color:#9C27B0; cursor:pointer; font-size: 13px; text-align: left; border-bottom: 1px solid #f0f0f0;\">加入分组</button>\n                <button id=\"remove-from-group-btn\" style=\"width: 100%; padding: 10px 16px; border:none; background:none; color:#FF5722; cursor:pointer; font-size: 13px; text-align: left; border-bottom: 1px solid #f0f0f0;\">移出分组</button>\n                <button id=\"dissolve-group-btn\" style=\"width: 100%; padding: 10px 16px; border:none; background:none; color:#ff9800; cursor:pointer; font-size: 13px; text-align: left; border-bottom: 1px solid #f0f0f0;\">解散分组</button>\n                <button id=\"clear-all-groups-btn\" style=\"width: 100%; padding: 10px 16px; border:none; background:none; color:#ff5722; cursor:pointer; font-size: 13px; text-align: left; border-bottom: 1px solid #f0f0f0;\">清除所有</button>\n                <div style=\"border-top: 1px solid #eee; margin: 5px 0;\"></div>\n                <button class=\"dropdown-close-btn\" style=\"width: 100%; padding: 10px 16px; border:none; background:none; color:#888; cursor:pointer; font-size: 13px; text-align: center;\">关闭</button>\n              </div>\n          </div>\n        </div>\n\n          <!-- 条目操作区域 -->\n          <div style=\"flex: 1; min-width: 280px; padding: 12px; background-color: #f0f8ff; border-radius: 8px; border-left: 4px solid #2196F3;\">\n            <div style=\"font-size: 14px; font-weight: bold; color: #1976D2; margin-bottom: 8px;\">✏️ 条目操作</div>\n            <div style=\"display: flex; gap: 8px; flex-wrap: wrap;\">\n              <div style=\"position: relative; display: inline-block; flex: 1; min-width: 120px;\">\n                <button id=\"item-selection-btn\" style=\"width: 100%; padding: 10px 16px; background-color:#2196F3; border:none; border-radius:6px; color:#fff; cursor:pointer; font-weight:bold; font-size: 13px; display: flex; align-items: center; justify-content: space-between;\">\n                  <span>选择操作</span>\n                  <span style=\"font-size: 12px;\">▼</span>\n                </button>\n                <div id=\"item-selection-menu\" style=\"display: none; position: absolute; top: 100%; left: 0; right: 0; background-color: #fff; border: 1px solid #d4b58b; border-radius: 6px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 10002; margin-top: 2px;\">\n                  <button id=\"select-all-btn\" style=\"width: 100%; padding: 10px 16px; border:none; background:none; color:#333; cursor:pointer; font-size: 13px; text-align: left; border-bottom: 1px solid #f0f0f0;\">全选</button>\n                  <button id=\"select-none-btn\" style=\"width: 100%; padding: 10px 16px; border:none; background:none; color:#9E9E9E; cursor:pointer; font-size: 13px; text-align: left; border-bottom: 1px solid #f0f0f0;\">全不选</button>\n                  <button id=\"move-prompts-btn\" style=\"width: 100%; padding: 10px 16px; border:none; background:none; color:#673AB7; cursor:pointer; font-size: 13px; text-align: left; border-bottom: 1px solid #f0f0f0;\">移动条目</button>\n                  <div style=\"border-top: 1px solid #eee; margin: 5px 0;\"></div>\n                  <button class=\"dropdown-close-btn\" style=\"width: 100%; padding: 10px 16px; border:none; background:none; color:#888; cursor:pointer; font-size: 13px; text-align: center;\">关闭</button>\n                </div>\n              </div>\n              <div style=\"position: relative; display: inline-block; flex: 1; min-width: 120px;\">\n                <button id=\"item-edit-btn\" style=\"width: 100%; padding: 10px 16px; background-color:#4CAF50; border:none; border-radius:6px; color:#fff; cursor:pointer; font-weight:bold; font-size: 13px; display: flex; align-items: center; justify-content: space-between;\">\n                  <span>编辑操作</span>\n                  <span style=\"font-size: 12px;\">▼</span>\n                </button>\n                <div id=\"item-edit-menu\" style=\"display: none; position: absolute; top: 100%; left: 0; right: 0; background-color: #fff; border: 1px solid #d4b58b; border-radius: 6px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 10002; margin-top: 2px;\">\n                  <button id=\"add-prompt-btn\" style=\"width: 100%; padding: 10px 16px; border:none; background:none; color:#4CAF50; cursor:pointer; font-size: 13px; text-align: left; border-bottom: 1px solid #f0f0f0;\">新增条目</button>\n                  <button id=\"edit-prompt-btn\" style=\"width: 100%; padding: 10px 16px; border:none; background:none; color:#FF9800; cursor:pointer; font-size: 13px; text-align: left; border-bottom: 1px solid #f0f0f0;\">编辑条目</button>\n                  <button id=\"delete-prompts-btn\" style=\"width: 100%; padding: 10px 16px; border:none; background:none; color:#F44336; cursor:pointer; font-size: 13px; text-align: left; border-bottom: 1px solid #f0f0f0;\">删除条目</button>\n                  <div style=\"border-top: 1px solid #eee; margin: 5px 0;\"></div>\n                  <button class=\"dropdown-close-btn\" style=\"width: 100%; padding: 10px 16px; border:none; background:none; color:#888; cursor:pointer; font-size: 13px; text-align: center;\">关闭</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div style=\"flex: 1; min-height: 300px; max-height: 400px; overflow-y: auto; border: 1px solid #f0e2d0; border-radius: 8px; padding: 16px; margin-bottom: 15px; background-color: #fafafa;\">\n          <div style=\"font-size: 13px; color: #666; margin-bottom: 12px; line-height: 1.4;\">💡 提示：选中条目后可以创建分组，支持多级分组。分组后的条目会在预设界面中折叠显示，便于管理</div>\n          <div id=\"prompts-container\">\n            ${promptsHtml}\n          </div>\n        </div>\n\n\n        <div style=\"display: flex; flex-wrap: wrap; justify-content: flex-start; align-items: flex-start; gap: 10px; flex-shrink: 0; margin-top: auto; padding: 8px 0; min-height: 30px;\">\n          <div id=\"existing-groups-info\" style=\"font-size: 12px; color: #666; flex: 1; min-width: 200px; word-wrap: break-word; overflow-wrap: break-word; line-height: 1.4; max-width: 100%; min-height: 20px; display: block;\"></div>\n        </div>\n      </div>\n    </div>\n  `;\n    $('body').append(popupHtml);\n    // 显示现有分组信息\n    console.log('现有分组:', existingGroups);\n    updateExistingGroupsInfo(existingGroups);\n    // 绑定事件（防止重复绑定）\n    if (!groupingEventsBound) {\n        bindGroupingEvents(prompts, existingGroups);\n        groupingEventsBound = true;\n    }\n    else {\n        console.log('分组事件已绑定，重新绑定以确保事件正确');\n        // 即使已绑定，也要重新绑定以确保事件正确（适配脚本重复加载）\n        bindGroupingEvents(prompts, existingGroups);\n    }\n    // 立即绑定关闭按钮事件，确保能正常工作\n    setTimeout(() => {\n        $('.dropdown-close-btn')\n            .off('click')\n            .on('click', function (e) {\n            e.stopPropagation();\n            e.preventDefault();\n            const menu = $(this).closest('[id$=\"-menu\"]');\n            if (menu.length > 0) {\n                menu.hide();\n                console.log('下拉菜单已关闭:', menu.attr('id'));\n            }\n            else {\n                console.warn('未找到对应的菜单元素');\n            }\n        });\n        console.log('关闭按钮事件已重新绑定');\n    }, 100);\n    // 移动端样式\n    const mobileStyles = `<style>\n    #${popupId} #grouping-close:hover {\n      background-color: rgba(154, 107, 79, 0.1) !important;\n    }\n    .dropdown-close-btn:hover {\n      background-color: rgba(153, 153, 153, 0.1) !important;\n    }\n    \n    /* 平板端适配 (768px - 1024px) */\n    @media (max-width: 1024px) {\n      #${popupId} > div {\n        width: 92% !important;\n        max-width: 650px !important;\n        max-height: 88vh !important;\n      }\n      #${popupId} .操作区域 {\n        gap: 10px !important;\n      }\n      #${popupId} .操作区域 > div {\n        min-width: 250px !important;\n      }\n    }\n    \n    /* 小屏幕适配 (600px - 768px) */\n    @media (max-width: 768px) {\n      #${popupId} { \n        align-items: flex-start !important; \n        padding: 8px !important;\n      } \n      #${popupId} > div { \n        width: 96% !important;\n        max-width: none !important;\n        margin-top: 1vh !important;\n        max-height: 96vh !important;\n        padding: 16px !important;\n      }\n      #${popupId} h4 {\n        font-size: 17px !important;\n        margin-bottom: 12px !important;\n        padding-right: 35px !important;\n      }\n      #${popupId} .操作区域 {\n        flex-direction: column !important;\n        gap: 8px !important;\n        margin: 12px 0 !important;\n      }\n      #${popupId} .操作区域 > div {\n        min-width: 100% !important;\n        flex: none !important;\n        padding: 10px !important;\n      }\n      #${popupId} #grouping-close {\n        top: 12px !important;\n        right: 12px !important;\n        font-size: 26px !important;\n        width: 32px !important;\n        height: 32px !important;\n      }\n    }\n    \n    /* 手机端适配 (480px - 600px) */\n    @media (max-width: 600px) {\n      #${popupId} {\n        padding: 5px !important;\n      }\n      #${popupId} > div {\n        width: 98% !important;\n        margin-top: 0.5vh !important;\n        max-height: 98vh !important;\n        padding: 14px !important;\n        border-radius: 12px !important;\n      }\n      #${popupId} h4 {\n        font-size: 16px !important;\n        padding-right: 30px !important;\n      }\n      #${popupId} .操作区域 {\n        margin: 10px 0 !important;\n        gap: 6px !important;\n      }\n      #${popupId} .操作区域 > div {\n        padding: 8px !important;\n        border-radius: 6px !important;\n      }\n      #${popupId} .操作区域 h5 {\n        font-size: 13px !important;\n        margin-bottom: 8px !important;\n      }\n      #${popupId} .操作区域 input {\n        font-size: 14px !important;\n        padding: 8px 10px !important;\n      }\n      #${popupId} .操作区域 button {\n        font-size: 13px !important;\n        padding: 8px 12px !important;\n      }\n      #${popupId} #grouping-close {\n        top: 8px !important;\n        right: 8px !important;\n        font-size: 24px !important;\n        width: 30px !important;\n        height: 30px !important;\n      }\n      #${popupId} #prompts-container {\n        min-height: 250px !important;\n        max-height: 350px !important;\n        padding: 12px !important;\n      }\n      #${popupId} .prompt-item {\n        padding: 8px 10px !important;\n        margin-bottom: 6px !important;\n        font-size: 13px !important;\n        word-wrap: break-word !important;\n        white-space: normal !important;\n        line-height: 1.4 !important;\n      }\n      #${popupId} .prompt-item input[type=\"checkbox\"] {\n        width: 16px !important;\n        height: 16px !important;\n        margin-right: 8px !important;\n        flex-shrink: 0 !important;\n      }\n      #${popupId} .prompt-item .prompt-text {\n        flex: 1 !important;\n        min-width: 0 !important;\n        word-wrap: break-word !important;\n        overflow-wrap: break-word !important;\n      }\n      #${popupId} [id$=\"-menu\"] {\n        position: fixed !important;\n        top: 20vh !important;\n        left: 50% !important;\n        transform: translateX(-50%) !important;\n        width: 85% !important;\n        max-width: 320px !important;\n        z-index: 10003 !important;\n        box-shadow: 0 8px 25px rgba(0,0,0,0.3) !important;\n        border-radius: 8px !important;\n        padding: 12px !important;\n        max-height: 60vh !important;\n        overflow-y: auto !important;\n      }\n      #${popupId} [id$=\"-menu\"] button {\n        padding: 10px 14px !important;\n        font-size: 13px !important;\n        min-height: 44px !important;\n        margin: 2px 0 !important;\n      }\n    }\n    \n    /* 小屏手机适配 (360px - 480px) */\n    @media (max-width: 480px) {\n      #${popupId} > div {\n        width: 99% !important;\n        margin-top: 0 !important;\n        max-height: 99vh !important;\n        padding: 12px !important;\n        border-radius: 10px !important;\n      }\n      #${popupId} h4 {\n        font-size: 15px !important;\n        padding-right: 28px !important;\n      }\n      #${popupId} .操作区域 {\n        margin: 8px 0 !important;\n        gap: 5px !important;\n      }\n      #${popupId} .操作区域 > div {\n        padding: 6px !important;\n        border-radius: 5px !important;\n      }\n      #${popupId} .操作区域 h5 {\n        font-size: 12px !important;\n        margin-bottom: 6px !important;\n      }\n      #${popupId} .操作区域 input {\n        font-size: 13px !important;\n        padding: 6px 8px !important;\n      }\n      #${popupId} .操作区域 button {\n        font-size: 12px !important;\n        padding: 6px 10px !important;\n      }\n      #${popupId} #grouping-close {\n        top: 6px !important;\n        right: 6px !important;\n        font-size: 22px !important;\n        width: 28px !important;\n        height: 28px !important;\n      }\n      #${popupId} #prompts-container {\n        min-height: 200px !important;\n        max-height: 300px !important;\n        padding: 10px !important;\n      }\n      #${popupId} .prompt-item {\n        padding: 6px 8px !important;\n        margin-bottom: 4px !important;\n        font-size: 12px !important;\n        word-wrap: break-word !important;\n        white-space: normal !important;\n        line-height: 1.3 !important;\n      }\n      #${popupId} .prompt-item input[type=\"checkbox\"] {\n        width: 14px !important;\n        height: 14px !important;\n        margin-right: 6px !important;\n        flex-shrink: 0 !important;\n      }\n      #${popupId} .prompt-item .prompt-text {\n        flex: 1 !important;\n        min-width: 0 !important;\n        word-wrap: break-word !important;\n        overflow-wrap: break-word !important;\n      }\n      #${popupId} #existing-groups-info {\n        font-size: 10px !important;\n        line-height: 1.2 !important;\n        word-wrap: break-word !important;\n        overflow-wrap: break-word !important;\n        max-width: 100% !important;\n        padding: 4px 0 !important;\n      }\n      #${popupId} [id$=\"-menu\"] {\n        position: fixed !important;\n        top: 15vh !important;\n        left: 50% !important;\n        transform: translateX(-50%) !important;\n        width: 90% !important;\n        max-width: 300px !important;\n        padding: 10px !important;\n        max-height: 70vh !important;\n        overflow-y: auto !important;\n      }\n      #${popupId} [id$=\"-menu\"] button {\n        padding: 8px 12px !important;\n        font-size: 12px !important;\n        min-height: 40px !important;\n      }\n    }\n    \n    /* 超小屏适配 (320px - 360px) */\n    @media (max-width: 360px) {\n      #${popupId} > div {\n        width: 100% !important;\n        margin: 0 !important;\n        max-height: 100vh !important;\n        padding: 10px !important;\n        border-radius: 8px !important;\n      }\n      #${popupId} h4 {\n        font-size: 14px !important;\n        padding-right: 25px !important;\n      }\n      #${popupId} .操作区域 {\n        margin: 6px 0 !important;\n        gap: 4px !important;\n      }\n      #${popupId} .操作区域 > div {\n        padding: 5px !important;\n        border-radius: 4px !important;\n      }\n      #${popupId} .操作区域 h5 {\n        font-size: 11px !important;\n        margin-bottom: 4px !important;\n      }\n      #${popupId} .操作区域 input {\n        font-size: 12px !important;\n        padding: 5px 6px !important;\n      }\n      #${popupId} .操作区域 button {\n        font-size: 11px !important;\n        padding: 5px 8px !important;\n      }\n      #${popupId} #grouping-close {\n        top: 5px !important;\n        right: 5px !important;\n        font-size: 20px !important;\n        width: 26px !important;\n        height: 26px !important;\n      }\n      #${popupId} #prompts-container {\n        min-height: 180px !important;\n        max-height: 280px !important;\n        padding: 8px !important;\n      }\n      #${popupId} .prompt-item {\n        padding: 5px 6px !important;\n        margin-bottom: 3px !important;\n        font-size: 11px !important;\n        word-wrap: break-word !important;\n        white-space: normal !important;\n        line-height: 1.2 !important;\n      }\n      #${popupId} .prompt-item input[type=\"checkbox\"] {\n        width: 12px !important;\n        height: 12px !important;\n        margin-right: 5px !important;\n        flex-shrink: 0 !important;\n      }\n      #${popupId} .prompt-item .prompt-text {\n        flex: 1 !important;\n        min-width: 0 !important;\n        word-wrap: break-word !important;\n        overflow-wrap: break-word !important;\n      }\n      #${popupId} #existing-groups-info {\n        font-size: 9px !important;\n        line-height: 1.1 !important;\n        word-wrap: break-word !important;\n        overflow-wrap: break-word !important;\n        max-width: 100% !important;\n        padding: 3px 0 !important;\n      }\n      #${popupId} [id$=\"-menu\"] {\n        position: fixed !important;\n        top: 10vh !important;\n        left: 50% !important;\n        transform: translateX(-50%) !important;\n        width: 95% !important;\n        max-width: 280px !important;\n        padding: 8px !important;\n        max-height: 80vh !important;\n        overflow-y: auto !important;\n      }\n      #${popupId} [id$=\"-menu\"] button {\n        padding: 6px 10px !important;\n        font-size: 11px !important;\n        min-height: 36px !important;\n      }\n    }\n  </style>`;\n    $(`#${popupId}`).append(mobileStyles);\n}\nfunction updateExistingGroupsInfo(groups) {\n    const infoElement = $('#existing-groups-info');\n    if (!infoElement.length) {\n        console.warn('分组信息元素未找到');\n        return;\n    }\n    if (groups.length === 0) {\n        infoElement.html('当前没有分组');\n    }\n    else {\n        const groupNames = getGroupNamesRecursively(groups);\n        const groupText = groupNames.length > 0 ? groupNames.join(', ') : '无';\n        infoElement.html(`现有分组: ${groupText}`);\n    }\n}\n// 递归获取所有分组名称（包括子分组）\nfunction getGroupNamesRecursively(groups) {\n    const names = [];\n    groups.forEach(group => {\n        names.push(group.name);\n        if (group.subGroups.length > 0) {\n            const subGroupNames = getGroupNamesRecursively(group.subGroups);\n            subGroupNames.forEach(subName => {\n                names.push(`${group.name}/${subName}`);\n            });\n        }\n    });\n    return names;\n}\nfunction bindGroupingEvents(_prompts, existingGroups) {\n    let selectedPrompts = [];\n    // 先解绑所有可能重复的事件，防止重复绑定\n    $('.prompt-item').off('click');\n    $('.prompt-checkbox').off('change');\n    $('#select-all-btn').off('click');\n    $('#select-none-btn').off('click');\n    $('#move-prompts-btn').off('click');\n    $('#add-prompt-btn').off('click');\n    $('#edit-prompt-btn').off('click');\n    $('#delete-prompts-btn').off('click');\n    $('#create-group-btn').off('click');\n    $('#remove-group-btn').off('click');\n    $('#dissolve-group-btn').off('click');\n    $('#clear-all-groups-btn').off('click');\n    $('#grouping-close').off('click');\n    // 新增的下拉菜单按钮\n    $('#group-management-btn').off('click');\n    $('#item-selection-btn').off('click');\n    $('#item-edit-btn').off('click');\n    $('#add-to-group-btn').off('click');\n    $('#remove-from-group-btn').off('click');\n    $('.dropdown-close-btn').off('click');\n    // 解绑文档级别的事件，防止重复绑定\n    $(document).off('click', '.dropdown-close-btn');\n    $(document).off('click', '[id$=\"-btn\"], [id$=\"-menu\"]');\n    // 条目选择\n    $('.prompt-item').on('click', function (e) {\n        if (e.target.type === 'checkbox')\n            return;\n        const checkbox = $(this).find('.prompt-checkbox');\n        checkbox.prop('checked', !checkbox.prop('checked'));\n        updateSelectedPrompts();\n    });\n    $('.prompt-checkbox').on('change', updateSelectedPrompts);\n    function updateSelectedPrompts() {\n        selectedPrompts = [];\n        $('.prompt-checkbox:checked').each(function () {\n            const promptId = $(this).closest('.prompt-item').data('prompt-id');\n            selectedPrompts.push(promptId);\n        });\n    }\n    // 全选/全不选\n    $('#select-all-btn').on('click', () => {\n        $('.prompt-checkbox').prop('checked', true);\n        updateSelectedPrompts();\n    });\n    $('#select-none-btn').on('click', () => {\n        $('.prompt-checkbox').prop('checked', false);\n        updateSelectedPrompts();\n    });\n    // 移动条目\n    $('#move-prompts-btn').on('click', async () => {\n        if (selectedPrompts.length === 0) {\n            toastr.error('请选择要移动的条目');\n            return;\n        }\n        // 显示目标位置选择弹窗\n        await showPositionSelectionPopup(_prompts, selectedPrompts, (targetPromptId, position) => {\n            movePromptsToPosition(selectedPrompts, targetPromptId, position);\n            // 清除选择状态\n            $('.prompt-checkbox').prop('checked', false);\n            selectedPrompts = [];\n            toastr.success('条目移动完成，将在关闭分组界面时应用到预设');\n        });\n    });\n    // 新增条目\n    $('#add-prompt-btn').on('click', async () => {\n        await showAddPromptPopup(() => {\n            // 重新加载分组界面以显示新条目\n            setTimeout(() => {\n                $('#preset-manager-grouping-popup').remove();\n                showPromptGroupingUI();\n            }, 100);\n        });\n    });\n    // 编辑条目\n    $('#edit-prompt-btn').on('click', async () => {\n        if (selectedPrompts.length !== 1) {\n            toastr.error('请选择一个条目进行编辑');\n            return;\n        }\n        const promptId = selectedPrompts[0];\n        const prompt = _prompts.find(p => p.id === promptId);\n        if (!prompt) {\n            toastr.error('未找到要编辑的条目');\n            return;\n        }\n        await showEditPromptPopup(prompt, () => {\n            // 重新加载分组界面以显示更新后的条目\n            setTimeout(() => {\n                $('#preset-manager-grouping-popup').remove();\n                showPromptGroupingUI();\n            }, 100);\n        });\n    });\n    // 删除条目\n    $('#delete-prompts-btn').on('click', async () => {\n        if (selectedPrompts.length === 0) {\n            toastr.error('请选择要删除的条目');\n            return;\n        }\n        const confirmChoice = await triggerSlash(`/popup okButton=\"确认删除\" cancelButton=\"取消\" result=true \"确定要删除选中的 ${selectedPrompts.length} 个条目吗？此操作不可撤销。\"`);\n        if (confirmChoice === '1') {\n            await deleteSelectedPrompts(selectedPrompts);\n            // 重新加载分组界面\n            setTimeout(() => {\n                $('#preset-manager-grouping-popup').remove();\n                showPromptGroupingUI();\n            }, 100);\n        }\n    });\n    // 加入分组\n    $('#add-to-group-btn').on('click', async () => {\n        if (selectedPrompts.length === 0) {\n            toastr.error('请选择要加入分组的条目');\n            return;\n        }\n        // 检查选中的条目是否已经在其他分组中\n        const alreadyGroupedPrompts = [];\n        selectedPrompts.forEach(promptId => {\n            const existingGroup = findPromptInGroups(existingGroups, promptId);\n            if (existingGroup) {\n                alreadyGroupedPrompts.push(promptId);\n            }\n        });\n        if (alreadyGroupedPrompts.length > 0) {\n            // 获取已分组条目的名称\n            const alreadyGroupedNames = alreadyGroupedPrompts.map(promptId => {\n                const promptItem = $(`.prompt-item[data-prompt-id=\"${promptId}\"]`);\n                return promptItem.find('.prompt-text div:first').text().trim();\n            });\n            toastr.error(`以下条目已在其他分组中，无法重复分组：${alreadyGroupedNames.slice(0, 3).join('、')}${alreadyGroupedNames.length > 3 ? '等' : ''}`);\n            return;\n        }\n        // 显示分组选择弹窗\n        await showGroupSelectionPopup(selectedPrompts, existingGroups);\n    });\n    // 移出分组\n    $('#remove-from-group-btn').on('click', async () => {\n        if (selectedPrompts.length === 0) {\n            toastr.error('请选择要移出分组的条目');\n            return;\n        }\n        // 检查选中的条目是否在分组中\n        const groupedPrompts = [];\n        selectedPrompts.forEach(promptId => {\n            const existingGroup = findPromptInGroups(existingGroups, promptId);\n            if (existingGroup) {\n                groupedPrompts.push(promptId);\n            }\n        });\n        if (groupedPrompts.length === 0) {\n            toastr.error('选中的条目都不在任何分组中');\n            return;\n        }\n        const confirmChoice = await triggerSlash(`/popup okButton=\"确认移出\" cancelButton=\"取消\" result=true \"确定要将选中的 ${groupedPrompts.length} 个条目移出分组吗？\"`);\n        if (confirmChoice === '1') {\n            await removePromptsFromGroups(groupedPrompts, existingGroups);\n            // 重新加载分组界面\n            setTimeout(() => {\n                $('#preset-manager-grouping-popup').remove();\n                showPromptGroupingUI();\n            }, 100);\n        }\n    });\n    // 创建分组\n    $('#create-group-btn').on('click', async () => {\n        const groupName = $('#group-name-input').val()?.toString().trim();\n        if (!groupName) {\n            toastr.error('请输入分组名称');\n            return;\n        }\n        if (selectedPrompts.length === 0) {\n            toastr.error('请选择要分组的条目');\n            return;\n        }\n        // 检测选中条目是否都属于同一个分组\n        const parentGroup = detectCommonParentGroup(selectedPrompts, existingGroups);\n        if (parentGroup) {\n            // 选中的条目都属于同一个分组，创建子分组\n            await createSubGroup(parentGroup, groupName, selectedPrompts, existingGroups);\n        }\n        else {\n            // 检查选中的条目是否已经在其他分组中\n            const alreadyGroupedPrompts = [];\n            selectedPrompts.forEach(promptId => {\n                const existingGroup = findPromptInGroups(existingGroups, promptId);\n                if (existingGroup) {\n                    alreadyGroupedPrompts.push(promptId);\n                }\n            });\n            if (alreadyGroupedPrompts.length > 0) {\n                // 获取已分组条目的名称\n                const alreadyGroupedNames = alreadyGroupedPrompts.map(promptId => {\n                    const promptItem = $(`.prompt-item[data-prompt-id=\"${promptId}\"]`);\n                    return promptItem.find('span:first').text().trim();\n                });\n                toastr.error(`以下条目已在其他分组中，无法重复分组：${alreadyGroupedNames.slice(0, 3).join('、')}${alreadyGroupedNames.length > 3 ? '等' : ''}`);\n                return;\n            }\n            // 检查是否有重名的顶级分组\n            if (existingGroups.some(g => g.name === groupName)) {\n                toastr.error('分组名称已存在');\n                return;\n            }\n            // 创建新的顶级分组\n            await createTopLevelGroup(groupName, selectedPrompts, existingGroups);\n        }\n        // 更新界面状态\n        updateExistingGroupsInfo(existingGroups);\n        $('#group-name-input').val('');\n        $('.prompt-checkbox').prop('checked', false);\n        selectedPrompts = [];\n        // 保存分组配置\n        const currentPresetName = TavernHelper.getLoadedPresetName();\n        const validGroups = existingGroups.filter(g => hasValidContent(g));\n        savePresetGrouping(currentPresetName, validGroups);\n    });\n    // 移除分组\n    $('#remove-group-btn').on('click', () => {\n        if (selectedPrompts.length === 0) {\n            toastr.error('请选择要移除分组的条目');\n            return;\n        }\n        // 递归从所有分组（包括子分组）中移除选中的条目\n        function removePromptsFromGroups(groups, promptIds) {\n            groups.forEach(group => {\n                // 从当前分组的直接条目中移除\n                group.promptIds = group.promptIds.filter(id => !promptIds.includes(id));\n                // 递归处理子分组\n                if (group.subGroups.length > 0) {\n                    removePromptsFromGroups(group.subGroups, promptIds);\n                }\n            });\n        }\n        // 从所有分组中移除选中的条目\n        removePromptsFromGroups(existingGroups, selectedPrompts);\n        // 递归移除空分组（包括子分组）\n        function removeEmptyGroups(groups) {\n            for (let i = groups.length - 1; i >= 0; i--) {\n                const group = groups[i];\n                // 递归处理子分组\n                if (group.subGroups.length > 0) {\n                    removeEmptyGroups(group.subGroups);\n                }\n                // 检查当前分组是否为空（没有直接条目且没有子分组）\n                if (group.promptIds.length === 0 && group.subGroups.length === 0) {\n                    groups.splice(i, 1);\n                }\n            }\n        }\n        removeEmptyGroups(existingGroups);\n        // 更新UI\n        selectedPrompts.forEach(promptId => {\n            const item = $(`.prompt-item[data-prompt-id=\"${promptId}\"]`);\n            item.css('background-color', '#fff');\n            item.find('.group-tag').remove();\n            // 清除分组路径显示\n            const promptText = item.find('.prompt-text');\n            if (promptText.length > 0) {\n                promptText.find('div:last-child').remove(); // 移除分组路径div\n            }\n        });\n        updateExistingGroupsInfo(existingGroups);\n        $('.prompt-checkbox').prop('checked', false);\n        selectedPrompts = [];\n        // 保存分组配置并立即应用\n        const currentPresetName = TavernHelper.getLoadedPresetName();\n        const validGroups = existingGroups.filter(g => hasValidContent(g));\n        savePresetGrouping(currentPresetName, validGroups);\n        // 立即应用分组到DOM\n        applyGroupingToDOM(validGroups);\n        // 延迟恢复以确保DOM更新完成\n        setTimeout(() => {\n            restoreGroupingImmediate();\n        }, 100);\n        toastr.success('已移除选中条目的分组');\n    });\n    // 解散分组\n    $('#dissolve-group-btn').on('click', async () => {\n        if (existingGroups.length === 0) {\n            toastr.info('当前没有分组可以解散');\n            return;\n        }\n        // 显示解散分组弹窗\n        await showDissolveGroupPopup(existingGroups);\n    });\n    // 清除所有分组\n    $('#clear-all-groups-btn').on('click', async () => {\n        if (existingGroups.length === 0) {\n            toastr.info('当前没有分组需要清除');\n            return;\n        }\n        const confirmChoice = await triggerSlash(`/popup okButton=\"确认清除\" cancelButton=\"取消\" result=true \"确定要清除当前预设的所有分组吗？此操作不可撤销。\"`);\n        if (confirmChoice === '1') {\n            // 清空分组数组\n            existingGroups.length = 0;\n            // 更新UI显示\n            $('.prompt-item').each(function () {\n                $(this).css('background-color', '#fff');\n                $(this).find('.group-tag').remove();\n                // 清除分组路径显示\n                const promptText = $(this).find('.prompt-text');\n                if (promptText.length > 0) {\n                    promptText.find('div:last-child').remove(); // 移除分组路径div\n                }\n            });\n            updateExistingGroupsInfo(existingGroups);\n            $('.prompt-checkbox').prop('checked', false);\n            selectedPrompts = [];\n            // 保存分组配置并立即应用\n            const currentPresetName = TavernHelper.getLoadedPresetName();\n            const validGroups = existingGroups.filter(g => g.promptIds.length > 0);\n            savePresetGrouping(currentPresetName, validGroups);\n            // 立即应用分组到DOM\n            applyGroupingToDOM(validGroups);\n            // 延迟恢复以确保DOM更新完成\n            setTimeout(() => {\n                restoreGroupingImmediate();\n            }, 100);\n            toastr.success('已清除所有分组');\n        }\n    });\n    // 关闭\n    $('#grouping-close').on('click', () => {\n        // 关闭前确保保存当前的分组状态\n        const currentPresetName = TavernHelper.getLoadedPresetName();\n        const validGroups = existingGroups.filter(g => hasValidContent(g));\n        savePresetGrouping(currentPresetName, validGroups);\n        // 确保分组应用到预设界面\n        applyGroupingToDOM(validGroups);\n        // 重置事件绑定标记\n        groupingEventsBound = false;\n        $('#preset-manager-grouping-popup').remove();\n        console.log('分组界面关闭，已保存并应用分组配置');\n    });\n    // 下拉菜单交互逻辑\n    $('#group-management-btn').on('click', function (e) {\n        e.stopPropagation();\n        const menu = $('#group-management-menu');\n        menu.toggle();\n        // 关闭其他菜单\n        $('#item-selection-menu, #item-edit-menu').hide();\n    });\n    $('#item-selection-btn').on('click', function (e) {\n        e.stopPropagation();\n        const menu = $('#item-selection-menu');\n        menu.toggle();\n        // 关闭其他菜单\n        $('#group-management-menu, #item-edit-menu').hide();\n    });\n    $('#item-edit-btn').on('click', function (e) {\n        e.stopPropagation();\n        const menu = $('#item-edit-menu');\n        menu.toggle();\n        // 关闭其他菜单\n        $('#group-management-menu, #item-selection-menu').hide();\n    });\n    // 关闭按钮事件 - 使用更具体的选择器避免重复绑定\n    $(document)\n        .off('click', '.dropdown-close-btn')\n        .on('click', '.dropdown-close-btn', function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n        const menu = $(this).closest('[id$=\"-menu\"]');\n        if (menu.length > 0) {\n            menu.hide();\n            console.log('下拉菜单已关闭:', menu.attr('id'));\n        }\n        else {\n            console.warn('未找到对应的菜单元素');\n        }\n    });\n    // 为每个具体的关闭按钮单独绑定事件，确保能正常工作\n    $('#group-management-menu .dropdown-close-btn')\n        .off('click')\n        .on('click', function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n        $('#group-management-menu').hide();\n        console.log('分组管理菜单已关闭');\n    });\n    $('#item-selection-menu .dropdown-close-btn')\n        .off('click')\n        .on('click', function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n        $('#item-selection-menu').hide();\n        console.log('条目选择菜单已关闭');\n    });\n    $('#item-edit-menu .dropdown-close-btn')\n        .off('click')\n        .on('click', function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n        $('#item-edit-menu').hide();\n        console.log('条目编辑菜单已关闭');\n    });\n    // 点击其他地方关闭所有菜单\n    $(document).on('click', function (e) {\n        if (!$(e.target).closest('[id$=\"-btn\"], [id$=\"-menu\"]').length) {\n            $('#group-management-menu, #item-selection-menu, #item-edit-menu').hide();\n        }\n    });\n}\n// 应用分组到DOM\nfunction applyGroupingToDOM(groups) {\n    console.log('开始应用分组到DOM，分组数量:', groups.length);\n    // 检查是否有预设条目存在\n    const promptElements = $('.completion_prompt_manager_prompt');\n    if (promptElements.length === 0) {\n        console.warn('未找到预设条目，无法应用分组');\n        return;\n    }\n    console.log('找到预设条目数量:', promptElements.length);\n    // 先确保所有条目都从分组容器中移出，然后再移除分组容器\n    $('.prompt-group-container').each(function () {\n        const container = $(this);\n        const prompts = container.find('.completion_prompt_manager_prompt');\n        // 将条目移动到分组容器之前\n        container.before(prompts);\n    });\n    // 移除现有的分组容器\n    $('.prompt-group-container').remove();\n    // 递归应用分组\n    applyGroupsRecursively(groups, 0);\n}\n// 递归应用分组到DOM\nfunction applyGroupsRecursively(groups, level) {\n    groups.forEach(group => {\n        // 检查分组是否有内容（条目或子分组）\n        if (!hasValidContent(group))\n            return;\n        console.log('处理分组:', group.name, '层级:', level, '条目数量:', group.promptIds.length, '子分组数量:', group.subGroups.length);\n        // 获取分组中所有条目（包括子分组中的条目）\n        const allPromptIds = getAllPromptIdsFromGroup(group);\n        if (allPromptIds.length === 0) {\n            console.log('分组没有条目，跳过:', group.name);\n            return;\n        }\n        // 找到分组中的第一个条目作为插入点\n        let firstPromptElement = null;\n        for (const promptId of allPromptIds) {\n            const element = $(`.completion_prompt_manager_prompt[data-pm-identifier=\"${promptId}\"]`);\n            if (element.length > 0) {\n                firstPromptElement = element;\n                break;\n            }\n        }\n        if (!firstPromptElement || firstPromptElement.length === 0) {\n            console.log('未找到分组的任何条目:', group.name);\n            return;\n        }\n        console.log('找到第一个条目，开始创建分组容器');\n        // 统计分组内启用的条目数量（包括子分组）\n        const enabledCount = allPromptIds.filter(promptId => {\n            const promptElement = $(`.completion_prompt_manager_prompt[data-pm-identifier=\"${promptId}\"]`);\n            return promptElement.find('.prompt-manager-toggle-action').hasClass('fa-toggle-on');\n        }).length;\n        // 创建分组容器\n        const indentStyle = level > 0 ? `margin-left: ${level * 20}px;` : '';\n        const groupContainer = $(`\n      <div class=\"prompt-group-container\" data-group-id=\"${group.id}\" style=\"border: 1px solid rgba(128, 128, 128, 0.3); margin: 5px 0; background-color: rgba(0, 0, 0, 0.05); ${indentStyle} overflow: visible;\">\n        <div class=\"prompt-group-header\" style=\"padding: 6px 10px; background-color: rgba(0, 0, 0, 0.08); cursor: pointer; display: flex; align-items: center;\">\n          <span class=\"group-toggle-icon\" style=\"margin-right: 6px; font-size: 12px; color: inherit;\">${group.collapsed ? '▶' : '▼'}</span>\n          <span style=\"font-weight: bold; color: inherit;\">${$('<div/>').text(group.name).html()}</span>\n          <span style=\"margin-left: 8px; font-size: 12px; color: #666;\">(${enabledCount}/${allPromptIds.length})</span>\n        </div>\n        <div class=\"prompt-group-content\" style=\"padding: 3px; min-height: 0; overflow: visible; ${group.collapsed ? 'display: none;' : 'display: block;'}\"></div>\n      </div>\n    `);\n        // 将分组插入到第一个条目之前\n        firstPromptElement.before(groupContainer);\n        console.log('分组容器已插入到DOM');\n        // 将分组中的直接条目移动到分组容器中\n        group.promptIds.forEach(promptId => {\n            // 尝试多种选择器来查找条目\n            let promptElement = $(`.completion_prompt_manager_prompt[data-pm-identifier=\"${promptId}\"]`);\n            // 如果没找到，尝试在子元素中查找\n            if (promptElement.length === 0) {\n                promptElement = $(`.completion_prompt_manager_prompt`).filter(function () {\n                    return ($(this).data('pm-identifier') === promptId ||\n                        $(this).find('[data-pm-identifier]').data('pm-identifier') === promptId);\n                });\n            }\n            if (promptElement.length > 0) {\n                groupContainer.find('.prompt-group-content').append(promptElement);\n                console.log('移动条目到分组容器:', promptId);\n            }\n            else {\n                console.warn('未找到条目:', promptId);\n            }\n        });\n        // 递归处理子分组\n        if (group.subGroups.length > 0) {\n            // 创建子分组的容器\n            const subGroupsContainer = $('<div class=\"subgroups-container\"></div>');\n            groupContainer.find('.prompt-group-content').append(subGroupsContainer);\n            // 递归应用子分组\n            applySubGroupsToContainer(group.subGroups, subGroupsContainer, level + 1);\n        }\n        console.log('分组容器创建完成，条目数量:', groupContainer.find('.completion_prompt_manager_prompt').length);\n        // 绑定展开/折叠事件（使用立即执行函数避免闭包问题）\n        (function (currentGroup) {\n            const header = groupContainer.find('.prompt-group-header');\n            console.log('为主分组绑定事件:', currentGroup.name, '头部元素数量:', header.length);\n            // 先解绑旧事件，防止重复绑定\n            header.off('click');\n            header.on('click', function (e) {\n                e.preventDefault();\n                e.stopPropagation();\n                const content = $(this).siblings('.prompt-group-content');\n                const icon = $(this).find('.group-toggle-icon');\n                console.log('主分组点击事件触发:', currentGroup.name);\n                console.log('内容元素数量:', content.length, '图标元素数量:', icon.length);\n                console.log('当前内容可见状态:', content.is(':visible'));\n                if (content.is(':visible') && content.css('display') !== 'none') {\n                    content.css('display', 'none');\n                    icon.text('▶');\n                    currentGroup.collapsed = true;\n                    console.log('主分组已折叠:', currentGroup.name);\n                }\n                else {\n                    content.css({\n                        display: 'block',\n                        visibility: 'visible',\n                        height: 'auto',\n                        overflow: 'visible',\n                    });\n                    content.show();\n                    icon.text('▼');\n                    currentGroup.collapsed = false;\n                    console.log('主分组已展开:', currentGroup.name);\n                    console.log('主分组展开后内容区域子元素数量:', content.children().length);\n                }\n            });\n        })(group);\n    });\n}\n// 应用子分组到指定容器\nfunction applySubGroupsToContainer(subGroups, container, level) {\n    subGroups.forEach(subGroup => {\n        if (!hasValidContent(subGroup))\n            return;\n        console.log('处理子分组:', subGroup.name, '层级:', level);\n        // 获取子分组中所有条目\n        const allPromptIds = getAllPromptIdsFromGroup(subGroup);\n        // 统计启用的条目数量\n        const enabledCount = allPromptIds.filter(promptId => {\n            const promptElement = $(`.completion_prompt_manager_prompt[data-pm-identifier=\"${promptId}\"]`);\n            return promptElement.find('.prompt-manager-toggle-action').hasClass('fa-toggle-on');\n        }).length;\n        // 创建子分组容器\n        const subGroupContainer = $(`\n      <div class=\"prompt-group-container subgroup\" data-group-id=\"${subGroup.id}\" style=\"border: 1px solid rgba(128, 128, 128, 0.2); margin: 3px 0; background-color: rgba(0, 0, 0, 0.03); margin-left: 15px; overflow: visible;\">\n        <div class=\"prompt-group-header\" style=\"padding: 4px 8px; background-color: rgba(0, 0, 0, 0.05); cursor: pointer; display: flex; align-items: center;\">\n          <span class=\"group-toggle-icon\" style=\"margin-right: 6px; font-size: 11px; color: inherit;\">${subGroup.collapsed ? '▶' : '▼'}</span>\n          <span style=\"font-weight: bold; color: inherit; font-size: 13px;\">${$('<div/>').text(subGroup.name).html()}</span>\n          <span style=\"margin-left: 8px; font-size: 11px; color: #666;\">(${enabledCount}/${allPromptIds.length})</span>\n        </div>\n        <div class=\"prompt-group-content\" style=\"padding: 2px; min-height: 0; overflow: visible; ${subGroup.collapsed ? 'display: none;' : 'display: block;'}\"></div>\n      </div>\n    `);\n        container.append(subGroupContainer);\n        // 移动子分组的直接条目\n        console.log('开始移动子分组条目:', subGroup.promptIds);\n        subGroup.promptIds.forEach(promptId => {\n            let promptElement = $(`.completion_prompt_manager_prompt[data-pm-identifier=\"${promptId}\"]`);\n            if (promptElement.length === 0) {\n                promptElement = $(`.completion_prompt_manager_prompt`).filter(function () {\n                    return ($(this).data('pm-identifier') === promptId ||\n                        $(this).find('[data-pm-identifier]').data('pm-identifier') === promptId);\n                });\n            }\n            if (promptElement.length > 0) {\n                const contentContainer = subGroupContainer.find('.prompt-group-content');\n                contentContainer.append(promptElement);\n                console.log('移动条目到子分组容器:', promptId, '容器内条目数量:', contentContainer.children().length);\n            }\n            else {\n                console.warn('未找到条目元素:', promptId);\n            }\n        });\n        const finalContentCount = subGroupContainer.find('.prompt-group-content').children().length;\n        console.log('子分组最终包含的元素数量:', finalContentCount);\n        // 递归处理更深层的子分组\n        if (subGroup.subGroups.length > 0) {\n            const deeperSubGroupsContainer = $('<div class=\"subgroups-container\"></div>');\n            subGroupContainer.find('.prompt-group-content').append(deeperSubGroupsContainer);\n            applySubGroupsToContainer(subGroup.subGroups, deeperSubGroupsContainer, level + 1);\n        }\n        // 绑定展开/折叠事件（使用立即执行函数避免闭包问题）\n        (function (currentSubGroup) {\n            const header = subGroupContainer.find('.prompt-group-header');\n            console.log('为子分组绑定事件:', currentSubGroup.name, '头部元素数量:', header.length);\n            // 先解绑旧事件，防止重复绑定\n            header.off('click');\n            header.on('click', function (e) {\n                e.preventDefault();\n                e.stopPropagation();\n                const content = $(this).siblings('.prompt-group-content');\n                const icon = $(this).find('.group-toggle-icon');\n                console.log('子分组点击事件触发:', currentSubGroup.name);\n                console.log('内容元素数量:', content.length, '图标元素数量:', icon.length);\n                console.log('当前内容可见状态:', content.is(':visible'));\n                console.log('当前内容display样式:', content.css('display'));\n                if (content.is(':visible') && content.css('display') !== 'none') {\n                    content.css('display', 'none');\n                    icon.text('▶');\n                    currentSubGroup.collapsed = true;\n                    console.log('子分组已折叠:', currentSubGroup.name);\n                }\n                else {\n                    // 强制显示，并检查内容\n                    content.css({\n                        display: 'block',\n                        visibility: 'visible',\n                        height: 'auto',\n                        overflow: 'visible',\n                    });\n                    content.show(); // 双重保险\n                    icon.text('▼');\n                    currentSubGroup.collapsed = false;\n                    console.log('子分组已展开:', currentSubGroup.name);\n                    console.log('展开后内容区域子元素数量:', content.children().length);\n                    console.log('展开后实际高度:', content.height());\n                    // 强制重新渲染\n                    setTimeout(() => {\n                        content.trigger('resize');\n                        console.log('强制重新渲染后高度:', content.height());\n                    }, 10);\n                }\n            });\n        })(subGroup);\n    });\n}\n// 获取分组中的所有条目ID（递归包括子分组）\nfunction getAllPromptIdsFromGroup(group) {\n    let allIds = [...group.promptIds];\n    group.subGroups.forEach(subGroup => {\n        allIds = allIds.concat(getAllPromptIdsFromGroup(subGroup));\n    });\n    return allIds;\n}\n// 加载时恢复分组\nfunction restoreGroupingFromConfig() {\n    try {\n        const currentPresetName = TavernHelper.getLoadedPresetName();\n        const groups = getPresetGrouping(currentPresetName);\n        if (groups.length > 0) {\n            console.log(`恢复预设 \"${currentPresetName}\" 的分组配置，共 ${groups.length} 个分组`);\n            // 检查是否有预设条目存在\n            const promptElements = $('.completion_prompt_manager_prompt');\n            if (promptElements.length === 0) {\n                console.log('⚠️ 未找到预设条目，延迟恢复分组');\n                setTimeout(() => restoreGroupingFromConfig(), 200);\n                return;\n            }\n            // 延迟一点时间确保DOM已加载\n            setTimeout(() => {\n                applyGroupingToDOM(groups);\n            }, 200);\n        }\n        else {\n            console.log(`预设 \"${currentPresetName}\" 没有分组配置`);\n        }\n    }\n    catch (error) {\n        console.error('恢复分组配置失败:', error);\n    }\n}\n// 延迟恢复分组（用于DOM变化后）\n// 防抖恢复分组\nlet restoreTimeout = null;\n// 智能延迟恢复，根据操作类型调整延迟时间\nfunction restoreGroupingDelayed(delay = 200, operation = 'unknown') {\n    if (restoreTimeout) {\n        clearTimeout(restoreTimeout);\n    }\n    // 根据操作类型调整延迟时间\n    let actualDelay = delay;\n    switch (operation) {\n        case 'toggle':\n            actualDelay = 100; // 开关操作最快\n            break;\n        case 'settings':\n            actualDelay = 200; // 设置更新中等\n            break;\n        case 'dom_change':\n            actualDelay = 150; // DOM变化较快\n            break;\n        case 'preset_change':\n            actualDelay = 100; // 预设切换最快\n            break;\n        default:\n            actualDelay = delay;\n    }\n    restoreTimeout = window.setTimeout(() => {\n        console.log(`🔄 延迟恢复分组开始... (操作: ${operation}, 延迟: ${actualDelay}ms)`);\n        restoreGroupingFromConfig();\n        restoreTimeout = null;\n    }, actualDelay);\n}\n// 立即恢复分组（用于关键操作）\nfunction restoreGroupingImmediate() {\n    console.log('⚡ 立即恢复分组...');\n    restoreGroupingFromConfig();\n}\n// 强制恢复分组（多次尝试确保成功）\nfunction forceRestoreGrouping() {\n    const tryRestore = (attempt) => {\n        const currentPresetName = TavernHelper.getLoadedPresetName();\n        const groups = getPresetGrouping(currentPresetName);\n        const promptElements = $('.completion_prompt_manager_prompt');\n        console.log(`第${attempt}次尝试恢复分组，预设: ${currentPresetName}, 分组数: ${groups.length}, 条目数: ${promptElements.length}`);\n        if (groups.length > 0 && promptElements.length > 0) {\n            applyGroupingToDOM(groups);\n            console.log('✅ 分组恢复成功');\n        }\n        else if (attempt < 5) {\n            // 如果还没有条目或分组，继续尝试\n            setTimeout(() => tryRestore(attempt + 1), 200);\n        }\n        else {\n            console.log('⚠️ 分组恢复失败，已达到最大尝试次数');\n        }\n    };\n    tryRestore(1);\n}\n// 主动触发分组恢复（用于关键操作后）\nfunction triggerGroupingRestore() {\n    console.log('🔄 主动触发分组恢复...');\n    // 先清除现有的分组效果\n    clearAllGrouping();\n    // 然后延迟恢复\n    restoreGroupingDelayed(150, 'dom_change');\n}\n// 清除所有分组\nfunction clearAllGrouping() {\n    $('.prompt-group-container').each(function () {\n        const prompts = $(this).find('.completion_prompt_manager_prompt');\n        $(this).before(prompts);\n        $(this).remove();\n    });\n}\n// 导出当前预设的分组配置\nfunction exportPresetGrouping(presetName) {\n    const groups = getPresetGrouping(presetName);\n    return groups.length > 0 ? groups : null;\n}\n// 导入分组配置到指定预设\nfunction importPresetGrouping(presetName, groups) {\n    if (!groups || !Array.isArray(groups) || groups.length === 0) {\n        console.warn('导入的分组配置为空或格式不正确');\n        return;\n    }\n    console.log('开始导入分组配置到预设:', presetName, '分组数量:', groups.length);\n    // 验证并修复分组数据结构\n    const validGroups = groups\n        .map(group => {\n        // 确保分组对象有所有必需的字段\n        const validGroup = {\n            id: group.id || Date.now().toString() + Math.random().toString(36).substr(2, 9),\n            name: group.name || '未命名分组',\n            promptIds: Array.isArray(group.promptIds) ? group.promptIds : [],\n            subGroups: Array.isArray(group.subGroups) ? group.subGroups : [],\n            collapsed: typeof group.collapsed === 'boolean' ? group.collapsed : true,\n            level: typeof group.level === 'number' ? group.level : 0,\n            parentId: group.parentId,\n        };\n        console.log('处理分组:', validGroup.name, '条目数量:', validGroup.promptIds.length);\n        return validGroup;\n    })\n        .filter(group => group.promptIds.length > 0); // 只保留有条目的分组\n    if (validGroups.length === 0) {\n        console.warn('没有有效的分组配置');\n        return;\n    }\n    console.log('有效分组数量:', validGroups.length);\n    savePresetGrouping(presetName, validGroups);\n    // 如果是当前预设，立即应用\n    const currentPresetName = TavernHelper.getLoadedPresetName();\n    console.log('当前预设:', currentPresetName, '目标预设:', presetName);\n    if (currentPresetName === presetName) {\n        console.log('立即应用分组到当前预设');\n        setTimeout(() => {\n            applyGroupingToDOM(validGroups);\n        }, 100);\n    }\n}\n// 获取所有预设的分组配置（用于批量导出）\nfunction getAllPresetGroupings() {\n    const allGroupings = {};\n    // 遍历localStorage中所有的分组配置\n    for (let i = 0; i < localStorage.length; i++) {\n        const key = localStorage.key(i);\n        if (key && key.startsWith('miaomiao_preset_groups_')) {\n            const presetName = key.replace('miaomiao_preset_groups_', '');\n            const groups = getPresetGrouping(presetName);\n            if (groups.length > 0) {\n                allGroupings[presetName] = groups;\n            }\n        }\n    }\n    return allGroupings;\n}\n// 清除指定预设的分组配置\nfunction clearPresetGrouping(presetName) {\n    localStorage.removeItem(getGroupingStorageKey(presetName));\n    // 如果是当前预设，清除DOM中的分组\n    const currentPresetName = TavernHelper.getLoadedPresetName();\n    if (currentPresetName === presetName) {\n        clearAllGrouping();\n    }\n}\n// 显示位置选择弹窗\nasync function showPositionSelectionPopup(allPrompts, selectedPromptIds, onConfirm) {\n    const popupId = 'position-selection-popup';\n    $(`#${popupId}`).remove();\n    // 过滤掉已选中的条目，只显示可以作为目标的条目\n    const availablePrompts = allPrompts.filter(prompt => !selectedPromptIds.includes(prompt.id));\n    if (availablePrompts.length === 0) {\n        toastr.error('没有可用的目标位置');\n        return;\n    }\n    const promptsHtml = availablePrompts\n        .map(prompt => `\n    <div class=\"position-target-item\" data-prompt-id=\"${prompt.id}\" style=\"border: 1px solid #e0e0e0; margin: 5px 0; border-radius: 6px; background-color: #fff;\">\n      <div style=\"padding: 10px; font-weight: ${prompt.enabled ? 'bold' : 'normal'}; color: ${prompt.enabled ? '#000' : '#666'}; font-size: 14px;\">\n        ${$('<div/>').text(prompt.name).html()}\n      </div>\n      <div style=\"display: flex; border-top: 1px solid #f0f0f0;\">\n        <button class=\"position-btn\" data-prompt-id=\"${prompt.id}\" data-position=\"above\" style=\"flex: 1; padding: 8px; background-color: #e3f2fd; border: none; border-right: 1px solid #f0f0f0; cursor: pointer; font-size: 13px; color: #1976d2;\">移动到上方</button>\n        <button class=\"position-btn\" data-prompt-id=\"${prompt.id}\" data-position=\"below\" style=\"flex: 1; padding: 8px; background-color: #f3e5f5; border: none; cursor: pointer; font-size: 13px; color: #7b1fa2;\">移动到下方</button>\n      </div>\n    </div>\n  `)\n        .join('');\n    const popupHtml = `\n    <div id=\"${popupId}\" style=\"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 10003; display: flex; align-items: center; justify-content: center;\">\n      <div class=\"position-selection-popup-content\" style=\"background-color: #fff8f0; color: #3a2c2c; border-radius: 16px; padding: 20px; width: 90%; max-width: 600px; box-shadow: 0 4px 25px rgba(120,90,60,.25); display: flex; flex-direction: column; max-height: 80vh;\">\n        <h4 style=\"margin-top:0; color:#6a4226; text-align: center; border-bottom: 2px solid #f0d8b6; padding-bottom: 10px;\">选择移动位置</h4>\n        \n        <div style=\"margin: 15px 0; padding: 12px; background-color: #e8f5e8; border-radius: 8px; border-left: 4px solid #4CAF50;\">\n          <div style=\"font-size: 13px; color: #2e7d32; font-weight: bold; margin-bottom: 6px;\">📋 移动说明</div>\n          <div style=\"font-size: 12px; color: #424242; line-height: 1.4;\">\n            已选择 ${selectedPromptIds.length} 个条目进行移动。点击目标条目的\"移动到上方\"或\"移动到下方\"按钮来设置新位置。\n          </div>\n        </div>\n\n        <div style=\"flex: 1; min-height: 0; overflow-y: auto; border: 1px solid #f0e2d0; border-radius: 8px; padding: 12px; margin-bottom: 15px;\">\n          <div style=\"font-size: 13px; color: #666; margin-bottom: 12px;\">选择要移动到哪个条目的上方或下方：</div>\n          <div id=\"position-targets-container\">\n            ${promptsHtml}\n          </div>\n        </div>\n\n        <div style=\"display: flex; justify-content: center;\">\n          <button id=\"position-selection-cancel\" style=\"padding: 10px 16px; background-color:#9E9E9E; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#fff; font-size: 14px;\">取消</button>\n        </div>\n      </div>\n    </div>\n    <style>\n      .position-btn:hover {\n        opacity: 0.8;\n        font-weight: bold;\n      }\n      @media (max-width: 600px) {\n        #${popupId} {\n          align-items: flex-start !important;\n          padding: 10px;\n        }\n        #${popupId} .position-selection-popup-content {\n          margin-top: 5vh !important;\n          max-height: 90vh !important;\n          width: 95% !important;\n          padding: 15px;\n          border-radius: 12px;\n        }\n        #${popupId} .position-btn {\n          font-size: 12px !important;\n          padding: 6px !important;\n        }\n      }\n      @media (max-width: 480px) {\n        #${popupId} .position-selection-popup-content {\n          margin-top: 2vh !important;\n          max-height: 96vh !important;\n          padding: 12px;\n        }\n        #${popupId} h4 {\n          font-size: 16px !important;\n        }\n        #${popupId} .position-btn {\n          font-size: 11px !important;\n          padding: 5px !important;\n        }\n      }\n    </style>\n  `;\n    $('body').append(popupHtml);\n    // 绑定事件\n    $('.position-btn').on('click', function () {\n        const targetPromptId = $(this).data('prompt-id');\n        const position = $(this).data('position');\n        $(`#${popupId}`).remove();\n        onConfirm(targetPromptId, position);\n    });\n    $('#position-selection-cancel').on('click', () => {\n        $(`#${popupId}`).remove();\n    });\n}\n// 移动条目到指定位置\nfunction movePromptsToPosition(selectedPromptIds, targetPromptId, position) {\n    console.log('开始移动条目:', selectedPromptIds, '到', targetPromptId, position);\n    // 通过酒馆助手获取当前预设的条目顺序\n    const currentPrompts = getCurrentPresetPrompts();\n    const promptIds = currentPrompts.map(p => p.id);\n    // 创建新的顺序数组\n    const newOrder = [...promptIds];\n    // 从原位置移除选中的条目\n    selectedPromptIds.forEach(id => {\n        const index = newOrder.indexOf(id);\n        if (index > -1) {\n            newOrder.splice(index, 1);\n        }\n    });\n    // 找到目标位置\n    const targetIndex = newOrder.indexOf(targetPromptId);\n    if (targetIndex === -1) {\n        console.error('未找到目标条目:', targetPromptId);\n        toastr.error('移动失败：未找到目标条目');\n        return;\n    }\n    // 计算插入位置\n    const insertIndex = position === 'above' ? targetIndex : targetIndex + 1;\n    // 在目标位置插入选中的条目\n    newOrder.splice(insertIndex, 0, ...selectedPromptIds);\n    console.log('新的条目顺序:', newOrder);\n    // 应用新顺序到DOM\n    applyNewPromptOrder(newOrder);\n    // 更新分组界面的显示顺序\n    updateGroupingUIOrder(newOrder);\n}\n// 应用新的条目顺序到DOM\nfunction applyNewPromptOrder(newOrder) {\n    console.log('应用新的条目顺序到DOM');\n    const container = $('.completion_prompt_manager_prompt').first().parent();\n    if (container.length === 0) {\n        console.error('未找到预设条目容器');\n        return;\n    }\n    // 按新顺序重新排列DOM元素\n    newOrder.forEach(promptId => {\n        const element = $(`.completion_prompt_manager_prompt[data-pm-identifier=\"${promptId}\"]`);\n        if (element.length === 0) {\n            // 尝试在子元素中查找\n            const fallbackElement = $(`.completion_prompt_manager_prompt`).filter(function () {\n                return $(this).find('[data-pm-identifier]').data('pm-identifier') === promptId;\n            });\n            if (fallbackElement.length > 0) {\n                container.append(fallbackElement);\n            }\n        }\n        else {\n            container.append(element);\n        }\n    });\n    console.log('DOM顺序更新完成');\n}\n// 更新分组界面的显示顺序\nfunction updateGroupingUIOrder(newOrder) {\n    console.log('更新分组界面的显示顺序');\n    const promptsContainer = $('#prompts-container');\n    if (promptsContainer.length === 0) {\n        console.log('分组界面未打开，跳过界面更新');\n        return;\n    }\n    // 按新顺序重新排列分组界面中的条目\n    newOrder.forEach(promptId => {\n        const item = $(`.prompt-item[data-prompt-id=\"${promptId}\"]`);\n        if (item.length > 0) {\n            promptsContainer.append(item);\n        }\n    });\n    console.log('分组界面顺序更新完成');\n}\n// 显示新增条目弹窗\nasync function showAddPromptPopup(onSuccess) {\n    const popupId = 'add-prompt-popup';\n    $(`#${popupId}`).remove();\n    // 获取当前所有条目用于位置选择\n    const currentPrompts = getCurrentPresetPrompts();\n    const popupHtml = `\n    <div id=\"${popupId}\" style=\"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 10004; display: flex; align-items: center; justify-content: center;\">\n      <div class=\"add-prompt-popup-content\" style=\"background-color: #fff8f0; color: #3a2c2c; border-radius: 16px; padding: 20px; width: 90%; max-width: 700px; box-shadow: 0 4px 25px rgba(120,90,60,.25); display: flex; flex-direction: column; max-height: 90vh; overflow: hidden;\">\n        <h4 style=\"margin-top:0; color:#6a4226; text-align: center; border-bottom: 2px solid #f0d8b6; padding-bottom: 10px; flex-shrink: 0;\">新增条目</h4>\n        \n        <div style=\"flex: 1; min-height: 0; overflow-y: auto; margin-bottom: 15px;\">\n          <div style=\"margin: 15px 0;\">\n            <label style=\"display: block; margin-bottom: 8px; font-weight: bold; color: #6a4226;\">条目名称：</label>\n            <input type=\"text\" id=\"add-prompt-name\" placeholder=\"输入条目名称...\" style=\"width: 100%; padding: 10px; border: 1px solid #d4b58b; border-radius: 6px; background: #fff; color: #333; font-size: 14px; margin-bottom: 15px; box-sizing: border-box;\">\n            \n            <label style=\"display: block; margin-bottom: 8px; font-weight: bold; color: #6a4226;\">条目内容：</label>\n            <textarea id=\"add-prompt-content\" placeholder=\"输入条目内容...\" style=\"width: 100%; height: 120px; padding: 10px; border: 1px solid #d4b58b; border-radius: 6px; background: #fff; color: #333; font-size: 14px; resize: vertical; box-sizing: border-box;\"></textarea>\n          </div>\n\n          <div style=\"margin: 15px 0;\">\n            <label style=\"display: block; margin-bottom: 8px; font-weight: bold; color: #6a4226;\">插入位置：</label>\n            <div style=\"display: flex; gap: 10px; margin-bottom: 10px;\">\n              <label style=\"display: flex; align-items: center; cursor: pointer;\">\n                <input type=\"radio\" name=\"position-type\" value=\"end\" checked style=\"margin-right: 6px;\">\n                <span style=\"font-size: 14px;\">添加到末尾</span>\n              </label>\n              <label style=\"display: flex; align-items: center; cursor: pointer;\">\n                <input type=\"radio\" name=\"position-type\" value=\"custom\" style=\"margin-right: 6px;\">\n                <span style=\"font-size: 14px;\">插入到指定位置</span>\n              </label>\n            </div>\n            \n            <div id=\"position-selection-container\" style=\"display: none; border: 1px solid #e0e0e0; border-radius: 6px; max-height: 250px; overflow-y: auto;\">\n              ${currentPrompts\n        .map(prompt => `\n                <div class=\"position-option\" data-prompt-id=\"${prompt.id}\" style=\"border-bottom: 1px solid #f0f0f0; last-child:border-bottom: none;\">\n                  <div style=\"padding: 8px 12px; font-weight: ${prompt.enabled ? 'bold' : 'normal'}; color: ${prompt.enabled ? '#000' : '#666'}; font-size: 13px; background-color: #fafafa;\">\n                    ${$('<div/>').text(prompt.name).html()}\n                  </div>\n                  <div style=\"display: flex;\">\n                    <button class=\"position-btn\" data-prompt-id=\"${prompt.id}\" data-position=\"above\" style=\"flex: 1; padding: 6px; background-color: #e3f2fd; border: none; border-right: 1px solid #f0f0f0; cursor: pointer; font-size: 12px; color: #1976d2;\">插入到上方</button>\n                    <button class=\"position-btn\" data-prompt-id=\"${prompt.id}\" data-position=\"below\" style=\"flex: 1; padding: 6px; background-color: #f3e5f5; border: none; cursor: pointer; font-size: 12px; color: #7b1fa2;\">插入到下方</button>\n                  </div>\n                </div>\n              `)\n        .join('')}\n            </div>\n            \n            <div id=\"selected-position-info\" style=\"margin-top: 10px; padding: 8px; background-color: #e8f5e8; border-radius: 4px; font-size: 13px; color: #2e7d32; display: none;\">\n              <strong>选择的位置：</strong><span id=\"position-description\"></span>\n            </div>\n          </div>\n\n          <div style=\"margin: 15px 0; padding: 12px; background-color: #e3f2fd; border-radius: 8px; border-left: 4px solid #2196F3;\">\n            <div style=\"font-size: 13px; color: #1976d2; font-weight: bold; margin-bottom: 6px;\">💡 提示</div>\n            <div style=\"font-size: 12px; color: #424242; line-height: 1.4;\">\n              选择\"添加到末尾\"会将新条目放在预设的最后。选择\"插入到指定位置\"可以精确控制新条目的位置。\n            </div>\n          </div>\n        </div>\n\n        <div style=\"display: flex; justify-content: space-between; align-items: center; gap: 10px; flex-shrink: 0; border-top: 1px solid #f0e2d0; padding-top: 15px;\">\n          <div style=\"display: flex; align-items: center;\">\n            <input type=\"checkbox\" id=\"add-prompt-enabled\" checked style=\"margin-right: 8px; transform: scale(1.2);\">\n            <label for=\"add-prompt-enabled\" style=\"font-size: 13px; color: #666;\">启用条目</label>\n          </div>\n          <div style=\"display: flex; gap: 8px;\">\n            <button id=\"add-prompt-cancel\" style=\"padding: 10px 16px; background-color:#9E9E9E; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#fff; font-size: 14px;\">取消</button>\n            <button id=\"add-prompt-confirm\" style=\"padding: 10px 16px; background-color:#4CAF50; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#fff; font-size: 14px;\">创建条目</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <style>\n      @media (max-width: 600px) {\n        #${popupId} {\n          align-items: flex-start !important;\n          padding: 10px;\n        }\n        #${popupId} .add-prompt-popup-content {\n          margin-top: 5vh !important;\n          max-height: 90vh !important;\n          width: 95% !important;\n          padding: 15px;\n          border-radius: 12px;\n        }\n        #${popupId} textarea {\n          height: 150px !important;\n        }\n      }\n      @media (max-width: 480px) {\n        #${popupId} .add-prompt-popup-content {\n          margin-top: 2vh !important;\n          max-height: 96vh !important;\n          padding: 12px;\n        }\n        #${popupId} h4 {\n          font-size: 16px !important;\n        }\n        #${popupId} textarea {\n          height: 120px !important;\n        }\n      }\n    </style>\n  `;\n    $('body').append(popupHtml);\n    // 存储选择的位置信息\n    let selectedPosition = null;\n    // 绑定事件\n    $('#add-prompt-cancel').on('click', () => {\n        $(`#${popupId}`).remove();\n    });\n    // 位置类型切换\n    $('input[name=\"position-type\"]').on('change', function () {\n        const positionType = $(this).val();\n        if (positionType === 'custom') {\n            $('#position-selection-container').show();\n        }\n        else {\n            $('#position-selection-container').hide();\n            $('#selected-position-info').hide();\n            selectedPosition = null;\n        }\n    });\n    // 位置选择按钮点击\n    $('.position-btn').on('click', function () {\n        const targetId = $(this).data('prompt-id');\n        const position = $(this).data('position');\n        // 清除之前的选择状态\n        $('.position-btn').removeClass('selected').css('font-weight', 'normal');\n        // 设置当前选择状态\n        $(this).addClass('selected').css('font-weight', 'bold');\n        selectedPosition = { targetId, position };\n        // 显示选择信息\n        const targetPrompt = currentPrompts.find(p => p.id === targetId);\n        if (targetPrompt) {\n            const positionText = position === 'above' ? '上方' : '下方';\n            $('#position-description').text(`插入到\"${targetPrompt.name}\"的${positionText}`);\n            $('#selected-position-info').show();\n        }\n    });\n    $('#add-prompt-confirm').on('click', async () => {\n        const name = $('#add-prompt-name').val()?.toString().trim();\n        const content = $('#add-prompt-content').val()?.toString().trim();\n        const enabled = $('#add-prompt-enabled').is(':checked');\n        const positionType = $('input[name=\"position-type\"]:checked').val();\n        if (!name) {\n            toastr.error('请输入条目名称');\n            return;\n        }\n        if (!content) {\n            toastr.error('请输入条目内容');\n            return;\n        }\n        if (positionType === 'custom' && !selectedPosition) {\n            toastr.error('请选择插入位置');\n            return;\n        }\n        try {\n            if (positionType === 'end' || !selectedPosition) {\n                // 添加到末尾\n                await addNewPrompt(name, content, enabled);\n            }\n            else {\n                // 插入到指定位置\n                await addNewPromptAtPosition(name, content, enabled, selectedPosition.targetId, selectedPosition.position);\n            }\n            $(`#${popupId}`).remove();\n            toastr.success(`条目 \"${name}\" 创建成功`);\n            onSuccess();\n        }\n        catch (error) {\n            console.error('创建条目失败:', error);\n            toastr.error('创建条目失败，请重试');\n        }\n    });\n}\n// 显示编辑条目弹窗\nasync function showEditPromptPopup(prompt, onSuccess) {\n    const popupId = 'edit-prompt-popup';\n    $(`#${popupId}`).remove();\n    // 获取条目的当前内容\n    const currentContent = await getPromptContent(prompt.id);\n    const popupHtml = `\n    <div id=\"${popupId}\" style=\"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 10004; display: flex; align-items: center; justify-content: center;\">\n      <div class=\"edit-prompt-popup-content\" style=\"background-color: #fff8f0; color: #3a2c2c; border-radius: 16px; padding: 20px; width: 90%; max-width: 600px; box-shadow: 0 4px 25px rgba(120,90,60,.25); display: flex; flex-direction: column; max-height: 80vh;\">\n        <h4 style=\"margin-top:0; color:#6a4226; text-align: center; border-bottom: 2px solid #f0d8b6; padding-bottom: 10px;\">编辑条目</h4>\n        \n        <div style=\"margin: 15px 0;\">\n          <label style=\"display: block; margin-bottom: 8px; font-weight: bold; color: #6a4226;\">条目名称：</label>\n          <input type=\"text\" id=\"edit-prompt-name\" value=\"${$('<div/>').text(prompt.name).html()}\" style=\"width: 100%; padding: 10px; border: 1px solid #d4b58b; border-radius: 6px; background: #fff; color: #333; font-size: 14px; margin-bottom: 15px; box-sizing: border-box;\">\n          \n          <label style=\"display: block; margin-bottom: 8px; font-weight: bold; color: #6a4226;\">条目内容：</label>\n          <textarea id=\"edit-prompt-content\" style=\"width: 100%; height: 200px; padding: 10px; border: 1px solid #d4b58b; border-radius: 6px; background: #fff; color: #333; font-size: 14px; resize: vertical; box-sizing: border-box;\">${$('<div/>').text(currentContent).html()}</textarea>\n        </div>\n\n        <div style=\"margin: 15px 0; padding: 12px; background-color: #fff3e0; border-radius: 8px; border-left: 4px solid #ff9800;\">\n          <div style=\"font-size: 13px; color: #f57c00; font-weight: bold; margin-bottom: 6px;\">✏️ 编辑说明</div>\n          <div style=\"font-size: 12px; color: #424242; line-height: 1.4;\">\n            修改条目名称和内容后，变更将立即应用到预设中。请确保内容格式正确。\n          </div>\n        </div>\n\n        <div style=\"display: flex; justify-content: space-between; align-items: center; gap: 10px;\">\n          <div style=\"display: flex; align-items: center;\">\n            <input type=\"checkbox\" id=\"edit-prompt-enabled\" ${prompt.enabled ? 'checked' : ''} style=\"margin-right: 8px; transform: scale(1.2);\">\n            <label for=\"edit-prompt-enabled\" style=\"font-size: 13px; color: #666;\">启用条目</label>\n          </div>\n          <div style=\"display: flex; gap: 8px;\">\n            <button id=\"edit-prompt-cancel\" style=\"padding: 10px 16px; background-color:#9E9E9E; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#fff; font-size: 14px;\">取消</button>\n            <button id=\"edit-prompt-confirm\" style=\"padding: 10px 16px; background-color:#FF9800; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#fff; font-size: 14px;\">保存修改</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <style>\n      @media (max-width: 600px) {\n        #${popupId} {\n          align-items: flex-start !important;\n          padding: 10px;\n        }\n        #${popupId} .edit-prompt-popup-content {\n          margin-top: 5vh !important;\n          max-height: 90vh !important;\n          width: 95% !important;\n          padding: 15px;\n          border-radius: 12px;\n        }\n        #${popupId} textarea {\n          height: 150px !important;\n        }\n      }\n      @media (max-width: 480px) {\n        #${popupId} .edit-prompt-popup-content {\n          margin-top: 2vh !important;\n          max-height: 96vh !important;\n          padding: 12px;\n        }\n        #${popupId} h4 {\n          font-size: 16px !important;\n        }\n        #${popupId} textarea {\n          height: 120px !important;\n        }\n      }\n    </style>\n  `;\n    $('body').append(popupHtml);\n    // 绑定事件\n    $('#edit-prompt-cancel').on('click', () => {\n        $(`#${popupId}`).remove();\n    });\n    $('#edit-prompt-confirm').on('click', async () => {\n        const name = $('#edit-prompt-name').val()?.toString().trim();\n        const content = $('#edit-prompt-content').val()?.toString().trim();\n        const enabled = $('#edit-prompt-enabled').is(':checked');\n        if (!name) {\n            toastr.error('请输入条目名称');\n            return;\n        }\n        if (!content) {\n            toastr.error('请输入条目内容');\n            return;\n        }\n        try {\n            await updatePrompt(prompt.id, name, content, enabled);\n            $(`#${popupId}`).remove();\n            toastr.success(`条目 \"${name}\" 更新成功`);\n            onSuccess();\n        }\n        catch (error) {\n            console.error('更新条目失败:', error);\n            toastr.error('更新条目失败，请重试');\n        }\n    });\n}\n// 新增条目\nasync function addNewPrompt(name, content, enabled) {\n    console.log('新增条目:', name, enabled);\n    try {\n        // 使用UUID生成函数\n        // 使用酒馆助手的预设API直接创建条目\n        await TavernHelper.updatePresetWith('in_use', preset => {\n            const newPrompt = {\n                id: (0,___WEBPACK_IMPORTED_MODULE_0__.generateUUID)(),\n                name: name,\n                enabled: enabled,\n                position: {\n                    type: 'relative',\n                },\n                role: 'system',\n                content: content,\n            };\n            // 添加到预设的prompts数组末尾\n            preset.prompts.push(newPrompt);\n            return preset;\n        }, { render: 'immediate' });\n        console.log('条目创建成功');\n        triggerPresetSave();\n    }\n    catch (error) {\n        console.error('创建条目失败:', error);\n        throw error;\n    }\n}\n// 在指定位置插入新条目\nasync function addNewPromptAtPosition(name, content, enabled, targetId, position) {\n    console.log('在指定位置插入新条目:', name, '位置:', targetId, position);\n    try {\n        // 使用UUID生成函数\n        // 直接在指定位置创建条目\n        await TavernHelper.updatePresetWith('in_use', preset => {\n            const newPrompt = {\n                id: (0,___WEBPACK_IMPORTED_MODULE_0__.generateUUID)(),\n                name: name,\n                enabled: enabled,\n                position: {\n                    type: 'relative',\n                },\n                role: 'system',\n                content: content,\n            };\n            // 找到目标条目的索引\n            const targetIndex = preset.prompts.findIndex(p => p.id === targetId);\n            if (targetIndex === -1) {\n                // 如果找不到目标条目，就添加到末尾\n                preset.prompts.push(newPrompt);\n            }\n            else {\n                // 根据位置插入条目\n                const insertIndex = position === 'above' ? targetIndex : targetIndex + 1;\n                preset.prompts.splice(insertIndex, 0, newPrompt);\n            }\n            return preset;\n        }, { render: 'immediate' });\n        console.log('条目创建并插入成功');\n        triggerPresetSave();\n    }\n    catch (error) {\n        console.error('在指定位置插入条目失败:', error);\n        throw error;\n    }\n}\n// 获取条目内容\nasync function getPromptContent(promptId) {\n    // 尝试从DOM中获取条目内容\n    const promptElement = $(`.completion_prompt_manager_prompt[data-pm-identifier=\"${promptId}\"]`);\n    if (promptElement.length === 0) {\n        console.warn('未找到条目元素:', promptId);\n        return '';\n    }\n    // 查找条目内容元素\n    const contentElement = promptElement.find('.completion_prompt_manager_prompt_content, .prompt-content, textarea');\n    if (contentElement.length > 0) {\n        return contentElement.text() || contentElement.val()?.toString() || '';\n    }\n    console.warn('未找到条目内容:', promptId);\n    return '';\n}\n// 更新条目\nasync function updatePrompt(promptId, name, content, enabled) {\n    console.log('更新条目:', promptId, name, enabled);\n    try {\n        // 使用酒馆助手的预设API直接更新条目\n        await TavernHelper.updatePresetWith('in_use', preset => {\n            // 查找要更新的条目\n            const promptToUpdate = preset.prompts.find(p => p.id === promptId);\n            if (promptToUpdate) {\n                promptToUpdate.name = name;\n                promptToUpdate.content = content;\n                promptToUpdate.enabled = enabled;\n            }\n            else {\n                // 如果在prompts中没找到，尝试在prompts_unused中查找\n                const unusedPromptToUpdate = preset.prompts_unused.find(p => p.id === promptId);\n                if (unusedPromptToUpdate) {\n                    unusedPromptToUpdate.name = name;\n                    unusedPromptToUpdate.content = content;\n                    unusedPromptToUpdate.enabled = enabled;\n                }\n            }\n            return preset;\n        }, { render: 'immediate' });\n        console.log('条目更新成功');\n        triggerPresetSave();\n    }\n    catch (error) {\n        console.error('更新条目失败:', error);\n        throw error;\n    }\n}\n// 删除选中的条目\nasync function deleteSelectedPrompts(promptIds) {\n    console.log('删除条目:', promptIds);\n    try {\n        // 使用酒馆助手的预设API直接删除条目\n        await TavernHelper.updatePresetWith('in_use', preset => {\n            // 从prompts数组中删除条目\n            preset.prompts = preset.prompts.filter(p => !promptIds.includes(p.id));\n            // 从prompts_unused数组中删除条目\n            preset.prompts_unused = preset.prompts_unused.filter(p => !promptIds.includes(p.id));\n            return preset;\n        }, { render: 'immediate' });\n        console.log('删除条目成功:', promptIds);\n        triggerPresetSave();\n        toastr.success(`成功删除 ${promptIds.length} 个条目`);\n    }\n    catch (error) {\n        console.error('删除条目失败:', promptIds, error);\n        toastr.error('删除条目失败，请重试');\n    }\n}\n// 在分组树中查找包含指定条目的分组\nfunction findPromptInGroups(groups, promptId) {\n    for (const group of groups) {\n        if (group.promptIds.includes(promptId)) {\n            return group;\n        }\n        // 递归查找子分组\n        const foundInSubGroups = findPromptInGroups(group.subGroups, promptId);\n        if (foundInSubGroups) {\n            return foundInSubGroups;\n        }\n    }\n    return null;\n}\n// 检查分组是否有有效内容（条目或子分组）\nfunction hasValidContent(group) {\n    return group.promptIds.length > 0 || group.subGroups.some(subGroup => hasValidContent(subGroup));\n}\n// 检测选中条目是否都属于同一个分组\nfunction detectCommonParentGroup(selectedPrompts, groups) {\n    if (selectedPrompts.length === 0)\n        return null;\n    // 找到第一个条目所属的分组\n    const firstPromptGroup = findPromptInGroups(groups, selectedPrompts[0]);\n    if (!firstPromptGroup)\n        return null;\n    // 检查其他条目是否都属于同一个分组\n    for (let i = 1; i < selectedPrompts.length; i++) {\n        const promptGroup = findPromptInGroups(groups, selectedPrompts[i]);\n        if (!promptGroup || promptGroup.id !== firstPromptGroup.id) {\n            return null; // 不是同一个分组\n        }\n    }\n    return firstPromptGroup;\n}\n// 创建子分组\nasync function createSubGroup(parentGroup, subGroupName, selectedPrompts, existingGroups) {\n    // 检查子分组名称是否与父分组的其他子分组重名\n    if (parentGroup.subGroups.some(sg => sg.name === subGroupName)) {\n        toastr.error(`子分组名称 \"${subGroupName}\" 已存在于分组 \"${parentGroup.name}\" 中`);\n        return;\n    }\n    // 创建新子分组\n    const newSubGroup = {\n        id: Date.now().toString(),\n        name: subGroupName,\n        promptIds: [...selectedPrompts],\n        subGroups: [],\n        collapsed: true,\n        level: parentGroup.level + 1,\n        parentId: parentGroup.id,\n    };\n    // 从父分组中移除这些条目\n    selectedPrompts.forEach(promptId => {\n        const index = parentGroup.promptIds.indexOf(promptId);\n        if (index > -1) {\n            parentGroup.promptIds.splice(index, 1);\n        }\n    });\n    // 添加子分组\n    parentGroup.subGroups.push(newSubGroup);\n    // 更新UI\n    selectedPrompts.forEach(promptId => {\n        const item = $(`.prompt-item[data-prompt-id=\"${promptId}\"]`);\n        item.css('background-color', '#e8f5e8');\n        const existingTag = item.find('.group-tag');\n        const groupPath = getGroupPath(newSubGroup, existingGroups);\n        if (existingTag.length) {\n            existingTag.text(groupPath);\n        }\n        else {\n            item\n                .find('span:last')\n                .after(`<span class=\"group-tag\" style=\"font-size: 12px; color: #4CAF50; background: #e8f5e8; padding: 2px 6px; border-radius: 3px; margin-left: 8px;\">${groupPath}</span>`);\n        }\n    });\n    toastr.success(`子分组 \"${getGroupPath(newSubGroup, existingGroups)}\" 创建成功，将在关闭分组界面时应用`);\n}\n// 创建顶级分组\nasync function createTopLevelGroup(groupName, selectedPrompts, existingGroups) {\n    // 创建新的顶级分组\n    const newGroup = {\n        id: Date.now().toString(),\n        name: groupName,\n        promptIds: [...selectedPrompts],\n        subGroups: [],\n        collapsed: true,\n        level: 0,\n    };\n    existingGroups.push(newGroup);\n    // 更新UI\n    selectedPrompts.forEach(promptId => {\n        const item = $(`.prompt-item[data-prompt-id=\"${promptId}\"]`);\n        item.css('background-color', '#e8f5e8');\n        const existingTag = item.find('.group-tag');\n        if (existingTag.length) {\n            existingTag.text(groupName);\n        }\n        else {\n            item\n                .find('span:last')\n                .after(`<span class=\"group-tag\" style=\"font-size: 12px; color: #4CAF50; background: #e8f5e8; padding: 2px 6px; border-radius: 3px; margin-left: 8px;\">${groupName}</span>`);\n        }\n    });\n    toastr.success(`分组 \"${groupName}\" 创建成功，将在关闭分组界面时应用`);\n}\n// 获取分组的完整路径\nfunction getGroupPath(group, allGroups) {\n    const path = [];\n    let currentGroup = group;\n    while (currentGroup) {\n        path.unshift(currentGroup.name);\n        if (currentGroup.parentId) {\n            currentGroup = findGroupById(allGroups, currentGroup.parentId);\n        }\n        else {\n            break;\n        }\n    }\n    return path.join('/');\n}\n// 根据ID查找分组（递归查找）\nfunction findGroupById(groups, groupId) {\n    for (const group of groups) {\n        if (group.id === groupId) {\n            return group;\n        }\n        const foundInSubGroups = findGroupById(group.subGroups, groupId);\n        if (foundInSubGroups) {\n            return foundInSubGroups;\n        }\n    }\n    return null;\n}\n// 显示分组选择弹窗\nasync function showGroupSelectionPopup(selectedPrompts, existingGroups) {\n    const popupId = 'group-selection-popup';\n    $(`#${popupId}`).remove();\n    if (existingGroups.length === 0) {\n        toastr.warning('当前没有可用的分组，请先创建分组');\n        return;\n    }\n    // 生成分组列表HTML\n    const groupsHtml = generateGroupsListHtml(existingGroups, 0);\n    const popupHtml = `\n    <div id=\"${popupId}\" style=\"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 10002; display: flex; align-items: center; justify-content: center; padding: 20px; box-sizing: border-box;\">\n      <div style=\"background-color: #fff8f0; color: #3a2c2c; border-radius: 16px; padding: 20px; width: 100%; max-width: 500px; box-shadow: 0 4px 25px rgba(120,90,60,.25); display: flex; flex-direction: column; max-height: 80vh; position: relative;\">\n        <h4 style=\"margin-top:0; color:#6a4226; text-align: center; border-bottom: 2px solid #f0d8b6; padding-bottom: 10px;\">选择目标分组</h4>\n        <div style=\"flex: 1; min-height: 0; overflow-y: auto; margin: 15px 0;\">\n          <div style=\"font-size: 13px; color: #666; margin-bottom: 12px; line-height: 1.4;\">\n            请选择要将 ${selectedPrompts.length} 个条目加入的分组：\n          </div>\n          <div id=\"groups-list\" style=\"max-height: 300px; overflow-y: auto;\">\n            ${groupsHtml}\n          </div>\n        </div>\n        <div style=\"text-align: right; margin-top: 15px; flex-shrink: 0;\">\n          <div id=\"selected-group-info\" style=\"font-size: 12px; color: #666; margin-bottom: 10px; text-align: left; display: none;\">\n            已选择分组: <span id=\"selected-group-name\" style=\"font-weight: bold; color: #4CAF50;\"></span>\n          </div>\n          <div style=\"display: flex; gap: 10px; justify-content: flex-end;\">\n            <button id=\"group-selection-cancel\" style=\"padding: 8px 16px; background-color:#bcaaa4; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#3a2c2c;\">取消</button>\n            <button id=\"group-selection-confirm\" style=\"padding: 8px 16px; background-color:#4CAF50; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#fff; display: none;\">加入此分组</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <style>\n      .group-option.selected-group {\n        background-color: #e8f5e8 !important;\n        border-color: #4CAF50 !important;\n        border-width: 2px !important;\n        box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3) !important;\n      }\n      .group-option.selected-group:hover {\n        background-color: #d4edda !important;\n      }\n      @media (max-width: 768px) {\n        #${popupId} {\n          align-items: flex-start !important;\n          padding: 10px !important;\n        }\n        #${popupId} > div {\n          margin-top: 5vh !important;\n          max-height: 85vh !important;\n          width: 100% !important;\n          padding: 15px !important;\n        }\n      }\n      @media (max-width: 480px) {\n        #${popupId} {\n          padding: 5px !important;\n        }\n        #${popupId} > div {\n          margin-top: 2vh !important;\n          max-height: 90vh !important;\n          padding: 12px !important;\n        }\n      }\n    </style>\n  `;\n    $('body').append(popupHtml);\n    let selectedGroup = null;\n    // 先解绑所有可能重复的事件，防止脚本重复加载导致的问题\n    $('#group-selection-cancel').off('click');\n    $('#group-selection-confirm').off('click');\n    $(document).off('click', '.group-option');\n    // 绑定事件\n    $('#group-selection-cancel').on('click', () => {\n        $(`#${popupId}`).remove();\n    });\n    // 确认加入分组\n    $('#group-selection-confirm').on('click', async () => {\n        if (!selectedGroup) {\n            toastr.error('请先选择一个分组');\n            return;\n        }\n        try {\n            await addPromptsToGroup(selectedPrompts, selectedGroup, existingGroups);\n            $(`#${popupId}`).remove();\n            // 重新加载分组界面\n            setTimeout(() => {\n                $('#preset-manager-grouping-popup').remove();\n                showPromptGroupingUI();\n            }, 100);\n        }\n        catch (error) {\n            console.error('加入分组失败:', error);\n            toastr.error('加入分组失败，请重试');\n        }\n    });\n    // 延迟绑定事件，确保DOM完全加载\n    setTimeout(() => {\n        console.log('开始绑定分组选择事件');\n        console.log('现有分组列表:', existingGroups.map(g => ({ id: g.id, name: g.name, type: typeof g.id })));\n        // 直接绑定到弹窗内的元素\n        $(`#${popupId} .group-option`)\n            .off('click')\n            .on('click', function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n            const groupId = $(this).data('group-id');\n            console.log('点击分组选项:', groupId, '类型:', typeof groupId, '元素:', this);\n            // 确保groupId是字符串类型\n            const groupIdStr = String(groupId);\n            console.log('转换后的groupId:', groupIdStr, '类型:', typeof groupIdStr);\n            const group = findGroupById(existingGroups, groupIdStr);\n            console.log('找到分组:', group);\n            if (group) {\n                // 清除之前的选择\n                $(`#${popupId} .group-option`).removeClass('selected-group');\n                // 标记当前选择\n                $(this).addClass('selected-group');\n                selectedGroup = group;\n                // 显示选择信息和确认按钮\n                const nameElement = $(`#${popupId} #selected-group-name`);\n                const infoElement = $(`#${popupId} #selected-group-info`);\n                const confirmButton = $(`#${popupId} #group-selection-confirm`);\n                console.log('更新UI元素:', {\n                    nameElement: nameElement.length,\n                    infoElement: infoElement.length,\n                    confirmButton: confirmButton.length,\n                });\n                nameElement.text(group.name);\n                infoElement.show();\n                confirmButton.show();\n                console.log('已选择分组:', group.name, 'UI已更新');\n            }\n            else {\n                console.error('未找到分组:', groupId);\n                toastr.error('未找到选中的分组');\n            }\n        });\n        console.log('分组选择事件绑定完成，找到元素数量:', $(`#${popupId} .group-option`).length);\n    }, 100);\n    // 添加调试信息\n    console.log('分组选择弹窗已创建，分组数量:', existingGroups.length);\n    console.log('确认按钮元素:', $('#group-selection-confirm').length);\n    console.log('选择信息元素:', $('#selected-group-info').length);\n}\n// 生成分组列表HTML\nfunction generateGroupsListHtml(groups, level) {\n    let html = '';\n    groups.forEach(group => {\n        const hasContent = group.promptIds.length > 0 || group.subGroups.length > 0;\n        if (hasContent) {\n            html += `\n        <div class=\"group-option\" data-group-id=\"${group.id}\" \n             style=\"padding: 12px; margin: 8px 0; border: 1px solid #e0e0e0; border-radius: 8px; cursor: pointer; background-color: #f9f9f9; transition: all 0.2s ease; margin-left: ${level * 20}px; user-select: none;\"\n             onmouseover=\"this.style.backgroundColor='#e8f5e8'; this.style.borderColor='#4CAF50';\"\n             onmouseout=\"this.style.backgroundColor='#f9f9f9'; this.style.borderColor='#e0e0e0';\">\n          <div style=\"font-weight: bold; color: #333; font-size: 14px; margin-bottom: 4px;\">\n            ${$('<div/>').text(group.name).html()}\n          </div>\n          <div style=\"font-size: 12px; color: #666; display: flex; gap: 12px;\">\n            <span>📄 条目: ${group.promptIds.length}</span>\n            <span>📁 子分组: ${group.subGroups.length}</span>\n          </div>\n        </div>\n      `;\n        }\n        // 递归处理子分组\n        if (group.subGroups.length > 0) {\n            html += generateGroupsListHtml(group.subGroups, level + 1);\n        }\n    });\n    return html;\n}\n// 将条目加入指定分组\nasync function addPromptsToGroup(selectedPrompts, targetGroup, existingGroups) {\n    // 检查条目是否已经在目标分组中\n    const alreadyInGroup = selectedPrompts.filter(promptId => targetGroup.promptIds.includes(promptId));\n    if (alreadyInGroup.length > 0) {\n        toastr.warning(`有 ${alreadyInGroup.length} 个条目已在该分组中，将跳过`);\n    }\n    // 将条目添加到目标分组\n    const newPrompts = selectedPrompts.filter(promptId => !targetGroup.promptIds.includes(promptId));\n    targetGroup.promptIds.push(...newPrompts);\n    // 更新UI\n    newPrompts.forEach(promptId => {\n        const item = $(`.prompt-item[data-prompt-id=\"${promptId}\"]`);\n        item.css('background-color', '#e8f5e8');\n        // 更新或添加分组标签\n        const existingTag = item.find('.group-tag');\n        const groupPath = getGroupPath(targetGroup, existingGroups);\n        if (existingTag.length) {\n            existingTag.text(groupPath);\n        }\n        else {\n            item\n                .find('.prompt-text')\n                .append(`<div style=\"color: #666; font-size: 12px; margin-top: 4px; word-wrap: break-word; overflow-wrap: break-word;\">📁 ${groupPath}</div>`);\n            item.append(`<span class=\"group-tag\" style=\"background-color: #4CAF50; color: white; padding: 2px 8px; border-radius: 12px; font-size: 11px; margin-left: 8px; flex-shrink: 0; align-self: flex-start; margin-top: 2px;\">已分组</span>`);\n        }\n    });\n    // 保存分组配置\n    const currentPresetName = TavernHelper.getLoadedPresetName();\n    savePresetGrouping(currentPresetName, existingGroups);\n    // 立即应用分组到DOM\n    applyGroupingToDOM(existingGroups);\n    // 延迟恢复以确保DOM更新完成\n    setTimeout(() => {\n        restoreGroupingImmediate();\n    }, 100);\n    toastr.success(`已将 ${newPrompts.length} 个条目加入分组 \"${getGroupPath(targetGroup, existingGroups)}\"，已立即应用`);\n}\n// 将条目从分组中移除\nasync function removePromptsFromGroups(selectedPrompts, existingGroups) {\n    selectedPrompts.forEach(promptId => {\n        const group = findPromptInGroups(existingGroups, promptId);\n        if (group) {\n            // 从分组中移除条目\n            const index = group.promptIds.indexOf(promptId);\n            if (index > -1) {\n                group.promptIds.splice(index, 1);\n            }\n            // 更新UI\n            const item = $(`.prompt-item[data-prompt-id=\"${promptId}\"]`);\n            item.css('background-color', '#fff');\n            item.find('.group-tag').remove();\n            item.find('.prompt-text div:last-child').remove(); // 移除分组路径显示\n        }\n    });\n    // 保存分组配置\n    const currentPresetName = TavernHelper.getLoadedPresetName();\n    savePresetGrouping(currentPresetName, existingGroups);\n    // 立即应用分组到DOM\n    applyGroupingToDOM(existingGroups);\n    // 延迟恢复以确保DOM更新完成\n    setTimeout(() => {\n        restoreGroupingImmediate();\n    }, 100);\n    toastr.success(`已将 ${selectedPrompts.length} 个条目移出分组，已立即应用`);\n}\n// 显示解散分组弹窗\nasync function showDissolveGroupPopup(existingGroups) {\n    const popupId = 'dissolve-group-popup';\n    $(`#${popupId}`).remove();\n    const groupsHtml = existingGroups\n        .map(group => `\n    <div class=\"group-selection-item\" style=\"display: flex; align-items: center; padding: 10px; border: 1px solid #e0e0e0; margin: 5px 0; border-radius: 6px; cursor: pointer; background-color: #fff;\">\n      <input type=\"checkbox\" class=\"group-checkbox\" data-group-name=\"${$('<div/>').text(group.name).html()}\" style=\"margin-right: 12px; transform: scale(1.3);\">\n      <div style=\"flex: 1;\">\n        <div style=\"font-weight: bold; color: #333; font-size: 14px;\">${$('<div/>').text(group.name).html()}</div>\n        <div style=\"font-size: 12px; color: #666; margin-top: 2px;\">包含 ${group.promptIds.length} 个条目</div>\n      </div>\n    </div>\n  `)\n        .join('');\n    const popupHtml = `\n    <div id=\"${popupId}\" style=\"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 10002; display: flex; align-items: center; justify-content: center;\">\n      <div class=\"group-selection-popup-content\" style=\"background-color: #fff8f0; color: #3a2c2c; border-radius: 16px; padding: 20px; width: 90%; max-width: 500px; box-shadow: 0 4px 25px rgba(120,90,60,.25); display: flex; flex-direction: column; max-height: 70vh;\">\n        <h4 style=\"margin-top:0; color:#6a4226; text-align: center; border-bottom: 2px solid #f0d8b6; padding-bottom: 10px;\">选择要解散的分组</h4>\n        \n        <div style=\"margin: 15px 0; display: flex; gap: 8px; flex-wrap: wrap;\">\n          <button id=\"select-all-groups-btn\" style=\"padding: 6px 12px; background-color:#2196F3; border:none; border-radius:6px; color:#fff; cursor:pointer; font-size:13px;\">全选</button>\n          <button id=\"select-none-groups-btn\" style=\"padding: 6px 12px; background-color:#9E9E9E; border:none; border-radius:6px; color:#fff; cursor:pointer; font-size:13px;\">全不选</button>\n        </div>\n\n        <div style=\"flex: 1; min-height: 0; overflow-y: auto; border: 1px solid #f0e2d0; border-radius: 8px; padding: 12px; margin-bottom: 15px;\">\n          <div style=\"font-size: 13px; color: #666; margin-bottom: 12px;\">选择要解散的分组，解散后分组内的条目将变为独立条目</div>\n          <div id=\"groups-container\">\n            ${groupsHtml}\n          </div>\n        </div>\n\n        <div style=\"display: flex; justify-content: space-between; align-items: center; gap: 10px;\">\n          <div style=\"font-size: 12px; color: #666;\">⚠️ 解散操作不可撤销</div>\n          <div style=\"display: flex; gap: 8px;\">\n            <button id=\"group-selection-cancel\" style=\"padding: 10px 16px; background-color:#9E9E9E; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#fff; font-size: 14px;\">取消</button>\n            <button id=\"group-selection-confirm\" style=\"padding: 10px 16px; background-color:#ff9800; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#fff; font-size: 14px;\">解散选中</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n    $('body').append(popupHtml);\n    // 绑定事件\n    $('.group-selection-item').on('click', function (e) {\n        if (e.target.type === 'checkbox')\n            return;\n        const checkbox = $(this).find('.group-checkbox');\n        checkbox.prop('checked', !checkbox.prop('checked'));\n    });\n    $('#select-all-groups-btn').on('click', () => {\n        $('.group-checkbox').prop('checked', true);\n    });\n    $('#select-none-groups-btn').on('click', () => {\n        $('.group-checkbox').prop('checked', false);\n    });\n    $('#group-selection-cancel').on('click', () => {\n        $(`#${popupId}`).remove();\n    });\n    $('#group-selection-confirm').on('click', () => {\n        const selectedGroupNames = [];\n        $('.group-checkbox:checked').each(function () {\n            selectedGroupNames.push($(this).data('group-name'));\n        });\n        if (selectedGroupNames.length === 0) {\n            toastr.error('请选择要解散的分组');\n            return;\n        }\n        // 解散选中的分组\n        selectedGroupNames.forEach(groupName => {\n            const groupIndex = existingGroups.findIndex(g => g.name === groupName);\n            if (groupIndex > -1) {\n                const group = existingGroups[groupIndex];\n                // 更新UI - 移除分组标签和背景色\n                group.promptIds.forEach(promptId => {\n                    const item = $(`.prompt-item[data-prompt-id=\"${promptId}\"]`);\n                    item.css('background-color', '#fff');\n                    item.find('.group-tag').remove();\n                    // 清除分组路径显示\n                    const promptText = item.find('.prompt-text');\n                    if (promptText.length > 0) {\n                        const lastDiv = promptText.find('div:last-child');\n                        if (lastDiv.text().includes('📁')) {\n                            lastDiv.remove();\n                        }\n                    }\n                });\n                // 递归处理子分组\n                const processSubGroups = (subGroups) => {\n                    subGroups.forEach(subGroup => {\n                        subGroup.promptIds.forEach(promptId => {\n                            const item = $(`.prompt-item[data-prompt-id=\"${promptId}\"]`);\n                            item.css('background-color', '#fff');\n                            item.find('.group-tag').remove();\n                            const promptText = item.find('.prompt-text');\n                            if (promptText.length > 0) {\n                                const lastDiv = promptText.find('div:last-child');\n                                if (lastDiv.text().includes('📁')) {\n                                    lastDiv.remove();\n                                }\n                            }\n                        });\n                        if (subGroup.subGroups.length > 0) {\n                            processSubGroups(subGroup.subGroups);\n                        }\n                    });\n                };\n                if (group.subGroups.length > 0) {\n                    processSubGroups(group.subGroups);\n                }\n                existingGroups.splice(groupIndex, 1);\n            }\n        });\n        // 保存更新后的分组配置\n        const currentPresetName = TavernHelper.getLoadedPresetName();\n        const validGroups = existingGroups.filter(g => hasValidContent(g));\n        savePresetGrouping(currentPresetName, validGroups);\n        // 立即应用分组到DOM\n        applyGroupingToDOM(validGroups);\n        // 延迟恢复以确保DOM更新完成\n        setTimeout(() => {\n            restoreGroupingImmediate();\n        }, 100);\n        $(`#${popupId}`).remove();\n        toastr.success(`已解散 ${selectedGroupNames.length} 个分组`);\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5Za15Za16aKE6K6+6YWN572u566h55CGL+adoeebruWIhue7hOWKn+iDvS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBT0EsVUFBVTtBQUNWLElBQUksTUFBTSxDQUFDLDRCQUE0QixFQUFFLENBQUM7SUFDeEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0lBQzNDLGVBQWU7SUFDZixNQUFNLElBQUksS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUM7QUFDM0MsQ0FBQztBQUVELE1BQU0sQ0FBQyw0QkFBNEIsR0FBRyxJQUFJLENBQUM7QUFDM0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO0FBRUc7QUFZeEMsbUJBQW1CO0FBQ25CLFNBQVMscUJBQXFCLENBQUMsVUFBa0I7SUFDL0MsT0FBTywwQkFBMEIsVUFBVSxFQUFFLENBQUM7QUFDaEQsQ0FBQztBQUVELFlBQVk7QUFDWixTQUFTLGlCQUFpQixDQUFDLFVBQWtCO0lBQzNDLElBQUksQ0FBQztRQUNILE1BQU0sTUFBTSxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztRQUN2RSxPQUFPLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQzFDLENBQUM7SUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1FBQ2YsT0FBTyxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDbEMsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDO0FBQ0gsQ0FBQztBQUVELFlBQVk7QUFDWixTQUFTLGtCQUFrQixDQUFDLFVBQWtCLEVBQUUsTUFBcUI7SUFDbkUsSUFBSSxDQUFDO1FBQ0gsWUFBWSxDQUFDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxVQUFVLENBQUMsRUFBRSxJQUFJLENBQUMsU0FBUyxD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Ozs7U0FTTCxPQUFPOzs7OztTQUtQLE9BQU87OztTQUdQLE9BQU87Ozs7Ozs7U0FPUCxPQUFPOzs7O1NBSVAsT0FBTzs7Ozs7OztTQU9QLE9BQU87Ozs7O1NBS1AsT0FBTzs7Ozs7U0FLUCxPQUFPOzs7OztTQUtQLE9BQU87Ozs7Ozs7Ozs7O1NBV1AsT0FBTzs7O1NBR1AsT0FBTzs7Ozs7OztTQU9QLE9BQU87Ozs7U0FJUCxPQUFPOzs7O1NBSVAsT0FBTzs7OztTQUlQLE9BQU87Ozs7U0FJUCxPQUFPOzs7O1NBSVAsT0FBTzs7OztTQUlQLE9BQU87Ozs7Ozs7U0FPUCxPQUFPOzs7OztTQUtQLE9BQU87Ozs7Ozs7O1NBUVAsT0FBTzs7Ozs7O1NBTVAsT0FBTzs7Ozs7O1NBTVAsT0FBTzs7Ozs7Ozs7Ozs7Ozs7U0FjUCxPQUFPOzs7Ozs7Ozs7O1NBVVAsT0FBTzs7Ozs7OztTQU9QLE9BQU87Ozs7U0FJUCxPQUFPOzs7O1NBSVAsT0FBTzs7OztTQUlQLE9BQU87Ozs7U0FJUCxPQUFPOzs7O1NBSVAsT0FBTzs7OztTQUlQLE9BQU87Ozs7Ozs7U0FPUCxPQUFPOzs7OztTQUtQLE9BQU87Ozs7Ozs7O1NBUVAsT0FBTzs7Ozs7O1NBTVAsT0FBTzs7Ozs7O1NBTVAsT0FBTzs7Ozs7Ozs7U0FRUCxPQUFPOzs7Ozs7Ozs7OztTQVdQLE9BQU87Ozs7Ozs7OztTQVNQLE9BQU87Ozs7Ozs7U0FPUCxPQUFPOzs7O1NBSVAsT0FBTzs7OztTQUlQLE9BQU87Ozs7U0FJUCxPQUFPOzs7O1NBSVAsT0FBTzs7OztTQUlQLE9BQU87Ozs7U0FJUCxPQUFPOzs7Ozs7O1NBT1AsT0FBTzs7Ozs7U0FLUCxPQUFPOzs7Ozs7OztTQVFQLE9BQU87Ozs7OztTQU1QLE9BQU87Ozs7OztTQU1QLE9BQU87Ozs7Ozs7O1NBUVAsT0FBTzs7Ozs7Ozs7Ozs7U0FXUCxPQUFPOzs7Ozs7V0FNTCxDQUFDO0lBQ1YsQ0FBQyxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDeEMsQ0FBQztBQUVE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RixJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO29CQUMvQixnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQ3BDLENBQUM7Z0JBRUQsY0FBYyxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDdkMsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO1FBRUgsYUFBYTtRQUNiLE1BQU0saUJBQWlCLEdBQUcsWUFBWSxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFDN0QsTUFBTSxXQUFXLEdBQUcsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25FLGtCQUFrQixDQUFDLGlCQUFpQixFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBRW5ELGFBQWE7UUFDYixrQkFBa0IsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNoQyxpQkFBaUI7UUFDakIsVUFBVSxDQUFDLEdBQUcsRUFBRTtZQUNkLHdCQUF3QixFQUFFLENBQUM7UUFDN0IsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBRVIsQ0FBQyxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUMxQixNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sa0JBQWtCLENBQUMsTUFBTSxNQUFNLENBQUMsQ0FBQztJQUN6RCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+WWteWWtemihOiuvumFjee9rueuoeeQhi/mnaHnm67liIbnu4Tlip/og70udHM/Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIOaJqeWxlSB3aW5kb3cg57G75Z6LXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIG1pYW9taWFvUHJvbXB0R3JvdXBpbmdMb2FkZWQ/OiBib29sZWFuO1xuICB9XG59XG5cbi8vIOmYsumHjeWkjeWKoOi9veajgOafpVxuaWYgKHdpbmRvdy5taWFvbWlhb1Byb21wdEdyb3VwaW5nTG9hZGVkKSB7XG4gIGNvbnNvbGUubG9nKCfllrXllrXpooTorr7phY3nva7nrqHnkIYgLSDmnaHnm67liIbnu4Tlip/og73lt7LliqDovb3vvIzot7Pov4fph43lpI3liqDovb0nKTtcbiAgLy8g55u05o6l6L+U5Zue77yM5LiN5omn6KGM5ZCO57ut5Luj56CBXG4gIHRocm93IG5ldyBFcnJvcignU2NyaXB0IGFscmVhZHkgbG9hZGVkJyk7XG59XG5cbndpbmRvdy5taWFvbWlhb1Byb21wdEdyb3VwaW5nTG9hZGVkID0gdHJ1ZTtcbmNvbnNvbGUubG9nKCfllrXllrXpooTorr7phY3nva7nrqHnkIYgLSDmnaHnm67liIbnu4Tlip/og73pppbmrKHliqDovb0nKTtcblxuaW1wb3J0IHsgZ2VuZXJhdGVVVUlEIH0gZnJvbSAnLi/liJ3lp4vljJblkozphY3nva4nO1xuXG5leHBvcnQgaW50ZXJmYWNlIFByb21wdEdyb3VwIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBwcm9tcHRJZHM6IHN0cmluZ1tdO1xuICBzdWJHcm91cHM6IFByb21wdEdyb3VwW107XG4gIGNvbGxhcHNlZDogYm9vbGVhbjtcbiAgbGV2ZWw6IG51bWJlcjtcbiAgcGFyZW50SWQ/OiBzdHJpbmc7XG59XG5cbi8vIOWIhue7hOaVsOaNruWtmOWCqOmUruWQje+8iOWfuuS6jumihOiuvuWQjeensO+8iVxuZnVuY3Rpb24gZ2V0R3JvdXBpbmdTdG9yYWdlS2V5KHByZXNldE5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBgbWlhb21pYW9fcHJlc2V0X2dyb3Vwc18ke3ByZXNldE5hbWV9YDtcbn1cblxuLy8g6I635Y+W6aKE6K6+55qE5YiG57uE6YWN572uXG5mdW5jdGlvbiBnZXRQcmVzZXRHcm91cGluZyhwcmVzZXROYW1lOiBzdHJpbmcpOiBQcm9tcHRHcm91cFtdIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShnZXRHcm91cGluZ1N0b3JhZ2VLZXkocHJlc2V0TmFtZSkpO1xuICAgIHJldHVybiBzdG9yZWQgPyBKU09OLnBhcnNlKHN0b3JlZCkgOiBbXTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfojrflj5bliIbnu4TphY3nva7lpLHotKU6JywgZXJyb3IpO1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG4vLyDkv53lrZjpooTorr7nmoTliIbnu4TphY3nva5cbmZ1bmN0aW9uIHNhdmVQcmVzZXRHcm91cGluZyhwcmVzZXROYW1lOiBzdHJpbmcsIGdyb3VwczogUHJvbXB0R3JvdXBbXSk6IHZvaWQge1xuICB0cnkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGdldEdyb3VwaW5nU3RvcmFnZUtleShwcmVzZXROYW1lKSwgSlNPTi5zdHJpbmdpZnkoZ3JvdXBzKSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign5L+d5a2Y5YiG57uE6YWN572u5aSx6LSlOicsIGVycm9yKTtcbiAgfVxufVxuXG4vLyDnvJPlrZhET03mn6Xor6Lnu5PmnpxcbmxldCBjYWNoZWRQcm9tcHRFbGVtZW50czogSlF1ZXJ5IHwgbnVsbCA9IG51bGw7XG5sZXQgbGFzdFByb21wdFF1ZXJ5VGltZSA9IDA7XG5jb25zdCBQUk9NUFRfQ0FDSEVfRFVSQVRJT04gPSAzMDAwOyAvLyAz56eS57yT5a2YXG5cbi8vIOinpuWPkeS4gOasoemihOiuvuS/neWtmO+8jOmBv+WFjeadoeebruabtOaUueS4ouWksVxuZnVuY3Rpb24gdHJpZ2dlclByZXNldFNhdmUoKTogdm9pZCB7XG4gIHRyeSB7XG4gICAgY29uc3QgJGJ0biA9ICQoJyN1cGRhdGVfb2FpX3ByZXNldCcpO1xuICAgIGlmICgkYnRuLmxlbmd0aCkge1xuICAgICAgJGJ0bi50cmlnZ2VyKCdjbGljaycpO1xuICAgICAgY29uc29sZS5sb2coJ+W3suinpuWPkemihOiuvuS/neWtmCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+acquaJvuWIsOmihOiuvuS/neWtmOaMiemSriAjdXBkYXRlX29haV9wcmVzZXQnKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+inpuWPkemihOiuvuS/neWtmOaXtuWHuumUmTonLCBlcnIpO1xuICB9XG59XG5cbi8vIOiOt+WPluW9k+WJjemihOiuvueahOaJgOacieadoeebrlxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRQcmVzZXRQcm9tcHRzKCk6IEFycmF5PHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyBlbGVtZW50OiBKUXVlcnk7IGVuYWJsZWQ6IGJvb2xlYW4gfT4ge1xuICBjb25zdCBwcm9tcHRzOiBBcnJheTx7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgZWxlbWVudDogSlF1ZXJ5OyBlbmFibGVkOiBib29sZWFuIH0+ID0gW107XG5cbiAgLy8g5qOA5p+l57yT5a2Y5piv5ZCm5pyJ5pWIXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gIGlmICghY2FjaGVkUHJvbXB0RWxlbWVudHMgfHwgbm93IC0gbGFzdFByb21wdFF1ZXJ5VGltZSA+IFBST01QVF9DQUNIRV9EVVJBVElPTikge1xuICAgIGNhY2hlZFByb21wdEVsZW1lbnRzID0gJCgnLmNvbXBsZXRpb25fcHJvbXB0X21hbmFnZXJfcHJvbXB0Jyk7XG4gICAgbGFzdFByb21wdFF1ZXJ5VGltZSA9IG5vdztcbiAgfVxuXG4gIGNvbnN0IHByb21wdEVsZW1lbnRzID0gY2FjaGVkUHJvbXB0RWxlbWVudHM7XG5cbiAgcHJvbXB0RWxlbWVudHMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgZWxlbWVudCA9ICQodGhpcyk7XG4gICAgY29uc3QgaWQgPSBlbGVtZW50LmRhdGEoJ3BtLWlkZW50aWZpZXInKSB8fCBlbGVtZW50LmZpbmQoJ1tkYXRhLXBtLWlkZW50aWZpZXJdJykuZGF0YSgncG0taWRlbnRpZmllcicpO1xuXG4gICAgaWYgKCFpZCkgcmV0dXJuOyAvLyDml6nmnJ/ot7Plh7rvvIzpgb/lhY3kuI3lv4XopoHnmoRET03mn6Xor6JcblxuICAgIGNvbnN0IG5hbWVFbGVtZW50ID0gZWxlbWVudC5maW5kKCcuY29tcGxldGlvbl9wcm9tcHRfbWFuYWdlcl9wcm9tcHRfbmFtZScpO1xuICAgIGNvbnN0IG5hbWUgPSBuYW1lRWxlbWVudC5maW5kKCdhJykudGV4dCgpLnRyaW0oKSB8fCBuYW1lRWxlbWVudC50ZXh0KCkudHJpbSgpO1xuXG4gICAgaWYgKCFuYW1lKSByZXR1cm47IC8vIOaXqeacn+i3s+WHulxuXG4gICAgY29uc3QgaXNFbmFibGVkID0gZWxlbWVudC5maW5kKCcucHJvbXB0LW1hbmFnZXItdG9nZ2xlLWFjdGlvbicpLmhhc0NsYXNzKCdmYS10b2dnbGUtb24nKTtcblxuICAgIHByb21wdHMucHVzaCh7XG4gICAgICBpZDogaWQsXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgIGVuYWJsZWQ6IGlzRW5hYmxlZCxcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHByb21wdHM7XG59XG5cbi8vIOWFqOWxgOagh+iusO+8jOmYsuatoumHjeWkjee7keWumuS6i+S7tlxubGV0IGdyb3VwaW5nRXZlbnRzQm91bmQgPSBmYWxzZTtcblxuLy8g5pi+56S65p2h55uu5YiG57uE55WM6Z2iXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2hvd1Byb21wdEdyb3VwaW5nVUkoKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHBvcHVwSWQgPSAncHJlc2V0LW1hbmFnZXItZ3JvdXBpbmctcG9wdXAnO1xuICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuXG4gIGNvbnN0IHByb21wdHMgPSBnZXRDdXJyZW50UHJlc2V0UHJvbXB0cygpO1xuICBpZiAocHJvbXB0cy5sZW5ndGggPT09IDApIHtcbiAgICB0b2FzdHIud2FybmluZygn5b2T5YmN6aKE6K6+5rKh5pyJ5Y+v5YiG57uE55qE5p2h55uu44CCJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8g6I635Y+W5b2T5YmN6aKE6K6+55qE5YiG57uE5L+h5oGvXG4gIGNvbnN0IGN1cnJlbnRQcmVzZXROYW1lID0gVGF2ZXJuSGVscGVyLmdldExvYWRlZFByZXNldE5hbWUoKTtcbiAgY29uc3QgZXhpc3RpbmdHcm91cHMgPSBnZXRQcmVzZXRHcm91cGluZyhjdXJyZW50UHJlc2V0TmFtZSk7XG5cbiAgLy8g6YCS5b2S5p+l5om+5p2h55uu5omA5Zyo55qE5YiG57uE6Lev5b6EXG4gIGZ1bmN0aW9uIGZpbmRQcm9tcHRHcm91cFBhdGgocHJvbXB0SWQ6IHN0cmluZywgZ3JvdXBzOiBQcm9tcHRHcm91cFtdLCBwYXJlbnRQYXRoOiBzdHJpbmcgPSAnJyk6IHN0cmluZyB8IG51bGwge1xuICAgIGZvciAoY29uc3QgZ3JvdXAgb2YgZ3JvdXBzKSB7XG4gICAgICAvLyDmo4Dmn6XmmK/lkKblnKjnm7TmjqXmnaHnm67kuK1cbiAgICAgIGlmIChncm91cC5wcm9tcHRJZHMuaW5jbHVkZXMocHJvbXB0SWQpKSB7XG4gICAgICAgIHJldHVybiBwYXJlbnRQYXRoID8gYCR7cGFyZW50UGF0aH0vJHtncm91cC5uYW1lfWAgOiBncm91cC5uYW1lO1xuICAgICAgfVxuXG4gICAgICAvLyDpgJLlvZLmo4Dmn6XlrZDliIbnu4RcbiAgICAgIGlmIChncm91cC5zdWJHcm91cHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBzdWJQYXRoID0gZmluZFByb21wdEdyb3VwUGF0aChcbiAgICAgICAgICBwcm9tcHRJZCxcbiAgICAgICAgICBncm91cC5zdWJHcm91cHMsXG4gICAgICAgICAgcGFyZW50UGF0aCA/IGAke3BhcmVudFBhdGh9LyR7Z3JvdXAubmFtZX1gIDogZ3JvdXAubmFtZSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHN1YlBhdGgpIHtcbiAgICAgICAgICByZXR1cm4gc3ViUGF0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHByb21wdHNIdG1sID0gcHJvbXB0c1xuICAgIC5tYXAoKHByb21wdCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGdyb3VwUGF0aCA9IGZpbmRQcm9tcHRHcm91cFBhdGgocHJvbXB0LmlkLCBleGlzdGluZ0dyb3Vwcyk7XG4gICAgICBjb25zdCBpc0luR3JvdXAgPSBncm91cFBhdGggIT09IG51bGw7XG5cbiAgICAgIHJldHVybiBgXG4gICAgICA8ZGl2IGNsYXNzPVwicHJvbXB0LWl0ZW1cIiBkYXRhLXByb21wdC1pZD1cIiR7cHJvbXB0LmlkfVwiIGRhdGEtaW5kZXg9XCIke2luZGV4fVwiIFxuICAgICAgICAgICBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OyBwYWRkaW5nOiAxMHB4OyBib3JkZXI6IDFweCBzb2xpZCAjZTBlMGUwOyBtYXJnaW46IDNweCAwOyBib3JkZXItcmFkaXVzOiA2cHg7IGN1cnNvcjogcG9pbnRlcjsgYmFja2dyb3VuZC1jb2xvcjogJHtpc0luR3JvdXAgPyAnI2U4ZjVlOCcgOiAnI2ZmZid9OyBtaW4taGVpZ2h0OiA0NHB4O1wiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJwcm9tcHQtY2hlY2tib3hcIiBzdHlsZT1cIm1hcmdpbi1yaWdodDogMTJweDsgdHJhbnNmb3JtOiBzY2FsZSgxLjMpOyBmbGV4LXNocmluazogMDsgbWFyZ2luLXRvcDogMnB4O1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvbXB0LXRleHRcIiBzdHlsZT1cImZsZXg6IDE7IG1pbi13aWR0aDogMDtcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC13ZWlnaHQ6ICR7cHJvbXB0LmVuYWJsZWQgPyAnYm9sZCcgOiAnbm9ybWFsJ307IGNvbG9yOiAke3Byb21wdC5lbmFibGVkID8gJyMwMDAnIDogJyM2NjYnfTsgZm9udC1zaXplOiAxNHB4OyBsaW5lLWhlaWdodDogMS40OyB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7IG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XCI+XG4gICAgICAgICAgJHskKCc8ZGl2Lz4nKS50ZXh0KHByb21wdC5uYW1lKS5odG1sKCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgJHtpc0luR3JvdXAgPyBgPGRpdiBzdHlsZT1cImNvbG9yOiAjNjY2OyBmb250LXNpemU6IDEycHg7IG1hcmdpbi10b3A6IDRweDsgd29yZC13cmFwOiBicmVhay13b3JkOyBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1wiPvCfk4EgJHtncm91cFBhdGh9PC9kaXY+YCA6ICcnfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgJHtpc0luR3JvdXAgPyBgPHNwYW4gY2xhc3M9XCJncm91cC10YWdcIiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMnB4IDhweDsgYm9yZGVyLXJhZGl1czogMTJweDsgZm9udC1zaXplOiAxMXB4OyBtYXJnaW4tbGVmdDogOHB4OyBmbGV4LXNocmluazogMDsgYWxpZ24tc2VsZjogZmxleC1zdGFydDsgbWFyZ2luLXRvcDogMnB4O1wiPuW3suWIhue7hDwvc3Bhbj5gIDogJyd9XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIH0pXG4gICAgLmpvaW4oJycpO1xuXG4gIGNvbnN0IHBvcHVwSHRtbCA9IGBcbiAgICA8ZGl2IGlkPVwiJHtwb3B1cElkfVwiIHN0eWxlPVwicG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC41KTsgei1pbmRleDogMTAwMDE7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyO1wiPlxuICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICNmZmY4ZjA7IGNvbG9yOiAjM2EyYzJjOyBib3JkZXItcmFkaXVzOiAxNnB4OyBwYWRkaW5nOiAyMHB4OyB3aWR0aDogOTAlOyBtYXgtd2lkdGg6IDcwMHB4OyBib3gtc2hhZG93OiAwIDRweCAyNXB4IHJnYmEoMTIwLDkwLDYwLC4yNSk7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IG1heC1oZWlnaHQ6IDg1dmg7IHBvc2l0aW9uOiByZWxhdGl2ZTtcIj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cImdyb3VwaW5nLWNsb3NlXCIgc3R5bGU9XCJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMTVweDsgcmlnaHQ6IDE1cHg7IGJhY2tncm91bmQ6IG5vbmU7IGJvcmRlcjogbm9uZTsgY29sb3I6ICM5YTZiNGY7IGZvbnQtc2l6ZTogMjRweDsgY3Vyc29yOiBwb2ludGVyOyB6LWluZGV4OiAxMDAwMzsgd2lkdGg6IDMwcHg7IGhlaWdodDogMzBweDsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGJvcmRlci1yYWRpdXM6IDUwJTsgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjJzO1wiPiZ0aW1lczs8L2J1dHRvbj5cbiAgICAgICAgPGg0IHN0eWxlPVwibWFyZ2luLXRvcDowOyBjb2xvcjojNmE0MjI2OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZjBkOGI2OyBwYWRkaW5nLWJvdHRvbTogMTBweDsgcGFkZGluZy1yaWdodDogNDBweDtcIj7pooTorr7nvJbovpHlmag8L2g0PlxuICAgICAgICBcbiAgICAgICAgPCEtLSDmk43kvZzljLrln58gLSDlubbmjpLluIPlsYAgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCLmk43kvZzljLrln59cIiBzdHlsZT1cIm1hcmdpbjogMTVweCAwOyBkaXNwbGF5OiBmbGV4OyBnYXA6IDEycHg7IGZsZXgtd3JhcDogd3JhcDtcIj5cbiAgICAgICAgICA8IS0tIOWIhue7hOeuoeeQhuWMuuWfnyAtLT5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZmxleDogMTsgbWluLXdpZHRoOiAyODBweDsgcGFkZGluZzogMTJweDsgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsgYm9yZGVyLXJhZGl1czogOHB4OyBib3JkZXItbGVmdDogNHB4IHNvbGlkICM0Q0FGNTA7XCI+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAxNHB4OyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICMyZTdkMzI7IG1hcmdpbi1ib3R0b206IDhweDtcIj7wn5OBIOWIhue7hOeuoeeQhjwvZGl2PlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJncm91cC1uYW1lLWlucHV0XCIgcGxhY2Vob2xkZXI9XCLovpPlhaXliIbnu4TlkI3np7AuLi5cIiBzdHlsZT1cIndpZHRoOiAxMDAlOyBwYWRkaW5nOiA4cHggMTJweDsgYm9yZGVyOiAxcHggc29saWQgI2Q0YjU4YjsgYm9yZGVyLXJhZGl1czogNnB4OyBiYWNrZ3JvdW5kOiAjZmZmOyBjb2xvcjogIzMzMzsgZm9udC1zaXplOiAxNHB4OyBtYXJnaW4tYm90dG9tOiAxMHB4OyBib3gtc2l6aW5nOiBib3JkZXItYm94O1wiPlxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZTsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDogMTAwJTtcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImdyb3VwLW1hbmFnZW1lbnQtYnRuXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTsgcGFkZGluZzogMTBweCAxNnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiM0Q0FGNTA7IGJvcmRlcjpub25lOyBib3JkZXItcmFkaXVzOjZweDsgY29sb3I6I2ZmZjsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtd2VpZ2h0OmJvbGQ7IGZvbnQtc2l6ZTogMTRweDsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuPuWIhue7hOaTjeS9nDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImZvbnQtc2l6ZTogMTJweDtcIj7ilrw8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8ZGl2IGlkPVwiZ3JvdXAtbWFuYWdlbWVudC1tZW51XCIgc3R5bGU9XCJkaXNwbGF5OiBub25lOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMTAwJTsgbGVmdDogMDsgcmlnaHQ6IDA7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlcjogMXB4IHNvbGlkICNkNGI1OGI7IGJvcmRlci1yYWRpdXM6IDZweDsgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsMCwwLDAuMTUpOyB6LWluZGV4OiAxMDAwMjsgbWFyZ2luLXRvcDogMnB4O1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjcmVhdGUtZ3JvdXAtYnRuXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTsgcGFkZGluZzogMTBweCAxNnB4OyBib3JkZXI6bm9uZTsgYmFja2dyb3VuZDpub25lOyBjb2xvcjojMzMzOyBjdXJzb3I6cG9pbnRlcjsgZm9udC1zaXplOiAxM3B4OyB0ZXh0LWFsaWduOiBsZWZ0OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2YwZjBmMDtcIj7liJvlu7rliIbnu4Q8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiYWRkLXRvLWdyb3VwLWJ0blwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEwcHggMTZweDsgYm9yZGVyOm5vbmU7IGJhY2tncm91bmQ6bm9uZTsgY29sb3I6IzlDMjdCMDsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtc2l6ZTogMTNweDsgdGV4dC1hbGlnbjogbGVmdDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmMGYwZjA7XCI+5Yqg5YWl5YiG57uEPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInJlbW92ZS1mcm9tLWdyb3VwLWJ0blwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEwcHggMTZweDsgYm9yZGVyOm5vbmU7IGJhY2tncm91bmQ6bm9uZTsgY29sb3I6I0ZGNTcyMjsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtc2l6ZTogMTNweDsgdGV4dC1hbGlnbjogbGVmdDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmMGYwZjA7XCI+56e75Ye65YiG57uEPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImRpc3NvbHZlLWdyb3VwLWJ0blwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEwcHggMTZweDsgYm9yZGVyOm5vbmU7IGJhY2tncm91bmQ6bm9uZTsgY29sb3I6I2ZmOTgwMDsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtc2l6ZTogMTNweDsgdGV4dC1hbGlnbjogbGVmdDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmMGYwZjA7XCI+6Kej5pWj5YiG57uEPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImNsZWFyLWFsbC1ncm91cHMtYnRuXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTsgcGFkZGluZzogMTBweCAxNnB4OyBib3JkZXI6bm9uZTsgYmFja2dyb3VuZDpub25lOyBjb2xvcjojZmY1NzIyOyBjdXJzb3I6cG9pbnRlcjsgZm9udC1zaXplOiAxM3B4OyB0ZXh0LWFsaWduOiBsZWZ0OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2YwZjBmMDtcIj7muIXpmaTmiYDmnIk8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWU7IG1hcmdpbjogNXB4IDA7XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRyb3Bkb3duLWNsb3NlLWJ0blwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEwcHggMTZweDsgYm9yZGVyOm5vbmU7IGJhY2tncm91bmQ6bm9uZTsgY29sb3I6Izg4ODsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtc2l6ZTogMTNweDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPuWFs+mXrTwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8IS0tIOadoeebruaTjeS9nOWMuuWfnyAtLT5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZmxleDogMTsgbWluLXdpZHRoOiAyODBweDsgcGFkZGluZzogMTJweDsgYmFja2dyb3VuZC1jb2xvcjogI2YwZjhmZjsgYm9yZGVyLXJhZGl1czogOHB4OyBib3JkZXItbGVmdDogNHB4IHNvbGlkICMyMTk2RjM7XCI+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAxNHB4OyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICMxOTc2RDI7IG1hcmdpbi1ib3R0b206IDhweDtcIj7inI/vuI8g5p2h55uu5pON5L2cPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgZ2FwOiA4cHg7IGZsZXgtd3JhcDogd3JhcDtcIj5cbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZTsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBmbGV4OiAxOyBtaW4td2lkdGg6IDEyMHB4O1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJpdGVtLXNlbGVjdGlvbi1idG5cIiBzdHlsZT1cIndpZHRoOiAxMDAlOyBwYWRkaW5nOiAxMHB4IDE2cHg7IGJhY2tncm91bmQtY29sb3I6IzIxOTZGMzsgYm9yZGVyOm5vbmU7IGJvcmRlci1yYWRpdXM6NnB4OyBjb2xvcjojZmZmOyBjdXJzb3I6cG9pbnRlcjsgZm9udC13ZWlnaHQ6Ym9sZDsgZm9udC1zaXplOiAxM3B4OyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XCI+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj7pgInmi6nmk43kvZw8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImZvbnQtc2l6ZTogMTJweDtcIj7ilrw8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cIml0ZW0tc2VsZWN0aW9uLW1lbnVcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAxMDAlOyBsZWZ0OiAwOyByaWdodDogMDsgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsgYm9yZGVyOiAxcHggc29saWQgI2Q0YjU4YjsgYm9yZGVyLXJhZGl1czogNnB4OyBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwwLDAsMC4xNSk7IHotaW5kZXg6IDEwMDAyOyBtYXJnaW4tdG9wOiAycHg7XCI+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LWFsbC1idG5cIiBzdHlsZT1cIndpZHRoOiAxMDAlOyBwYWRkaW5nOiAxMHB4IDE2cHg7IGJvcmRlcjpub25lOyBiYWNrZ3JvdW5kOm5vbmU7IGNvbG9yOiMzMzM7IGN1cnNvcjpwb2ludGVyOyBmb250LXNpemU6IDEzcHg7IHRleHQtYWxpZ246IGxlZnQ7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZjBmMGYwO1wiPuWFqOmAiTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1ub25lLWJ0blwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEwcHggMTZweDsgYm9yZGVyOm5vbmU7IGJhY2tncm91bmQ6bm9uZTsgY29sb3I6IzlFOUU5RTsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtc2l6ZTogMTNweDsgdGV4dC1hbGlnbjogbGVmdDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmMGYwZjA7XCI+5YWo5LiN6YCJPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwibW92ZS1wcm9tcHRzLWJ0blwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEwcHggMTZweDsgYm9yZGVyOm5vbmU7IGJhY2tncm91bmQ6bm9uZTsgY29sb3I6IzY3M0FCNzsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtc2l6ZTogMTNweDsgdGV4dC1hbGlnbjogbGVmdDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmMGYwZjA7XCI+56e75Yqo5p2h55uuPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWU7IG1hcmdpbjogNXB4IDA7XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZHJvcGRvd24tY2xvc2UtYnRuXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTsgcGFkZGluZzogMTBweCAxNnB4OyBib3JkZXI6bm9uZTsgYmFja2dyb3VuZDpub25lOyBjb2xvcjojODg4OyBjdXJzb3I6cG9pbnRlcjsgZm9udC1zaXplOiAxM3B4OyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+5YWz6ZetPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwicG9zaXRpb246IHJlbGF0aXZlOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZsZXg6IDE7IG1pbi13aWR0aDogMTIwcHg7XCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cIml0ZW0tZWRpdC1idG5cIiBzdHlsZT1cIndpZHRoOiAxMDAlOyBwYWRkaW5nOiAxMHB4IDE2cHg7IGJhY2tncm91bmQtY29sb3I6IzRDQUY1MDsgYm9yZGVyOm5vbmU7IGJvcmRlci1yYWRpdXM6NnB4OyBjb2xvcjojZmZmOyBjdXJzb3I6cG9pbnRlcjsgZm9udC13ZWlnaHQ6Ym9sZDsgZm9udC1zaXplOiAxM3B4OyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XCI+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj7nvJbovpHmk43kvZw8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImZvbnQtc2l6ZTogMTJweDtcIj7ilrw8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cIml0ZW0tZWRpdC1tZW51XCIgc3R5bGU9XCJkaXNwbGF5OiBub25lOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMTAwJTsgbGVmdDogMDsgcmlnaHQ6IDA7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlcjogMXB4IHNvbGlkICNkNGI1OGI7IGJvcmRlci1yYWRpdXM6IDZweDsgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsMCwwLDAuMTUpOyB6LWluZGV4OiAxMDAwMjsgbWFyZ2luLXRvcDogMnB4O1wiPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImFkZC1wcm9tcHQtYnRuXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTsgcGFkZGluZzogMTBweCAxNnB4OyBib3JkZXI6bm9uZTsgYmFja2dyb3VuZDpub25lOyBjb2xvcjojNENBRjUwOyBjdXJzb3I6cG9pbnRlcjsgZm9udC1zaXplOiAxM3B4OyB0ZXh0LWFsaWduOiBsZWZ0OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2YwZjBmMDtcIj7mlrDlop7mnaHnm648L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJlZGl0LXByb21wdC1idG5cIiBzdHlsZT1cIndpZHRoOiAxMDAlOyBwYWRkaW5nOiAxMHB4IDE2cHg7IGJvcmRlcjpub25lOyBiYWNrZ3JvdW5kOm5vbmU7IGNvbG9yOiNGRjk4MDA7IGN1cnNvcjpwb2ludGVyOyBmb250LXNpemU6IDEzcHg7IHRleHQtYWxpZ246IGxlZnQ7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZjBmMGYwO1wiPue8lui+keadoeebrjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImRlbGV0ZS1wcm9tcHRzLWJ0blwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEwcHggMTZweDsgYm9yZGVyOm5vbmU7IGJhY2tncm91bmQ6bm9uZTsgY29sb3I6I0Y0NDMzNjsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtc2l6ZTogMTNweDsgdGV4dC1hbGlnbjogbGVmdDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmMGYwZjA7XCI+5Yig6Zmk5p2h55uuPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWU7IG1hcmdpbjogNXB4IDA7XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZHJvcGRvd24tY2xvc2UtYnRuXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTsgcGFkZGluZzogMTBweCAxNnB4OyBib3JkZXI6bm9uZTsgYmFja2dyb3VuZDpub25lOyBjb2xvcjojODg4OyBjdXJzb3I6cG9pbnRlcjsgZm9udC1zaXplOiAxM3B4OyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+5YWz6ZetPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgc3R5bGU9XCJmbGV4OiAxOyBtaW4taGVpZ2h0OiAzMDBweDsgbWF4LWhlaWdodDogNDAwcHg7IG92ZXJmbG93LXk6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICNmMGUyZDA7IGJvcmRlci1yYWRpdXM6IDhweDsgcGFkZGluZzogMTZweDsgbWFyZ2luLWJvdHRvbTogMTVweDsgYmFja2dyb3VuZC1jb2xvcjogI2ZhZmFmYTtcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAxM3B4OyBjb2xvcjogIzY2NjsgbWFyZ2luLWJvdHRvbTogMTJweDsgbGluZS1oZWlnaHQ6IDEuNDtcIj7wn5KhIOaPkOekuu+8mumAieS4readoeebruWQjuWPr+S7peWIm+W7uuWIhue7hO+8jOaUr+aMgeWkmue6p+WIhue7hOOAguWIhue7hOWQjueahOadoeebruS8muWcqOmihOiuvueVjOmdouS4reaKmOWPoOaYvuekuu+8jOS+v+S6jueuoeeQhjwvZGl2PlxuICAgICAgICAgIDxkaXYgaWQ9XCJwcm9tcHRzLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgJHtwcm9tcHRzSHRtbH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cblxuICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgZmxleC13cmFwOiB3cmFwOyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7IGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OyBnYXA6IDEwcHg7IGZsZXgtc2hyaW5rOiAwOyBtYXJnaW4tdG9wOiBhdXRvOyBwYWRkaW5nOiA4cHggMDsgbWluLWhlaWdodDogMzBweDtcIj5cbiAgICAgICAgICA8ZGl2IGlkPVwiZXhpc3RpbmctZ3JvdXBzLWluZm9cIiBzdHlsZT1cImZvbnQtc2l6ZTogMTJweDsgY29sb3I6ICM2NjY7IGZsZXg6IDE7IG1pbi13aWR0aDogMjAwcHg7IHdvcmQtd3JhcDogYnJlYWstd29yZDsgb3ZlcmZsb3ctd3JhcDogYnJlYWstd29yZDsgbGluZS1oZWlnaHQ6IDEuNDsgbWF4LXdpZHRoOiAxMDAlOyBtaW4taGVpZ2h0OiAyMHB4OyBkaXNwbGF5OiBibG9jaztcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcblxuICAkKCdib2R5JykuYXBwZW5kKHBvcHVwSHRtbCk7XG5cbiAgLy8g5pi+56S6546w5pyJ5YiG57uE5L+h5oGvXG4gIGNvbnNvbGUubG9nKCfnjrDmnInliIbnu4Q6JywgZXhpc3RpbmdHcm91cHMpO1xuICB1cGRhdGVFeGlzdGluZ0dyb3Vwc0luZm8oZXhpc3RpbmdHcm91cHMpO1xuXG4gIC8vIOe7keWumuS6i+S7tu+8iOmYsuatoumHjeWkjee7keWumu+8iVxuICBpZiAoIWdyb3VwaW5nRXZlbnRzQm91bmQpIHtcbiAgICBiaW5kR3JvdXBpbmdFdmVudHMocHJvbXB0cywgZXhpc3RpbmdHcm91cHMpO1xuICAgIGdyb3VwaW5nRXZlbnRzQm91bmQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKCfliIbnu4Tkuovku7blt7Lnu5HlrprvvIzph43mlrDnu5Hlrprku6Xnoa7kv53kuovku7bmraPnoa4nKTtcbiAgICAvLyDljbPkvb/lt7Lnu5HlrprvvIzkuZ/opoHph43mlrDnu5Hlrprku6Xnoa7kv53kuovku7bmraPnoa7vvIjpgILphY3ohJrmnKzph43lpI3liqDovb3vvIlcbiAgICBiaW5kR3JvdXBpbmdFdmVudHMocHJvbXB0cywgZXhpc3RpbmdHcm91cHMpO1xuICB9XG5cbiAgLy8g56uL5Y2z57uR5a6a5YWz6Zet5oyJ6ZKu5LqL5Lu277yM56Gu5L+d6IO95q2j5bi45bel5L2cXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICQoJy5kcm9wZG93bi1jbG9zZS1idG4nKVxuICAgICAgLm9mZignY2xpY2snKVxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgbWVudSA9ICQodGhpcykuY2xvc2VzdCgnW2lkJD1cIi1tZW51XCJdJyk7XG4gICAgICAgIGlmIChtZW51Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBtZW51LmhpZGUoKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn5LiL5ouJ6I+c5Y2V5bey5YWz6ZetOicsIG1lbnUuYXR0cignaWQnKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCfmnKrmib7liLDlr7nlupTnmoToj5zljZXlhYPntKAnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgY29uc29sZS5sb2coJ+WFs+mXreaMiemSruS6i+S7tuW3sumHjeaWsOe7keWumicpO1xuICB9LCAxMDApO1xuXG4gIC8vIOenu+WKqOerr+agt+W8j1xuICBjb25zdCBtb2JpbGVTdHlsZXMgPSBgPHN0eWxlPlxuICAgICMke3BvcHVwSWR9ICNncm91cGluZy1jbG9zZTpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDE1NCwgMTA3LCA3OSwgMC4xKSAhaW1wb3J0YW50O1xuICAgIH1cbiAgICAuZHJvcGRvd24tY2xvc2UtYnRuOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTUzLCAxNTMsIDE1MywgMC4xKSAhaW1wb3J0YW50O1xuICAgIH1cbiAgICBcbiAgICAvKiDlubPmnb/nq6/pgILphY0gKDc2OHB4IC0gMTAyNHB4KSAqL1xuICAgIEBtZWRpYSAobWF4LXdpZHRoOiAxMDI0cHgpIHtcbiAgICAgICMke3BvcHVwSWR9ID4gZGl2IHtcbiAgICAgICAgd2lkdGg6IDkyJSAhaW1wb3J0YW50O1xuICAgICAgICBtYXgtd2lkdGg6IDY1MHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIG1heC1oZWlnaHQ6IDg4dmggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9IC7mk43kvZzljLrln58ge1xuICAgICAgICBnYXA6IDEwcHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9IC7mk43kvZzljLrln58gPiBkaXYge1xuICAgICAgICBtaW4td2lkdGg6IDI1MHB4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8qIOWwj+Wxj+W5lemAgumFjSAoNjAwcHggLSA3NjhweCkgKi9cbiAgICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICAgICMke3BvcHVwSWR9IHsgXG4gICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0ICFpbXBvcnRhbnQ7IFxuICAgICAgICBwYWRkaW5nOiA4cHggIWltcG9ydGFudDtcbiAgICAgIH0gXG4gICAgICAjJHtwb3B1cElkfSA+IGRpdiB7IFxuICAgICAgICB3aWR0aDogOTYlICFpbXBvcnRhbnQ7XG4gICAgICAgIG1heC13aWR0aDogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgICBtYXJnaW4tdG9wOiAxdmggIWltcG9ydGFudDtcbiAgICAgICAgbWF4LWhlaWdodDogOTZ2aCAhaW1wb3J0YW50O1xuICAgICAgICBwYWRkaW5nOiAxNnB4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSBoNCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTdweCAhaW1wb3J0YW50O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxMnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDM1cHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9IC7mk43kvZzljLrln58ge1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uICFpbXBvcnRhbnQ7XG4gICAgICAgIGdhcDogOHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIG1hcmdpbjogMTJweCAwICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSAu5pON5L2c5Yy65Z+fID4gZGl2IHtcbiAgICAgICAgbWluLXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG4gICAgICAgIGZsZXg6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgICAgcGFkZGluZzogMTBweCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgIyR7cG9wdXBJZH0gI2dyb3VwaW5nLWNsb3NlIHtcbiAgICAgICAgdG9wOiAxMnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIHJpZ2h0OiAxMnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGZvbnQtc2l6ZTogMjZweCAhaW1wb3J0YW50O1xuICAgICAgICB3aWR0aDogMzJweCAhaW1wb3J0YW50O1xuICAgICAgICBoZWlnaHQ6IDMycHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLyog5omL5py656uv6YCC6YWNICg0ODBweCAtIDYwMHB4KSAqL1xuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkge1xuICAgICAgIyR7cG9wdXBJZH0ge1xuICAgICAgICBwYWRkaW5nOiA1cHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9ID4gZGl2IHtcbiAgICAgICAgd2lkdGg6IDk4JSAhaW1wb3J0YW50O1xuICAgICAgICBtYXJnaW4tdG9wOiAwLjV2aCAhaW1wb3J0YW50O1xuICAgICAgICBtYXgtaGVpZ2h0OiA5OHZoICFpbXBvcnRhbnQ7XG4gICAgICAgIHBhZGRpbmc6IDE0cHggIWltcG9ydGFudDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgIyR7cG9wdXBJZH0gaDQge1xuICAgICAgICBmb250LXNpemU6IDE2cHggIWltcG9ydGFudDtcbiAgICAgICAgcGFkZGluZy1yaWdodDogMzBweCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgIyR7cG9wdXBJZH0gLuaTjeS9nOWMuuWfnyB7XG4gICAgICAgIG1hcmdpbjogMTBweCAwICFpbXBvcnRhbnQ7XG4gICAgICAgIGdhcDogNnB4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSAu5pON5L2c5Yy65Z+fID4gZGl2IHtcbiAgICAgICAgcGFkZGluZzogOHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgIyR7cG9wdXBJZH0gLuaTjeS9nOWMuuWfnyBoNSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTNweCAhaW1wb3J0YW50O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9IC7mk43kvZzljLrln58gaW5wdXQge1xuICAgICAgICBmb250LXNpemU6IDE0cHggIWltcG9ydGFudDtcbiAgICAgICAgcGFkZGluZzogOHB4IDEwcHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9IC7mk43kvZzljLrln58gYnV0dG9uIHtcbiAgICAgICAgZm9udC1zaXplOiAxM3B4ICFpbXBvcnRhbnQ7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxMnB4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSAjZ3JvdXBpbmctY2xvc2Uge1xuICAgICAgICB0b3A6IDhweCAhaW1wb3J0YW50O1xuICAgICAgICByaWdodDogOHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGZvbnQtc2l6ZTogMjRweCAhaW1wb3J0YW50O1xuICAgICAgICB3aWR0aDogMzBweCAhaW1wb3J0YW50O1xuICAgICAgICBoZWlnaHQ6IDMwcHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9ICNwcm9tcHRzLWNvbnRhaW5lciB7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDI1MHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIG1heC1oZWlnaHQ6IDM1MHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIHBhZGRpbmc6IDEycHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9IC5wcm9tcHQtaXRlbSB7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxMHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDZweCAhaW1wb3J0YW50O1xuICAgICAgICBmb250LXNpemU6IDEzcHggIWltcG9ydGFudDtcbiAgICAgICAgd29yZC13cmFwOiBicmVhay13b3JkICFpbXBvcnRhbnQ7XG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3JtYWwgIWltcG9ydGFudDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgIyR7cG9wdXBJZH0gLnByb21wdC1pdGVtIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXSB7XG4gICAgICAgIHdpZHRoOiAxNnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGhlaWdodDogMTZweCAhaW1wb3J0YW50O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDhweCAhaW1wb3J0YW50O1xuICAgICAgICBmbGV4LXNocmluazogMCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgIyR7cG9wdXBJZH0gLnByb21wdC1pdGVtIC5wcm9tcHQtdGV4dCB7XG4gICAgICAgIGZsZXg6IDEgIWltcG9ydGFudDtcbiAgICAgICAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gICAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZCAhaW1wb3J0YW50O1xuICAgICAgICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSBbaWQkPVwiLW1lbnVcIl0ge1xuICAgICAgICBwb3NpdGlvbjogZml4ZWQgIWltcG9ydGFudDtcbiAgICAgICAgdG9wOiAyMHZoICFpbXBvcnRhbnQ7XG4gICAgICAgIGxlZnQ6IDUwJSAhaW1wb3J0YW50O1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSkgIWltcG9ydGFudDtcbiAgICAgICAgd2lkdGg6IDg1JSAhaW1wb3J0YW50O1xuICAgICAgICBtYXgtd2lkdGg6IDMyMHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIHotaW5kZXg6IDEwMDAzICFpbXBvcnRhbnQ7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgOHB4IDI1cHggcmdiYSgwLDAsMCwwLjMpICFpbXBvcnRhbnQ7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDhweCAhaW1wb3J0YW50O1xuICAgICAgICBwYWRkaW5nOiAxMnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIG1heC1oZWlnaHQ6IDYwdmggIWltcG9ydGFudDtcbiAgICAgICAgb3ZlcmZsb3cteTogYXV0byAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgIyR7cG9wdXBJZH0gW2lkJD1cIi1tZW51XCJdIGJ1dHRvbiB7XG4gICAgICAgIHBhZGRpbmc6IDEwcHggMTRweCAhaW1wb3J0YW50O1xuICAgICAgICBmb250LXNpemU6IDEzcHggIWltcG9ydGFudDtcbiAgICAgICAgbWluLWhlaWdodDogNDRweCAhaW1wb3J0YW50O1xuICAgICAgICBtYXJnaW46IDJweCAwICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8qIOWwj+Wxj+aJi+acuumAgumFjSAoMzYwcHggLSA0ODBweCkgKi9cbiAgICBAbWVkaWEgKG1heC13aWR0aDogNDgwcHgpIHtcbiAgICAgICMke3BvcHVwSWR9ID4gZGl2IHtcbiAgICAgICAgd2lkdGg6IDk5JSAhaW1wb3J0YW50O1xuICAgICAgICBtYXJnaW4tdG9wOiAwICFpbXBvcnRhbnQ7XG4gICAgICAgIG1heC1oZWlnaHQ6IDk5dmggIWltcG9ydGFudDtcbiAgICAgICAgcGFkZGluZzogMTJweCAhaW1wb3J0YW50O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSBoNCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTVweCAhaW1wb3J0YW50O1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyOHB4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSAu5pON5L2c5Yy65Z+fIHtcbiAgICAgICAgbWFyZ2luOiA4cHggMCAhaW1wb3J0YW50O1xuICAgICAgICBnYXA6IDVweCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgIyR7cG9wdXBJZH0gLuaTjeS9nOWMuuWfnyA+IGRpdiB7XG4gICAgICAgIHBhZGRpbmc6IDZweCAhaW1wb3J0YW50O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA1cHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9IC7mk43kvZzljLrln58gaDUge1xuICAgICAgICBmb250LXNpemU6IDEycHggIWltcG9ydGFudDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogNnB4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSAu5pON5L2c5Yy65Z+fIGlucHV0IHtcbiAgICAgICAgZm9udC1zaXplOiAxM3B4ICFpbXBvcnRhbnQ7XG4gICAgICAgIHBhZGRpbmc6IDZweCA4cHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9IC7mk43kvZzljLrln58gYnV0dG9uIHtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIHBhZGRpbmc6IDZweCAxMHB4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSAjZ3JvdXBpbmctY2xvc2Uge1xuICAgICAgICB0b3A6IDZweCAhaW1wb3J0YW50O1xuICAgICAgICByaWdodDogNnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGZvbnQtc2l6ZTogMjJweCAhaW1wb3J0YW50O1xuICAgICAgICB3aWR0aDogMjhweCAhaW1wb3J0YW50O1xuICAgICAgICBoZWlnaHQ6IDI4cHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9ICNwcm9tcHRzLWNvbnRhaW5lciB7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDIwMHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIG1heC1oZWlnaHQ6IDMwMHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIHBhZGRpbmc6IDEwcHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9IC5wcm9tcHQtaXRlbSB7XG4gICAgICAgIHBhZGRpbmc6IDZweCA4cHggIWltcG9ydGFudDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogNHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweCAhaW1wb3J0YW50O1xuICAgICAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQgIWltcG9ydGFudDtcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vcm1hbCAhaW1wb3J0YW50O1xuICAgICAgICBsaW5lLWhlaWdodDogMS4zICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSAucHJvbXB0LWl0ZW0gaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdIHtcbiAgICAgICAgd2lkdGg6IDE0cHggIWltcG9ydGFudDtcbiAgICAgICAgaGVpZ2h0OiAxNHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIG1hcmdpbi1yaWdodDogNnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGZsZXgtc2hyaW5rOiAwICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSAucHJvbXB0LWl0ZW0gLnByb21wdC10ZXh0IHtcbiAgICAgICAgZmxleDogMSAhaW1wb3J0YW50O1xuICAgICAgICBtaW4td2lkdGg6IDAgIWltcG9ydGFudDtcbiAgICAgICAgd29yZC13cmFwOiBicmVhay13b3JkICFpbXBvcnRhbnQ7XG4gICAgICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQgIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9ICNleGlzdGluZy1ncm91cHMtaW5mbyB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTBweCAhaW1wb3J0YW50O1xuICAgICAgICBsaW5lLWhlaWdodDogMS4yICFpbXBvcnRhbnQ7XG4gICAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZCAhaW1wb3J0YW50O1xuICAgICAgICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkICFpbXBvcnRhbnQ7XG4gICAgICAgIG1heC13aWR0aDogMTAwJSAhaW1wb3J0YW50O1xuICAgICAgICBwYWRkaW5nOiA0cHggMCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgIyR7cG9wdXBJZH0gW2lkJD1cIi1tZW51XCJdIHtcbiAgICAgICAgcG9zaXRpb246IGZpeGVkICFpbXBvcnRhbnQ7XG4gICAgICAgIHRvcDogMTV2aCAhaW1wb3J0YW50O1xuICAgICAgICBsZWZ0OiA1MCUgIWltcG9ydGFudDtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpICFpbXBvcnRhbnQ7XG4gICAgICAgIHdpZHRoOiA5MCUgIWltcG9ydGFudDtcbiAgICAgICAgbWF4LXdpZHRoOiAzMDBweCAhaW1wb3J0YW50O1xuICAgICAgICBwYWRkaW5nOiAxMHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIG1heC1oZWlnaHQ6IDcwdmggIWltcG9ydGFudDtcbiAgICAgICAgb3ZlcmZsb3cteTogYXV0byAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgIyR7cG9wdXBJZH0gW2lkJD1cIi1tZW51XCJdIGJ1dHRvbiB7XG4gICAgICAgIHBhZGRpbmc6IDhweCAxMnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweCAhaW1wb3J0YW50O1xuICAgICAgICBtaW4taGVpZ2h0OiA0MHB4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8qIOi2heWwj+Wxj+mAgumFjSAoMzIwcHggLSAzNjBweCkgKi9cbiAgICBAbWVkaWEgKG1heC13aWR0aDogMzYwcHgpIHtcbiAgICAgICMke3BvcHVwSWR9ID4gZGl2IHtcbiAgICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbiAgICAgICAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG4gICAgICAgIG1heC1oZWlnaHQ6IDEwMHZoICFpbXBvcnRhbnQ7XG4gICAgICAgIHBhZGRpbmc6IDEwcHggIWltcG9ydGFudDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSBoNCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweCAhaW1wb3J0YW50O1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNXB4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSAu5pON5L2c5Yy65Z+fIHtcbiAgICAgICAgbWFyZ2luOiA2cHggMCAhaW1wb3J0YW50O1xuICAgICAgICBnYXA6IDRweCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgIyR7cG9wdXBJZH0gLuaTjeS9nOWMuuWfnyA+IGRpdiB7XG4gICAgICAgIHBhZGRpbmc6IDVweCAhaW1wb3J0YW50O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9IC7mk43kvZzljLrln58gaDUge1xuICAgICAgICBmb250LXNpemU6IDExcHggIWltcG9ydGFudDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogNHB4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSAu5pON5L2c5Yy65Z+fIGlucHV0IHtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIHBhZGRpbmc6IDVweCA2cHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9IC7mk43kvZzljLrln58gYnV0dG9uIHtcbiAgICAgICAgZm9udC1zaXplOiAxMXB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIHBhZGRpbmc6IDVweCA4cHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9ICNncm91cGluZy1jbG9zZSB7XG4gICAgICAgIHRvcDogNXB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIHJpZ2h0OiA1cHggIWltcG9ydGFudDtcbiAgICAgICAgZm9udC1zaXplOiAyMHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIHdpZHRoOiAyNnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGhlaWdodDogMjZweCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgIyR7cG9wdXBJZH0gI3Byb21wdHMtY29udGFpbmVyIHtcbiAgICAgICAgbWluLWhlaWdodDogMTgwcHggIWltcG9ydGFudDtcbiAgICAgICAgbWF4LWhlaWdodDogMjgwcHggIWltcG9ydGFudDtcbiAgICAgICAgcGFkZGluZzogOHB4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSAucHJvbXB0LWl0ZW0ge1xuICAgICAgICBwYWRkaW5nOiA1cHggNnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDNweCAhaW1wb3J0YW50O1xuICAgICAgICBmb250LXNpemU6IDExcHggIWltcG9ydGFudDtcbiAgICAgICAgd29yZC13cmFwOiBicmVhay13b3JkICFpbXBvcnRhbnQ7XG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3JtYWwgIWltcG9ydGFudDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuMiAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgIyR7cG9wdXBJZH0gLnByb21wdC1pdGVtIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXSB7XG4gICAgICAgIHdpZHRoOiAxMnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGhlaWdodDogMTJweCAhaW1wb3J0YW50O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweCAhaW1wb3J0YW50O1xuICAgICAgICBmbGV4LXNocmluazogMCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgIyR7cG9wdXBJZH0gLnByb21wdC1pdGVtIC5wcm9tcHQtdGV4dCB7XG4gICAgICAgIGZsZXg6IDEgIWltcG9ydGFudDtcbiAgICAgICAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gICAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZCAhaW1wb3J0YW50O1xuICAgICAgICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSAjZXhpc3RpbmctZ3JvdXBzLWluZm8ge1xuICAgICAgICBmb250LXNpemU6IDlweCAhaW1wb3J0YW50O1xuICAgICAgICBsaW5lLWhlaWdodDogMS4xICFpbXBvcnRhbnQ7XG4gICAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZCAhaW1wb3J0YW50O1xuICAgICAgICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkICFpbXBvcnRhbnQ7XG4gICAgICAgIG1heC13aWR0aDogMTAwJSAhaW1wb3J0YW50O1xuICAgICAgICBwYWRkaW5nOiAzcHggMCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgIyR7cG9wdXBJZH0gW2lkJD1cIi1tZW51XCJdIHtcbiAgICAgICAgcG9zaXRpb246IGZpeGVkICFpbXBvcnRhbnQ7XG4gICAgICAgIHRvcDogMTB2aCAhaW1wb3J0YW50O1xuICAgICAgICBsZWZ0OiA1MCUgIWltcG9ydGFudDtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpICFpbXBvcnRhbnQ7XG4gICAgICAgIHdpZHRoOiA5NSUgIWltcG9ydGFudDtcbiAgICAgICAgbWF4LXdpZHRoOiAyODBweCAhaW1wb3J0YW50O1xuICAgICAgICBwYWRkaW5nOiA4cHggIWltcG9ydGFudDtcbiAgICAgICAgbWF4LWhlaWdodDogODB2aCAhaW1wb3J0YW50O1xuICAgICAgICBvdmVyZmxvdy15OiBhdXRvICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSBbaWQkPVwiLW1lbnVcIl0gYnV0dG9uIHtcbiAgICAgICAgcGFkZGluZzogNnB4IDEwcHggIWltcG9ydGFudDtcbiAgICAgICAgZm9udC1zaXplOiAxMXB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDM2cHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICB9XG4gIDwvc3R5bGU+YDtcbiAgJChgIyR7cG9wdXBJZH1gKS5hcHBlbmQobW9iaWxlU3R5bGVzKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRXhpc3RpbmdHcm91cHNJbmZvKGdyb3VwczogUHJvbXB0R3JvdXBbXSk6IHZvaWQge1xuICBjb25zdCBpbmZvRWxlbWVudCA9ICQoJyNleGlzdGluZy1ncm91cHMtaW5mbycpO1xuICBpZiAoIWluZm9FbGVtZW50Lmxlbmd0aCkge1xuICAgIGNvbnNvbGUud2Fybign5YiG57uE5L+h5oGv5YWD57Sg5pyq5om+5YiwJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGdyb3Vwcy5sZW5ndGggPT09IDApIHtcbiAgICBpbmZvRWxlbWVudC5odG1sKCflvZPliY3msqHmnInliIbnu4QnKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBncm91cE5hbWVzID0gZ2V0R3JvdXBOYW1lc1JlY3Vyc2l2ZWx5KGdyb3Vwcyk7XG4gICAgY29uc3QgZ3JvdXBUZXh0ID0gZ3JvdXBOYW1lcy5sZW5ndGggPiAwID8gZ3JvdXBOYW1lcy5qb2luKCcsICcpIDogJ+aXoCc7XG4gICAgaW5mb0VsZW1lbnQuaHRtbChg546w5pyJ5YiG57uEOiAke2dyb3VwVGV4dH1gKTtcbiAgfVxufVxuXG4vLyDpgJLlvZLojrflj5bmiYDmnInliIbnu4TlkI3np7DvvIjljIXmi6zlrZDliIbnu4TvvIlcbmZ1bmN0aW9uIGdldEdyb3VwTmFtZXNSZWN1cnNpdmVseShncm91cHM6IFByb21wdEdyb3VwW10pOiBzdHJpbmdbXSB7XG4gIGNvbnN0IG5hbWVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGdyb3Vwcy5mb3JFYWNoKGdyb3VwID0+IHtcbiAgICBuYW1lcy5wdXNoKGdyb3VwLm5hbWUpO1xuXG4gICAgaWYgKGdyb3VwLnN1Ykdyb3Vwcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBzdWJHcm91cE5hbWVzID0gZ2V0R3JvdXBOYW1lc1JlY3Vyc2l2ZWx5KGdyb3VwLnN1Ykdyb3Vwcyk7XG4gICAgICBzdWJHcm91cE5hbWVzLmZvckVhY2goc3ViTmFtZSA9PiB7XG4gICAgICAgIG5hbWVzLnB1c2goYCR7Z3JvdXAubmFtZX0vJHtzdWJOYW1lfWApO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gbmFtZXM7XG59XG5cbmZ1bmN0aW9uIGJpbmRHcm91cGluZ0V2ZW50cyhcbiAgX3Byb21wdHM6IEFycmF5PHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyBlbGVtZW50OiBKUXVlcnk7IGVuYWJsZWQ6IGJvb2xlYW4gfT4sXG4gIGV4aXN0aW5nR3JvdXBzOiBQcm9tcHRHcm91cFtdLFxuKTogdm9pZCB7XG4gIGxldCBzZWxlY3RlZFByb21wdHM6IHN0cmluZ1tdID0gW107XG5cbiAgLy8g5YWI6Kej57uR5omA5pyJ5Y+v6IO96YeN5aSN55qE5LqL5Lu277yM6Ziy5q2i6YeN5aSN57uR5a6aXG4gICQoJy5wcm9tcHQtaXRlbScpLm9mZignY2xpY2snKTtcbiAgJCgnLnByb21wdC1jaGVja2JveCcpLm9mZignY2hhbmdlJyk7XG4gICQoJyNzZWxlY3QtYWxsLWJ0bicpLm9mZignY2xpY2snKTtcbiAgJCgnI3NlbGVjdC1ub25lLWJ0bicpLm9mZignY2xpY2snKTtcbiAgJCgnI21vdmUtcHJvbXB0cy1idG4nKS5vZmYoJ2NsaWNrJyk7XG4gICQoJyNhZGQtcHJvbXB0LWJ0bicpLm9mZignY2xpY2snKTtcbiAgJCgnI2VkaXQtcHJvbXB0LWJ0bicpLm9mZignY2xpY2snKTtcbiAgJCgnI2RlbGV0ZS1wcm9tcHRzLWJ0bicpLm9mZignY2xpY2snKTtcbiAgJCgnI2NyZWF0ZS1ncm91cC1idG4nKS5vZmYoJ2NsaWNrJyk7XG4gICQoJyNyZW1vdmUtZ3JvdXAtYnRuJykub2ZmKCdjbGljaycpO1xuICAkKCcjZGlzc29sdmUtZ3JvdXAtYnRuJykub2ZmKCdjbGljaycpO1xuICAkKCcjY2xlYXItYWxsLWdyb3Vwcy1idG4nKS5vZmYoJ2NsaWNrJyk7XG4gICQoJyNncm91cGluZy1jbG9zZScpLm9mZignY2xpY2snKTtcblxuICAvLyDmlrDlop7nmoTkuIvmi4noj5zljZXmjInpkq5cbiAgJCgnI2dyb3VwLW1hbmFnZW1lbnQtYnRuJykub2ZmKCdjbGljaycpO1xuICAkKCcjaXRlbS1zZWxlY3Rpb24tYnRuJykub2ZmKCdjbGljaycpO1xuICAkKCcjaXRlbS1lZGl0LWJ0bicpLm9mZignY2xpY2snKTtcbiAgJCgnI2FkZC10by1ncm91cC1idG4nKS5vZmYoJ2NsaWNrJyk7XG4gICQoJyNyZW1vdmUtZnJvbS1ncm91cC1idG4nKS5vZmYoJ2NsaWNrJyk7XG4gICQoJy5kcm9wZG93bi1jbG9zZS1idG4nKS5vZmYoJ2NsaWNrJyk7XG5cbiAgLy8g6Kej57uR5paH5qGj57qn5Yir55qE5LqL5Lu277yM6Ziy5q2i6YeN5aSN57uR5a6aXG4gICQoZG9jdW1lbnQpLm9mZignY2xpY2snLCAnLmRyb3Bkb3duLWNsb3NlLWJ0bicpO1xuICAkKGRvY3VtZW50KS5vZmYoJ2NsaWNrJywgJ1tpZCQ9XCItYnRuXCJdLCBbaWQkPVwiLW1lbnVcIl0nKTtcblxuICAvLyDmnaHnm67pgInmi6lcbiAgJCgnLnByb21wdC1pdGVtJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnR5cGUgPT09ICdjaGVja2JveCcpIHJldHVybjtcblxuICAgIGNvbnN0IGNoZWNrYm94ID0gJCh0aGlzKS5maW5kKCcucHJvbXB0LWNoZWNrYm94Jyk7XG4gICAgY2hlY2tib3gucHJvcCgnY2hlY2tlZCcsICFjaGVja2JveC5wcm9wKCdjaGVja2VkJykpO1xuICAgIHVwZGF0ZVNlbGVjdGVkUHJvbXB0cygpO1xuICB9KTtcblxuICAkKCcucHJvbXB0LWNoZWNrYm94Jykub24oJ2NoYW5nZScsIHVwZGF0ZVNlbGVjdGVkUHJvbXB0cyk7XG5cbiAgZnVuY3Rpb24gdXBkYXRlU2VsZWN0ZWRQcm9tcHRzKCk6IHZvaWQge1xuICAgIHNlbGVjdGVkUHJvbXB0cyA9IFtdO1xuICAgICQoJy5wcm9tcHQtY2hlY2tib3g6Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgcHJvbXB0SWQgPSAkKHRoaXMpLmNsb3Nlc3QoJy5wcm9tcHQtaXRlbScpLmRhdGEoJ3Byb21wdC1pZCcpO1xuICAgICAgc2VsZWN0ZWRQcm9tcHRzLnB1c2gocHJvbXB0SWQpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8g5YWo6YCJL+WFqOS4jemAiVxuICAkKCcjc2VsZWN0LWFsbC1idG4nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgJCgnLnByb21wdC1jaGVja2JveCcpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcbiAgICB1cGRhdGVTZWxlY3RlZFByb21wdHMoKTtcbiAgfSk7XG5cbiAgJCgnI3NlbGVjdC1ub25lLWJ0bicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAkKCcucHJvbXB0LWNoZWNrYm94JykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICB1cGRhdGVTZWxlY3RlZFByb21wdHMoKTtcbiAgfSk7XG5cbiAgLy8g56e75Yqo5p2h55uuXG4gICQoJyNtb3ZlLXByb21wdHMtYnRuJykub24oJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgIGlmIChzZWxlY3RlZFByb21wdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0b2FzdHIuZXJyb3IoJ+ivt+mAieaLqeimgeenu+WKqOeahOadoeebricpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIOaYvuekuuebruagh+S9jee9rumAieaLqeW8ueeql1xuICAgIGF3YWl0IHNob3dQb3NpdGlvblNlbGVjdGlvblBvcHVwKFxuICAgICAgX3Byb21wdHMsXG4gICAgICBzZWxlY3RlZFByb21wdHMsXG4gICAgICAodGFyZ2V0UHJvbXB0SWQ6IHN0cmluZywgcG9zaXRpb246ICdhYm92ZScgfCAnYmVsb3cnKSA9PiB7XG4gICAgICAgIG1vdmVQcm9tcHRzVG9Qb3NpdGlvbihzZWxlY3RlZFByb21wdHMsIHRhcmdldFByb21wdElkLCBwb3NpdGlvbik7XG5cbiAgICAgICAgLy8g5riF6Zmk6YCJ5oup54q25oCBXG4gICAgICAgICQoJy5wcm9tcHQtY2hlY2tib3gnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICBzZWxlY3RlZFByb21wdHMgPSBbXTtcblxuICAgICAgICB0b2FzdHIuc3VjY2Vzcygn5p2h55uu56e75Yqo5a6M5oiQ77yM5bCG5Zyo5YWz6Zet5YiG57uE55WM6Z2i5pe25bqU55So5Yiw6aKE6K6+Jyk7XG4gICAgICB9LFxuICAgICk7XG4gIH0pO1xuXG4gIC8vIOaWsOWinuadoeebrlxuICAkKCcjYWRkLXByb21wdC1idG4nKS5vbignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgc2hvd0FkZFByb21wdFBvcHVwKCgpID0+IHtcbiAgICAgIC8vIOmHjeaWsOWKoOi9veWIhue7hOeVjOmdouS7peaYvuekuuaWsOadoeebrlxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICQoJyNwcmVzZXQtbWFuYWdlci1ncm91cGluZy1wb3B1cCcpLnJlbW92ZSgpO1xuICAgICAgICBzaG93UHJvbXB0R3JvdXBpbmdVSSgpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8g57yW6L6R5p2h55uuXG4gICQoJyNlZGl0LXByb21wdC1idG4nKS5vbignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkUHJvbXB0cy5sZW5ndGggIT09IDEpIHtcbiAgICAgIHRvYXN0ci5lcnJvcign6K+36YCJ5oup5LiA5Liq5p2h55uu6L+b6KGM57yW6L6RJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcHJvbXB0SWQgPSBzZWxlY3RlZFByb21wdHNbMF07XG4gICAgY29uc3QgcHJvbXB0ID0gX3Byb21wdHMuZmluZChwID0+IHAuaWQgPT09IHByb21wdElkKTtcbiAgICBpZiAoIXByb21wdCkge1xuICAgICAgdG9hc3RyLmVycm9yKCfmnKrmib7liLDopoHnvJbovpHnmoTmnaHnm64nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhd2FpdCBzaG93RWRpdFByb21wdFBvcHVwKHByb21wdCwgKCkgPT4ge1xuICAgICAgLy8g6YeN5paw5Yqg6L295YiG57uE55WM6Z2i5Lul5pi+56S65pu05paw5ZCO55qE5p2h55uuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgJCgnI3ByZXNldC1tYW5hZ2VyLWdyb3VwaW5nLXBvcHVwJykucmVtb3ZlKCk7XG4gICAgICAgIHNob3dQcm9tcHRHcm91cGluZ1VJKCk7XG4gICAgICB9LCAxMDApO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyDliKDpmaTmnaHnm65cbiAgJCgnI2RlbGV0ZS1wcm9tcHRzLWJ0bicpLm9uKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICBpZiAoc2VsZWN0ZWRQcm9tcHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdG9hc3RyLmVycm9yKCfor7fpgInmi6nopoHliKDpmaTnmoTmnaHnm64nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjb25maXJtQ2hvaWNlID0gYXdhaXQgdHJpZ2dlclNsYXNoKFxuICAgICAgYC9wb3B1cCBva0J1dHRvbj1cIuehruiupOWIoOmZpFwiIGNhbmNlbEJ1dHRvbj1cIuWPlua2iFwiIHJlc3VsdD10cnVlIFwi56Gu5a6a6KaB5Yig6Zmk6YCJ5Lit55qEICR7c2VsZWN0ZWRQcm9tcHRzLmxlbmd0aH0g5Liq5p2h55uu5ZCX77yf5q2k5pON5L2c5LiN5Y+v5pKk6ZSA44CCXCJgLFxuICAgICk7XG5cbiAgICBpZiAoY29uZmlybUNob2ljZSA9PT0gJzEnKSB7XG4gICAgICBhd2FpdCBkZWxldGVTZWxlY3RlZFByb21wdHMoc2VsZWN0ZWRQcm9tcHRzKTtcblxuICAgICAgLy8g6YeN5paw5Yqg6L295YiG57uE55WM6Z2iXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgJCgnI3ByZXNldC1tYW5hZ2VyLWdyb3VwaW5nLXBvcHVwJykucmVtb3ZlKCk7XG4gICAgICAgIHNob3dQcm9tcHRHcm91cGluZ1VJKCk7XG4gICAgICB9LCAxMDApO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8g5Yqg5YWl5YiG57uEXG4gICQoJyNhZGQtdG8tZ3JvdXAtYnRuJykub24oJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgIGlmIChzZWxlY3RlZFByb21wdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0b2FzdHIuZXJyb3IoJ+ivt+mAieaLqeimgeWKoOWFpeWIhue7hOeahOadoeebricpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIOajgOafpemAieS4reeahOadoeebruaYr+WQpuW3sue7j+WcqOWFtuS7luWIhue7hOS4rVxuICAgIGNvbnN0IGFscmVhZHlHcm91cGVkUHJvbXB0czogc3RyaW5nW10gPSBbXTtcbiAgICBzZWxlY3RlZFByb21wdHMuZm9yRWFjaChwcm9tcHRJZCA9PiB7XG4gICAgICBjb25zdCBleGlzdGluZ0dyb3VwID0gZmluZFByb21wdEluR3JvdXBzKGV4aXN0aW5nR3JvdXBzLCBwcm9tcHRJZCk7XG4gICAgICBpZiAoZXhpc3RpbmdHcm91cCkge1xuICAgICAgICBhbHJlYWR5R3JvdXBlZFByb21wdHMucHVzaChwcm9tcHRJZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoYWxyZWFkeUdyb3VwZWRQcm9tcHRzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIOiOt+WPluW3suWIhue7hOadoeebrueahOWQjeensFxuICAgICAgY29uc3QgYWxyZWFkeUdyb3VwZWROYW1lcyA9IGFscmVhZHlHcm91cGVkUHJvbXB0cy5tYXAocHJvbXB0SWQgPT4ge1xuICAgICAgICBjb25zdCBwcm9tcHRJdGVtID0gJChgLnByb21wdC1pdGVtW2RhdGEtcHJvbXB0LWlkPVwiJHtwcm9tcHRJZH1cIl1gKTtcbiAgICAgICAgcmV0dXJuIHByb21wdEl0ZW0uZmluZCgnLnByb21wdC10ZXh0IGRpdjpmaXJzdCcpLnRleHQoKS50cmltKCk7XG4gICAgICB9KTtcblxuICAgICAgdG9hc3RyLmVycm9yKFxuICAgICAgICBg5Lul5LiL5p2h55uu5bey5Zyo5YW25LuW5YiG57uE5Lit77yM5peg5rOV6YeN5aSN5YiG57uE77yaJHthbHJlYWR5R3JvdXBlZE5hbWVzLnNsaWNlKDAsIDMpLmpvaW4oJ+OAgScpfSR7YWxyZWFkeUdyb3VwZWROYW1lcy5sZW5ndGggPiAzID8gJ+etiScgOiAnJ31gLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyDmmL7npLrliIbnu4TpgInmi6nlvLnnqpdcbiAgICBhd2FpdCBzaG93R3JvdXBTZWxlY3Rpb25Qb3B1cChzZWxlY3RlZFByb21wdHMsIGV4aXN0aW5nR3JvdXBzKTtcbiAgfSk7XG5cbiAgLy8g56e75Ye65YiG57uEXG4gICQoJyNyZW1vdmUtZnJvbS1ncm91cC1idG4nKS5vbignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkUHJvbXB0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRvYXN0ci5lcnJvcign6K+36YCJ5oup6KaB56e75Ye65YiG57uE55qE5p2h55uuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8g5qOA5p+l6YCJ5Lit55qE5p2h55uu5piv5ZCm5Zyo5YiG57uE5LitXG4gICAgY29uc3QgZ3JvdXBlZFByb21wdHM6IHN0cmluZ1tdID0gW107XG4gICAgc2VsZWN0ZWRQcm9tcHRzLmZvckVhY2gocHJvbXB0SWQgPT4ge1xuICAgICAgY29uc3QgZXhpc3RpbmdHcm91cCA9IGZpbmRQcm9tcHRJbkdyb3VwcyhleGlzdGluZ0dyb3VwcywgcHJvbXB0SWQpO1xuICAgICAgaWYgKGV4aXN0aW5nR3JvdXApIHtcbiAgICAgICAgZ3JvdXBlZFByb21wdHMucHVzaChwcm9tcHRJZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoZ3JvdXBlZFByb21wdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0b2FzdHIuZXJyb3IoJ+mAieS4reeahOadoeebrumDveS4jeWcqOS7u+S9leWIhue7hOS4rScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbmZpcm1DaG9pY2UgPSBhd2FpdCB0cmlnZ2VyU2xhc2goXG4gICAgICBgL3BvcHVwIG9rQnV0dG9uPVwi56Gu6K6k56e75Ye6XCIgY2FuY2VsQnV0dG9uPVwi5Y+W5raIXCIgcmVzdWx0PXRydWUgXCLnoa7lrpropoHlsIbpgInkuK3nmoQgJHtncm91cGVkUHJvbXB0cy5sZW5ndGh9IOS4quadoeebruenu+WHuuWIhue7hOWQl++8n1wiYCxcbiAgICApO1xuXG4gICAgaWYgKGNvbmZpcm1DaG9pY2UgPT09ICcxJykge1xuICAgICAgYXdhaXQgcmVtb3ZlUHJvbXB0c0Zyb21Hcm91cHMoZ3JvdXBlZFByb21wdHMsIGV4aXN0aW5nR3JvdXBzKTtcblxuICAgICAgLy8g6YeN5paw5Yqg6L295YiG57uE55WM6Z2iXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgJCgnI3ByZXNldC1tYW5hZ2VyLWdyb3VwaW5nLXBvcHVwJykucmVtb3ZlKCk7XG4gICAgICAgIHNob3dQcm9tcHRHcm91cGluZ1VJKCk7XG4gICAgICB9LCAxMDApO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8g5Yib5bu65YiG57uEXG4gICQoJyNjcmVhdGUtZ3JvdXAtYnRuJykub24oJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGdyb3VwTmFtZSA9ICQoJyNncm91cC1uYW1lLWlucHV0JykudmFsKCk/LnRvU3RyaW5nKCkudHJpbSgpO1xuICAgIGlmICghZ3JvdXBOYW1lKSB7XG4gICAgICB0b2FzdHIuZXJyb3IoJ+ivt+i+k+WFpeWIhue7hOWQjeensCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzZWxlY3RlZFByb21wdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0b2FzdHIuZXJyb3IoJ+ivt+mAieaLqeimgeWIhue7hOeahOadoeebricpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIOajgOa1i+mAieS4readoeebruaYr+WQpumDveWxnuS6juWQjOS4gOS4quWIhue7hFxuICAgIGNvbnN0IHBhcmVudEdyb3VwID0gZGV0ZWN0Q29tbW9uUGFyZW50R3JvdXAoc2VsZWN0ZWRQcm9tcHRzLCBleGlzdGluZ0dyb3Vwcyk7XG5cbiAgICBpZiAocGFyZW50R3JvdXApIHtcbiAgICAgIC8vIOmAieS4reeahOadoeebrumDveWxnuS6juWQjOS4gOS4quWIhue7hO+8jOWIm+W7uuWtkOWIhue7hFxuICAgICAgYXdhaXQgY3JlYXRlU3ViR3JvdXAocGFyZW50R3JvdXAsIGdyb3VwTmFtZSwgc2VsZWN0ZWRQcm9tcHRzLCBleGlzdGluZ0dyb3Vwcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOajgOafpemAieS4reeahOadoeebruaYr+WQpuW3sue7j+WcqOWFtuS7luWIhue7hOS4rVxuICAgICAgY29uc3QgYWxyZWFkeUdyb3VwZWRQcm9tcHRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgc2VsZWN0ZWRQcm9tcHRzLmZvckVhY2gocHJvbXB0SWQgPT4ge1xuICAgICAgICBjb25zdCBleGlzdGluZ0dyb3VwID0gZmluZFByb21wdEluR3JvdXBzKGV4aXN0aW5nR3JvdXBzLCBwcm9tcHRJZCk7XG4gICAgICAgIGlmIChleGlzdGluZ0dyb3VwKSB7XG4gICAgICAgICAgYWxyZWFkeUdyb3VwZWRQcm9tcHRzLnB1c2gocHJvbXB0SWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGFscmVhZHlHcm91cGVkUHJvbXB0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIOiOt+WPluW3suWIhue7hOadoeebrueahOWQjeensFxuICAgICAgICBjb25zdCBhbHJlYWR5R3JvdXBlZE5hbWVzID0gYWxyZWFkeUdyb3VwZWRQcm9tcHRzLm1hcChwcm9tcHRJZCA9PiB7XG4gICAgICAgICAgY29uc3QgcHJvbXB0SXRlbSA9ICQoYC5wcm9tcHQtaXRlbVtkYXRhLXByb21wdC1pZD1cIiR7cHJvbXB0SWR9XCJdYCk7XG4gICAgICAgICAgcmV0dXJuIHByb21wdEl0ZW0uZmluZCgnc3BhbjpmaXJzdCcpLnRleHQoKS50cmltKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRvYXN0ci5lcnJvcihcbiAgICAgICAgICBg5Lul5LiL5p2h55uu5bey5Zyo5YW25LuW5YiG57uE5Lit77yM5peg5rOV6YeN5aSN5YiG57uE77yaJHthbHJlYWR5R3JvdXBlZE5hbWVzLnNsaWNlKDAsIDMpLmpvaW4oJ+OAgScpfSR7YWxyZWFkeUdyb3VwZWROYW1lcy5sZW5ndGggPiAzID8gJ+etiScgOiAnJ31gLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIOajgOafpeaYr+WQpuaciemHjeWQjeeahOmhtue6p+WIhue7hFxuICAgICAgaWYgKGV4aXN0aW5nR3JvdXBzLnNvbWUoZyA9PiBnLm5hbWUgPT09IGdyb3VwTmFtZSkpIHtcbiAgICAgICAgdG9hc3RyLmVycm9yKCfliIbnu4TlkI3np7Dlt7LlrZjlnKgnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyDliJvlu7rmlrDnmoTpobbnuqfliIbnu4RcbiAgICAgIGF3YWl0IGNyZWF0ZVRvcExldmVsR3JvdXAoZ3JvdXBOYW1lLCBzZWxlY3RlZFByb21wdHMsIGV4aXN0aW5nR3JvdXBzKTtcbiAgICB9XG5cbiAgICAvLyDmm7TmlrDnlYzpnaLnirbmgIFcbiAgICB1cGRhdGVFeGlzdGluZ0dyb3Vwc0luZm8oZXhpc3RpbmdHcm91cHMpO1xuICAgICQoJyNncm91cC1uYW1lLWlucHV0JykudmFsKCcnKTtcbiAgICAkKCcucHJvbXB0LWNoZWNrYm94JykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICBzZWxlY3RlZFByb21wdHMgPSBbXTtcblxuICAgIC8vIOS/neWtmOWIhue7hOmFjee9rlxuICAgIGNvbnN0IGN1cnJlbnRQcmVzZXROYW1lID0gVGF2ZXJuSGVscGVyLmdldExvYWRlZFByZXNldE5hbWUoKTtcbiAgICBjb25zdCB2YWxpZEdyb3VwcyA9IGV4aXN0aW5nR3JvdXBzLmZpbHRlcihnID0+IGhhc1ZhbGlkQ29udGVudChnKSk7XG4gICAgc2F2ZVByZXNldEdyb3VwaW5nKGN1cnJlbnRQcmVzZXROYW1lLCB2YWxpZEdyb3Vwcyk7XG4gIH0pO1xuXG4gIC8vIOenu+mZpOWIhue7hFxuICAkKCcjcmVtb3ZlLWdyb3VwLWJ0bicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAoc2VsZWN0ZWRQcm9tcHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdG9hc3RyLmVycm9yKCfor7fpgInmi6nopoHnp7vpmaTliIbnu4TnmoTmnaHnm64nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyDpgJLlvZLku47miYDmnInliIbnu4TvvIjljIXmi6zlrZDliIbnu4TvvInkuK3np7vpmaTpgInkuK3nmoTmnaHnm65cbiAgICBmdW5jdGlvbiByZW1vdmVQcm9tcHRzRnJvbUdyb3Vwcyhncm91cHM6IFByb21wdEdyb3VwW10sIHByb21wdElkczogc3RyaW5nW10pOiB2b2lkIHtcbiAgICAgIGdyb3Vwcy5mb3JFYWNoKGdyb3VwID0+IHtcbiAgICAgICAgLy8g5LuO5b2T5YmN5YiG57uE55qE55u05o6l5p2h55uu5Lit56e76ZmkXG4gICAgICAgIGdyb3VwLnByb21wdElkcyA9IGdyb3VwLnByb21wdElkcy5maWx0ZXIoaWQgPT4gIXByb21wdElkcy5pbmNsdWRlcyhpZCkpO1xuXG4gICAgICAgIC8vIOmAkuW9kuWkhOeQhuWtkOWIhue7hFxuICAgICAgICBpZiAoZ3JvdXAuc3ViR3JvdXBzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZW1vdmVQcm9tcHRzRnJvbUdyb3Vwcyhncm91cC5zdWJHcm91cHMsIHByb21wdElkcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIOS7juaJgOacieWIhue7hOS4reenu+mZpOmAieS4reeahOadoeebrlxuICAgIHJlbW92ZVByb21wdHNGcm9tR3JvdXBzKGV4aXN0aW5nR3JvdXBzLCBzZWxlY3RlZFByb21wdHMpO1xuXG4gICAgLy8g6YCS5b2S56e76Zmk56m65YiG57uE77yI5YyF5ous5a2Q5YiG57uE77yJXG4gICAgZnVuY3Rpb24gcmVtb3ZlRW1wdHlHcm91cHMoZ3JvdXBzOiBQcm9tcHRHcm91cFtdKTogdm9pZCB7XG4gICAgICBmb3IgKGxldCBpID0gZ3JvdXBzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gZ3JvdXBzW2ldO1xuXG4gICAgICAgIC8vIOmAkuW9kuWkhOeQhuWtkOWIhue7hFxuICAgICAgICBpZiAoZ3JvdXAuc3ViR3JvdXBzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZW1vdmVFbXB0eUdyb3Vwcyhncm91cC5zdWJHcm91cHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g5qOA5p+l5b2T5YmN5YiG57uE5piv5ZCm5Li656m677yI5rKh5pyJ55u05o6l5p2h55uu5LiU5rKh5pyJ5a2Q5YiG57uE77yJXG4gICAgICAgIGlmIChncm91cC5wcm9tcHRJZHMubGVuZ3RoID09PSAwICYmIGdyb3VwLnN1Ykdyb3Vwcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBncm91cHMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlRW1wdHlHcm91cHMoZXhpc3RpbmdHcm91cHMpO1xuXG4gICAgLy8g5pu05pawVUlcbiAgICBzZWxlY3RlZFByb21wdHMuZm9yRWFjaChwcm9tcHRJZCA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gJChgLnByb21wdC1pdGVtW2RhdGEtcHJvbXB0LWlkPVwiJHtwcm9tcHRJZH1cIl1gKTtcbiAgICAgIGl0ZW0uY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJyNmZmYnKTtcbiAgICAgIGl0ZW0uZmluZCgnLmdyb3VwLXRhZycpLnJlbW92ZSgpO1xuICAgICAgLy8g5riF6Zmk5YiG57uE6Lev5b6E5pi+56S6XG4gICAgICBjb25zdCBwcm9tcHRUZXh0ID0gaXRlbS5maW5kKCcucHJvbXB0LXRleHQnKTtcbiAgICAgIGlmIChwcm9tcHRUZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgcHJvbXB0VGV4dC5maW5kKCdkaXY6bGFzdC1jaGlsZCcpLnJlbW92ZSgpOyAvLyDnp7vpmaTliIbnu4Tot6/lvoRkaXZcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHVwZGF0ZUV4aXN0aW5nR3JvdXBzSW5mbyhleGlzdGluZ0dyb3Vwcyk7XG4gICAgJCgnLnByb21wdC1jaGVja2JveCcpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgc2VsZWN0ZWRQcm9tcHRzID0gW107XG5cbiAgICAvLyDkv53lrZjliIbnu4TphY3nva7lubbnq4vljbPlupTnlKhcbiAgICBjb25zdCBjdXJyZW50UHJlc2V0TmFtZSA9IFRhdmVybkhlbHBlci5nZXRMb2FkZWRQcmVzZXROYW1lKCk7XG4gICAgY29uc3QgdmFsaWRHcm91cHMgPSBleGlzdGluZ0dyb3Vwcy5maWx0ZXIoZyA9PiBoYXNWYWxpZENvbnRlbnQoZykpO1xuICAgIHNhdmVQcmVzZXRHcm91cGluZyhjdXJyZW50UHJlc2V0TmFtZSwgdmFsaWRHcm91cHMpO1xuXG4gICAgLy8g56uL5Y2z5bqU55So5YiG57uE5YiwRE9NXG4gICAgYXBwbHlHcm91cGluZ1RvRE9NKHZhbGlkR3JvdXBzKTtcbiAgICAvLyDlu7bov5/mgaLlpI3ku6Xnoa7kv51ET03mm7TmlrDlrozmiJBcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJlc3RvcmVHcm91cGluZ0ltbWVkaWF0ZSgpO1xuICAgIH0sIDEwMCk7XG5cbiAgICB0b2FzdHIuc3VjY2Vzcygn5bey56e76Zmk6YCJ5Lit5p2h55uu55qE5YiG57uEJyk7XG4gIH0pO1xuXG4gIC8vIOino+aVo+WIhue7hFxuICAkKCcjZGlzc29sdmUtZ3JvdXAtYnRuJykub24oJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgIGlmIChleGlzdGluZ0dyb3Vwcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRvYXN0ci5pbmZvKCflvZPliY3msqHmnInliIbnu4Tlj6/ku6Xop6PmlaMnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyDmmL7npLrop6PmlaPliIbnu4TlvLnnqpdcbiAgICBhd2FpdCBzaG93RGlzc29sdmVHcm91cFBvcHVwKGV4aXN0aW5nR3JvdXBzKTtcbiAgfSk7XG5cbiAgLy8g5riF6Zmk5omA5pyJ5YiG57uEXG4gICQoJyNjbGVhci1hbGwtZ3JvdXBzLWJ0bicpLm9uKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICBpZiAoZXhpc3RpbmdHcm91cHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0b2FzdHIuaW5mbygn5b2T5YmN5rKh5pyJ5YiG57uE6ZyA6KaB5riF6ZmkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29uZmlybUNob2ljZSA9IGF3YWl0IHRyaWdnZXJTbGFzaChcbiAgICAgIGAvcG9wdXAgb2tCdXR0b249XCLnoa7orqTmuIXpmaRcIiBjYW5jZWxCdXR0b249XCLlj5bmtohcIiByZXN1bHQ9dHJ1ZSBcIuehruWumuimgea4hemZpOW9k+WJjemihOiuvueahOaJgOacieWIhue7hOWQl++8n+atpOaTjeS9nOS4jeWPr+aSpOmUgOOAglwiYCxcbiAgICApO1xuICAgIGlmIChjb25maXJtQ2hvaWNlID09PSAnMScpIHtcbiAgICAgIC8vIOa4heepuuWIhue7hOaVsOe7hFxuICAgICAgZXhpc3RpbmdHcm91cHMubGVuZ3RoID0gMDtcblxuICAgICAgLy8g5pu05pawVUnmmL7npLpcbiAgICAgICQoJy5wcm9tcHQtaXRlbScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICcjZmZmJyk7XG4gICAgICAgICQodGhpcykuZmluZCgnLmdyb3VwLXRhZycpLnJlbW92ZSgpO1xuICAgICAgICAvLyDmuIXpmaTliIbnu4Tot6/lvoTmmL7npLpcbiAgICAgICAgY29uc3QgcHJvbXB0VGV4dCA9ICQodGhpcykuZmluZCgnLnByb21wdC10ZXh0Jyk7XG4gICAgICAgIGlmIChwcm9tcHRUZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBwcm9tcHRUZXh0LmZpbmQoJ2RpdjpsYXN0LWNoaWxkJykucmVtb3ZlKCk7IC8vIOenu+mZpOWIhue7hOi3r+W+hGRpdlxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdXBkYXRlRXhpc3RpbmdHcm91cHNJbmZvKGV4aXN0aW5nR3JvdXBzKTtcbiAgICAgICQoJy5wcm9tcHQtY2hlY2tib3gnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgc2VsZWN0ZWRQcm9tcHRzID0gW107XG5cbiAgICAgIC8vIOS/neWtmOWIhue7hOmFjee9ruW5tueri+WNs+W6lOeUqFxuICAgICAgY29uc3QgY3VycmVudFByZXNldE5hbWUgPSBUYXZlcm5IZWxwZXIuZ2V0TG9hZGVkUHJlc2V0TmFtZSgpO1xuICAgICAgY29uc3QgdmFsaWRHcm91cHMgPSBleGlzdGluZ0dyb3Vwcy5maWx0ZXIoZyA9PiBnLnByb21wdElkcy5sZW5ndGggPiAwKTtcbiAgICAgIHNhdmVQcmVzZXRHcm91cGluZyhjdXJyZW50UHJlc2V0TmFtZSwgdmFsaWRHcm91cHMpO1xuXG4gICAgICAvLyDnq4vljbPlupTnlKjliIbnu4TliLBET01cbiAgICAgIGFwcGx5R3JvdXBpbmdUb0RPTSh2YWxpZEdyb3Vwcyk7XG4gICAgICAvLyDlu7bov5/mgaLlpI3ku6Xnoa7kv51ET03mm7TmlrDlrozmiJBcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICByZXN0b3JlR3JvdXBpbmdJbW1lZGlhdGUoKTtcbiAgICAgIH0sIDEwMCk7XG5cbiAgICAgIHRvYXN0ci5zdWNjZXNzKCflt7LmuIXpmaTmiYDmnInliIbnu4QnKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIOWFs+mXrVxuICAkKCcjZ3JvdXBpbmctY2xvc2UnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgLy8g5YWz6Zet5YmN56Gu5L+d5L+d5a2Y5b2T5YmN55qE5YiG57uE54q25oCBXG4gICAgY29uc3QgY3VycmVudFByZXNldE5hbWUgPSBUYXZlcm5IZWxwZXIuZ2V0TG9hZGVkUHJlc2V0TmFtZSgpO1xuICAgIGNvbnN0IHZhbGlkR3JvdXBzID0gZXhpc3RpbmdHcm91cHMuZmlsdGVyKGcgPT4gaGFzVmFsaWRDb250ZW50KGcpKTtcbiAgICBzYXZlUHJlc2V0R3JvdXBpbmcoY3VycmVudFByZXNldE5hbWUsIHZhbGlkR3JvdXBzKTtcblxuICAgIC8vIOehruS/neWIhue7hOW6lOeUqOWIsOmihOiuvueVjOmdolxuICAgIGFwcGx5R3JvdXBpbmdUb0RPTSh2YWxpZEdyb3Vwcyk7XG5cbiAgICAvLyDph43nva7kuovku7bnu5HlrprmoIforrBcbiAgICBncm91cGluZ0V2ZW50c0JvdW5kID0gZmFsc2U7XG4gICAgJCgnI3ByZXNldC1tYW5hZ2VyLWdyb3VwaW5nLXBvcHVwJykucmVtb3ZlKCk7XG4gICAgY29uc29sZS5sb2coJ+WIhue7hOeVjOmdouWFs+mXre+8jOW3suS/neWtmOW5tuW6lOeUqOWIhue7hOmFjee9ricpO1xuICB9KTtcblxuICAvLyDkuIvmi4noj5zljZXkuqTkupLpgLvovpFcbiAgJCgnI2dyb3VwLW1hbmFnZW1lbnQtYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGNvbnN0IG1lbnUgPSAkKCcjZ3JvdXAtbWFuYWdlbWVudC1tZW51Jyk7XG4gICAgbWVudS50b2dnbGUoKTtcbiAgICAvLyDlhbPpl63lhbbku5boj5zljZVcbiAgICAkKCcjaXRlbS1zZWxlY3Rpb24tbWVudSwgI2l0ZW0tZWRpdC1tZW51JykuaGlkZSgpO1xuICB9KTtcblxuICAkKCcjaXRlbS1zZWxlY3Rpb24tYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGNvbnN0IG1lbnUgPSAkKCcjaXRlbS1zZWxlY3Rpb24tbWVudScpO1xuICAgIG1lbnUudG9nZ2xlKCk7XG4gICAgLy8g5YWz6Zet5YW25LuW6I+c5Y2VXG4gICAgJCgnI2dyb3VwLW1hbmFnZW1lbnQtbWVudSwgI2l0ZW0tZWRpdC1tZW51JykuaGlkZSgpO1xuICB9KTtcblxuICAkKCcjaXRlbS1lZGl0LWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBjb25zdCBtZW51ID0gJCgnI2l0ZW0tZWRpdC1tZW51Jyk7XG4gICAgbWVudS50b2dnbGUoKTtcbiAgICAvLyDlhbPpl63lhbbku5boj5zljZVcbiAgICAkKCcjZ3JvdXAtbWFuYWdlbWVudC1tZW51LCAjaXRlbS1zZWxlY3Rpb24tbWVudScpLmhpZGUoKTtcbiAgfSk7XG5cbiAgLy8g5YWz6Zet5oyJ6ZKu5LqL5Lu2IC0g5L2/55So5pu05YW35L2T55qE6YCJ5oup5Zmo6YG/5YWN6YeN5aSN57uR5a6aXG4gICQoZG9jdW1lbnQpXG4gICAgLm9mZignY2xpY2snLCAnLmRyb3Bkb3duLWNsb3NlLWJ0bicpXG4gICAgLm9uKCdjbGljaycsICcuZHJvcGRvd24tY2xvc2UtYnRuJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBtZW51ID0gJCh0aGlzKS5jbG9zZXN0KCdbaWQkPVwiLW1lbnVcIl0nKTtcbiAgICAgIGlmIChtZW51Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgbWVudS5oaWRlKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfkuIvmi4noj5zljZXlt7LlhbPpl606JywgbWVudS5hdHRyKCdpZCcpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2Fybign5pyq5om+5Yiw5a+55bqU55qE6I+c5Y2V5YWD57SgJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgLy8g5Li65q+P5Liq5YW35L2T55qE5YWz6Zet5oyJ6ZKu5Y2V54us57uR5a6a5LqL5Lu277yM56Gu5L+d6IO95q2j5bi45bel5L2cXG4gICQoJyNncm91cC1tYW5hZ2VtZW50LW1lbnUgLmRyb3Bkb3duLWNsb3NlLWJ0bicpXG4gICAgLm9mZignY2xpY2snKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICQoJyNncm91cC1tYW5hZ2VtZW50LW1lbnUnKS5oaWRlKCk7XG4gICAgICBjb25zb2xlLmxvZygn5YiG57uE566h55CG6I+c5Y2V5bey5YWz6ZetJyk7XG4gICAgfSk7XG5cbiAgJCgnI2l0ZW0tc2VsZWN0aW9uLW1lbnUgLmRyb3Bkb3duLWNsb3NlLWJ0bicpXG4gICAgLm9mZignY2xpY2snKVxuICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICQoJyNpdGVtLXNlbGVjdGlvbi1tZW51JykuaGlkZSgpO1xuICAgICAgY29uc29sZS5sb2coJ+adoeebrumAieaLqeiPnOWNleW3suWFs+mXrScpO1xuICAgIH0pO1xuXG4gICQoJyNpdGVtLWVkaXQtbWVudSAuZHJvcGRvd24tY2xvc2UtYnRuJylcbiAgICAub2ZmKCdjbGljaycpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgJCgnI2l0ZW0tZWRpdC1tZW51JykuaGlkZSgpO1xuICAgICAgY29uc29sZS5sb2coJ+adoeebrue8lui+keiPnOWNleW3suWFs+mXrScpO1xuICAgIH0pO1xuXG4gIC8vIOeCueWHu+WFtuS7luWcsOaWueWFs+mXreaJgOacieiPnOWNlVxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghJChlLnRhcmdldCkuY2xvc2VzdCgnW2lkJD1cIi1idG5cIl0sIFtpZCQ9XCItbWVudVwiXScpLmxlbmd0aCkge1xuICAgICAgJCgnI2dyb3VwLW1hbmFnZW1lbnQtbWVudSwgI2l0ZW0tc2VsZWN0aW9uLW1lbnUsICNpdGVtLWVkaXQtbWVudScpLmhpZGUoKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyDlupTnlKjliIbnu4TliLBET01cbmZ1bmN0aW9uIGFwcGx5R3JvdXBpbmdUb0RPTShncm91cHM6IFByb21wdEdyb3VwW10pOiB2b2lkIHtcbiAgY29uc29sZS5sb2coJ+W8gOWni+W6lOeUqOWIhue7hOWIsERPTe+8jOWIhue7hOaVsOmHjzonLCBncm91cHMubGVuZ3RoKTtcblxuICAvLyDmo4Dmn6XmmK/lkKbmnInpooTorr7mnaHnm67lrZjlnKhcbiAgY29uc3QgcHJvbXB0RWxlbWVudHMgPSAkKCcuY29tcGxldGlvbl9wcm9tcHRfbWFuYWdlcl9wcm9tcHQnKTtcbiAgaWYgKHByb21wdEVsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGNvbnNvbGUud2Fybign5pyq5om+5Yiw6aKE6K6+5p2h55uu77yM5peg5rOV5bqU55So5YiG57uEJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc29sZS5sb2coJ+aJvuWIsOmihOiuvuadoeebruaVsOmHjzonLCBwcm9tcHRFbGVtZW50cy5sZW5ndGgpO1xuXG4gIC8vIOWFiOehruS/neaJgOacieadoeebrumDveS7juWIhue7hOWuueWZqOS4reenu+WHuu+8jOeEtuWQjuWGjeenu+mZpOWIhue7hOWuueWZqFxuICAkKCcucHJvbXB0LWdyb3VwLWNvbnRhaW5lcicpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9ICQodGhpcyk7XG4gICAgY29uc3QgcHJvbXB0cyA9IGNvbnRhaW5lci5maW5kKCcuY29tcGxldGlvbl9wcm9tcHRfbWFuYWdlcl9wcm9tcHQnKTtcbiAgICAvLyDlsIbmnaHnm67np7vliqjliLDliIbnu4TlrrnlmajkuYvliY1cbiAgICBjb250YWluZXIuYmVmb3JlKHByb21wdHMpO1xuICB9KTtcblxuICAvLyDnp7vpmaTnjrDmnInnmoTliIbnu4TlrrnlmahcbiAgJCgnLnByb21wdC1ncm91cC1jb250YWluZXInKS5yZW1vdmUoKTtcblxuICAvLyDpgJLlvZLlupTnlKjliIbnu4RcbiAgYXBwbHlHcm91cHNSZWN1cnNpdmVseShncm91cHMsIDApO1xufVxuXG4vLyDpgJLlvZLlupTnlKjliIbnu4TliLBET01cbmZ1bmN0aW9uIGFwcGx5R3JvdXBzUmVjdXJzaXZlbHkoZ3JvdXBzOiBQcm9tcHRHcm91cFtdLCBsZXZlbDogbnVtYmVyKTogdm9pZCB7XG4gIGdyb3Vwcy5mb3JFYWNoKGdyb3VwID0+IHtcbiAgICAvLyDmo4Dmn6XliIbnu4TmmK/lkKbmnInlhoXlrrnvvIjmnaHnm67miJblrZDliIbnu4TvvIlcbiAgICBpZiAoIWhhc1ZhbGlkQ29udGVudChncm91cCkpIHJldHVybjtcblxuICAgIGNvbnNvbGUubG9nKFxuICAgICAgJ+WkhOeQhuWIhue7hDonLFxuICAgICAgZ3JvdXAubmFtZSxcbiAgICAgICflsYLnuqc6JyxcbiAgICAgIGxldmVsLFxuICAgICAgJ+adoeebruaVsOmHjzonLFxuICAgICAgZ3JvdXAucHJvbXB0SWRzLmxlbmd0aCxcbiAgICAgICflrZDliIbnu4TmlbDph486JyxcbiAgICAgIGdyb3VwLnN1Ykdyb3Vwcy5sZW5ndGgsXG4gICAgKTtcblxuICAgIC8vIOiOt+WPluWIhue7hOS4reaJgOacieadoeebru+8iOWMheaLrOWtkOWIhue7hOS4reeahOadoeebru+8iVxuICAgIGNvbnN0IGFsbFByb21wdElkcyA9IGdldEFsbFByb21wdElkc0Zyb21Hcm91cChncm91cCk7XG5cbiAgICBpZiAoYWxsUHJvbXB0SWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc29sZS5sb2coJ+WIhue7hOayoeacieadoeebru+8jOi3s+i/hzonLCBncm91cC5uYW1lKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyDmib7liLDliIbnu4TkuK3nmoTnrKzkuIDkuKrmnaHnm67kvZzkuLrmj5LlhaXngrlcbiAgICBsZXQgZmlyc3RQcm9tcHRFbGVtZW50OiBKUXVlcnkgfCBudWxsID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IHByb21wdElkIG9mIGFsbFByb21wdElkcykge1xuICAgICAgY29uc3QgZWxlbWVudCA9ICQoYC5jb21wbGV0aW9uX3Byb21wdF9tYW5hZ2VyX3Byb21wdFtkYXRhLXBtLWlkZW50aWZpZXI9XCIke3Byb21wdElkfVwiXWApO1xuICAgICAgaWYgKGVsZW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgICBmaXJzdFByb21wdEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWZpcnN0UHJvbXB0RWxlbWVudCB8fCBmaXJzdFByb21wdEVsZW1lbnQubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zb2xlLmxvZygn5pyq5om+5Yiw5YiG57uE55qE5Lu75L2V5p2h55uuOicsIGdyb3VwLm5hbWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCfmib7liLDnrKzkuIDkuKrmnaHnm67vvIzlvIDlp4vliJvlu7rliIbnu4TlrrnlmagnKTtcblxuICAgIC8vIOe7n+iuoeWIhue7hOWGheWQr+eUqOeahOadoeebruaVsOmHj++8iOWMheaLrOWtkOWIhue7hO+8iVxuICAgIGNvbnN0IGVuYWJsZWRDb3VudCA9IGFsbFByb21wdElkcy5maWx0ZXIocHJvbXB0SWQgPT4ge1xuICAgICAgY29uc3QgcHJvbXB0RWxlbWVudCA9ICQoYC5jb21wbGV0aW9uX3Byb21wdF9tYW5hZ2VyX3Byb21wdFtkYXRhLXBtLWlkZW50aWZpZXI9XCIke3Byb21wdElkfVwiXWApO1xuICAgICAgcmV0dXJuIHByb21wdEVsZW1lbnQuZmluZCgnLnByb21wdC1tYW5hZ2VyLXRvZ2dsZS1hY3Rpb24nKS5oYXNDbGFzcygnZmEtdG9nZ2xlLW9uJyk7XG4gICAgfSkubGVuZ3RoO1xuXG4gICAgLy8g5Yib5bu65YiG57uE5a655ZmoXG4gICAgY29uc3QgaW5kZW50U3R5bGUgPSBsZXZlbCA+IDAgPyBgbWFyZ2luLWxlZnQ6ICR7bGV2ZWwgKiAyMH1weDtgIDogJyc7XG4gICAgY29uc3QgZ3JvdXBDb250YWluZXIgPSAkKGBcbiAgICAgIDxkaXYgY2xhc3M9XCJwcm9tcHQtZ3JvdXAtY29udGFpbmVyXCIgZGF0YS1ncm91cC1pZD1cIiR7Z3JvdXAuaWR9XCIgc3R5bGU9XCJib3JkZXI6IDFweCBzb2xpZCByZ2JhKDEyOCwgMTI4LCAxMjgsIDAuMyk7IG1hcmdpbjogNXB4IDA7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wNSk7ICR7aW5kZW50U3R5bGV9IG92ZXJmbG93OiB2aXNpYmxlO1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvbXB0LWdyb3VwLWhlYWRlclwiIHN0eWxlPVwicGFkZGluZzogNnB4IDEwcHg7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wOCk7IGN1cnNvcjogcG9pbnRlcjsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjtcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImdyb3VwLXRvZ2dsZS1pY29uXCIgc3R5bGU9XCJtYXJnaW4tcmlnaHQ6IDZweDsgZm9udC1zaXplOiAxMnB4OyBjb2xvcjogaW5oZXJpdDtcIj4ke2dyb3VwLmNvbGxhcHNlZCA/ICfilrYnIDogJ+KWvCd9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIHN0eWxlPVwiZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiBpbmhlcml0O1wiPiR7JCgnPGRpdi8+JykudGV4dChncm91cC5uYW1lKS5odG1sKCl9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDhweDsgZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzY2NjtcIj4oJHtlbmFibGVkQ291bnR9LyR7YWxsUHJvbXB0SWRzLmxlbmd0aH0pPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInByb21wdC1ncm91cC1jb250ZW50XCIgc3R5bGU9XCJwYWRkaW5nOiAzcHg7IG1pbi1oZWlnaHQ6IDA7IG92ZXJmbG93OiB2aXNpYmxlOyAke2dyb3VwLmNvbGxhcHNlZCA/ICdkaXNwbGF5OiBub25lOycgOiAnZGlzcGxheTogYmxvY2s7J31cIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGApO1xuXG4gICAgLy8g5bCG5YiG57uE5o+S5YWl5Yiw56ys5LiA5Liq5p2h55uu5LmL5YmNXG4gICAgZmlyc3RQcm9tcHRFbGVtZW50LmJlZm9yZShncm91cENvbnRhaW5lcik7XG4gICAgY29uc29sZS5sb2coJ+WIhue7hOWuueWZqOW3suaPkuWFpeWIsERPTScpO1xuXG4gICAgLy8g5bCG5YiG57uE5Lit55qE55u05o6l5p2h55uu56e75Yqo5Yiw5YiG57uE5a655Zmo5LitXG4gICAgZ3JvdXAucHJvbXB0SWRzLmZvckVhY2gocHJvbXB0SWQgPT4ge1xuICAgICAgLy8g5bCd6K+V5aSa56eN6YCJ5oup5Zmo5p2l5p+l5om+5p2h55uuXG4gICAgICBsZXQgcHJvbXB0RWxlbWVudCA9ICQoYC5jb21wbGV0aW9uX3Byb21wdF9tYW5hZ2VyX3Byb21wdFtkYXRhLXBtLWlkZW50aWZpZXI9XCIke3Byb21wdElkfVwiXWApO1xuXG4gICAgICAvLyDlpoLmnpzmsqHmib7liLDvvIzlsJ3or5XlnKjlrZDlhYPntKDkuK3mn6Xmib5cbiAgICAgIGlmIChwcm9tcHRFbGVtZW50Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBwcm9tcHRFbGVtZW50ID0gJChgLmNvbXBsZXRpb25fcHJvbXB0X21hbmFnZXJfcHJvbXB0YCkuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgJCh0aGlzKS5kYXRhKCdwbS1pZGVudGlmaWVyJykgPT09IHByb21wdElkIHx8XG4gICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ1tkYXRhLXBtLWlkZW50aWZpZXJdJykuZGF0YSgncG0taWRlbnRpZmllcicpID09PSBwcm9tcHRJZFxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvbXB0RWxlbWVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGdyb3VwQ29udGFpbmVyLmZpbmQoJy5wcm9tcHQtZ3JvdXAtY29udGVudCcpLmFwcGVuZChwcm9tcHRFbGVtZW50KTtcbiAgICAgICAgY29uc29sZS5sb2coJ+enu+WKqOadoeebruWIsOWIhue7hOWuueWZqDonLCBwcm9tcHRJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oJ+acquaJvuWIsOadoeebrjonLCBwcm9tcHRJZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyDpgJLlvZLlpITnkIblrZDliIbnu4RcbiAgICBpZiAoZ3JvdXAuc3ViR3JvdXBzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIOWIm+W7uuWtkOWIhue7hOeahOWuueWZqFxuICAgICAgY29uc3Qgc3ViR3JvdXBzQ29udGFpbmVyID0gJCgnPGRpdiBjbGFzcz1cInN1Ymdyb3Vwcy1jb250YWluZXJcIj48L2Rpdj4nKTtcbiAgICAgIGdyb3VwQ29udGFpbmVyLmZpbmQoJy5wcm9tcHQtZ3JvdXAtY29udGVudCcpLmFwcGVuZChzdWJHcm91cHNDb250YWluZXIpO1xuXG4gICAgICAvLyDpgJLlvZLlupTnlKjlrZDliIbnu4RcbiAgICAgIGFwcGx5U3ViR3JvdXBzVG9Db250YWluZXIoZ3JvdXAuc3ViR3JvdXBzLCBzdWJHcm91cHNDb250YWluZXIsIGxldmVsICsgMSk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ+WIhue7hOWuueWZqOWIm+W7uuWujOaIkO+8jOadoeebruaVsOmHjzonLCBncm91cENvbnRhaW5lci5maW5kKCcuY29tcGxldGlvbl9wcm9tcHRfbWFuYWdlcl9wcm9tcHQnKS5sZW5ndGgpO1xuXG4gICAgLy8g57uR5a6a5bGV5byAL+aKmOWPoOS6i+S7tu+8iOS9v+eUqOeri+WNs+aJp+ihjOWHveaVsOmBv+WFjemXreWMhemXrumimO+8iVxuICAgIChmdW5jdGlvbiAoY3VycmVudEdyb3VwKSB7XG4gICAgICBjb25zdCBoZWFkZXIgPSBncm91cENvbnRhaW5lci5maW5kKCcucHJvbXB0LWdyb3VwLWhlYWRlcicpO1xuICAgICAgY29uc29sZS5sb2coJ+S4uuS4u+WIhue7hOe7keWumuS6i+S7tjonLCBjdXJyZW50R3JvdXAubmFtZSwgJ+WktOmDqOWFg+e0oOaVsOmHjzonLCBoZWFkZXIubGVuZ3RoKTtcblxuICAgICAgLy8g5YWI6Kej57uR5pen5LqL5Lu277yM6Ziy5q2i6YeN5aSN57uR5a6aXG4gICAgICBoZWFkZXIub2ZmKCdjbGljaycpO1xuXG4gICAgICBoZWFkZXIub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSAkKHRoaXMpLnNpYmxpbmdzKCcucHJvbXB0LWdyb3VwLWNvbnRlbnQnKTtcbiAgICAgICAgY29uc3QgaWNvbiA9ICQodGhpcykuZmluZCgnLmdyb3VwLXRvZ2dsZS1pY29uJyk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ+S4u+WIhue7hOeCueWHu+S6i+S7tuinpuWPkTonLCBjdXJyZW50R3JvdXAubmFtZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCflhoXlrrnlhYPntKDmlbDph486JywgY29udGVudC5sZW5ndGgsICflm77moIflhYPntKDmlbDph486JywgaWNvbi5sZW5ndGgpO1xuICAgICAgICBjb25zb2xlLmxvZygn5b2T5YmN5YaF5a655Y+v6KeB54q25oCBOicsIGNvbnRlbnQuaXMoJzp2aXNpYmxlJykpO1xuXG4gICAgICAgIGlmIChjb250ZW50LmlzKCc6dmlzaWJsZScpICYmIGNvbnRlbnQuY3NzKCdkaXNwbGF5JykgIT09ICdub25lJykge1xuICAgICAgICAgIGNvbnRlbnQuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICBpY29uLnRleHQoJ+KWticpO1xuICAgICAgICAgIGN1cnJlbnRHcm91cC5jb2xsYXBzZWQgPSB0cnVlO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfkuLvliIbnu4Tlt7Lmipjlj6A6JywgY3VycmVudEdyb3VwLm5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRlbnQuY3NzKHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICAgICAgICB2aXNpYmlsaXR5OiAndmlzaWJsZScsXG4gICAgICAgICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgICAgICAgIG92ZXJmbG93OiAndmlzaWJsZScsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29udGVudC5zaG93KCk7XG4gICAgICAgICAgaWNvbi50ZXh0KCfilrwnKTtcbiAgICAgICAgICBjdXJyZW50R3JvdXAuY29sbGFwc2VkID0gZmFsc2U7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+S4u+WIhue7hOW3suWxleW8gDonLCBjdXJyZW50R3JvdXAubmFtZSk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+S4u+WIhue7hOWxleW8gOWQjuWGheWuueWMuuWfn+WtkOWFg+e0oOaVsOmHjzonLCBjb250ZW50LmNoaWxkcmVuKCkubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSkoZ3JvdXApO1xuICB9KTtcbn1cblxuLy8g5bqU55So5a2Q5YiG57uE5Yiw5oyH5a6a5a655ZmoXG5mdW5jdGlvbiBhcHBseVN1Ykdyb3Vwc1RvQ29udGFpbmVyKHN1Ykdyb3VwczogUHJvbXB0R3JvdXBbXSwgY29udGFpbmVyOiBKUXVlcnksIGxldmVsOiBudW1iZXIpOiB2b2lkIHtcbiAgc3ViR3JvdXBzLmZvckVhY2goc3ViR3JvdXAgPT4ge1xuICAgIGlmICghaGFzVmFsaWRDb250ZW50KHN1Ykdyb3VwKSkgcmV0dXJuO1xuXG4gICAgY29uc29sZS5sb2coJ+WkhOeQhuWtkOWIhue7hDonLCBzdWJHcm91cC5uYW1lLCAn5bGC57qnOicsIGxldmVsKTtcblxuICAgIC8vIOiOt+WPluWtkOWIhue7hOS4reaJgOacieadoeebrlxuICAgIGNvbnN0IGFsbFByb21wdElkcyA9IGdldEFsbFByb21wdElkc0Zyb21Hcm91cChzdWJHcm91cCk7XG5cbiAgICAvLyDnu5/orqHlkK/nlKjnmoTmnaHnm67mlbDph49cbiAgICBjb25zdCBlbmFibGVkQ291bnQgPSBhbGxQcm9tcHRJZHMuZmlsdGVyKHByb21wdElkID0+IHtcbiAgICAgIGNvbnN0IHByb21wdEVsZW1lbnQgPSAkKGAuY29tcGxldGlvbl9wcm9tcHRfbWFuYWdlcl9wcm9tcHRbZGF0YS1wbS1pZGVudGlmaWVyPVwiJHtwcm9tcHRJZH1cIl1gKTtcbiAgICAgIHJldHVybiBwcm9tcHRFbGVtZW50LmZpbmQoJy5wcm9tcHQtbWFuYWdlci10b2dnbGUtYWN0aW9uJykuaGFzQ2xhc3MoJ2ZhLXRvZ2dsZS1vbicpO1xuICAgIH0pLmxlbmd0aDtcblxuICAgIC8vIOWIm+W7uuWtkOWIhue7hOWuueWZqFxuICAgIGNvbnN0IHN1Ykdyb3VwQ29udGFpbmVyID0gJChgXG4gICAgICA8ZGl2IGNsYXNzPVwicHJvbXB0LWdyb3VwLWNvbnRhaW5lciBzdWJncm91cFwiIGRhdGEtZ3JvdXAtaWQ9XCIke3N1Ykdyb3VwLmlkfVwiIHN0eWxlPVwiYm9yZGVyOiAxcHggc29saWQgcmdiYSgxMjgsIDEyOCwgMTI4LCAwLjIpOyBtYXJnaW46IDNweCAwOyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMDMpOyBtYXJnaW4tbGVmdDogMTVweDsgb3ZlcmZsb3c6IHZpc2libGU7XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwcm9tcHQtZ3JvdXAtaGVhZGVyXCIgc3R5bGU9XCJwYWRkaW5nOiA0cHggOHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMDUpOyBjdXJzb3I6IHBvaW50ZXI7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJncm91cC10b2dnbGUtaWNvblwiIHN0eWxlPVwibWFyZ2luLXJpZ2h0OiA2cHg7IGZvbnQtc2l6ZTogMTFweDsgY29sb3I6IGluaGVyaXQ7XCI+JHtzdWJHcm91cC5jb2xsYXBzZWQgPyAn4pa2JyA6ICfilrwnfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBzdHlsZT1cImZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogaW5oZXJpdDsgZm9udC1zaXplOiAxM3B4O1wiPiR7JCgnPGRpdi8+JykudGV4dChzdWJHcm91cC5uYW1lKS5odG1sKCl9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDhweDsgZm9udC1zaXplOiAxMXB4OyBjb2xvcjogIzY2NjtcIj4oJHtlbmFibGVkQ291bnR9LyR7YWxsUHJvbXB0SWRzLmxlbmd0aH0pPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInByb21wdC1ncm91cC1jb250ZW50XCIgc3R5bGU9XCJwYWRkaW5nOiAycHg7IG1pbi1oZWlnaHQ6IDA7IG92ZXJmbG93OiB2aXNpYmxlOyAke3N1Ykdyb3VwLmNvbGxhcHNlZCA/ICdkaXNwbGF5OiBub25lOycgOiAnZGlzcGxheTogYmxvY2s7J31cIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGApO1xuXG4gICAgY29udGFpbmVyLmFwcGVuZChzdWJHcm91cENvbnRhaW5lcik7XG5cbiAgICAvLyDnp7vliqjlrZDliIbnu4TnmoTnm7TmjqXmnaHnm65cbiAgICBjb25zb2xlLmxvZygn5byA5aeL56e75Yqo5a2Q5YiG57uE5p2h55uuOicsIHN1Ykdyb3VwLnByb21wdElkcyk7XG4gICAgc3ViR3JvdXAucHJvbXB0SWRzLmZvckVhY2gocHJvbXB0SWQgPT4ge1xuICAgICAgbGV0IHByb21wdEVsZW1lbnQgPSAkKGAuY29tcGxldGlvbl9wcm9tcHRfbWFuYWdlcl9wcm9tcHRbZGF0YS1wbS1pZGVudGlmaWVyPVwiJHtwcm9tcHRJZH1cIl1gKTtcblxuICAgICAgaWYgKHByb21wdEVsZW1lbnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHByb21wdEVsZW1lbnQgPSAkKGAuY29tcGxldGlvbl9wcm9tcHRfbWFuYWdlcl9wcm9tcHRgKS5maWx0ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAkKHRoaXMpLmRhdGEoJ3BtLWlkZW50aWZpZXInKSA9PT0gcHJvbXB0SWQgfHxcbiAgICAgICAgICAgICQodGhpcykuZmluZCgnW2RhdGEtcG0taWRlbnRpZmllcl0nKS5kYXRhKCdwbS1pZGVudGlmaWVyJykgPT09IHByb21wdElkXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9tcHRFbGVtZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgY29udGVudENvbnRhaW5lciA9IHN1Ykdyb3VwQ29udGFpbmVyLmZpbmQoJy5wcm9tcHQtZ3JvdXAtY29udGVudCcpO1xuICAgICAgICBjb250ZW50Q29udGFpbmVyLmFwcGVuZChwcm9tcHRFbGVtZW50KTtcbiAgICAgICAgY29uc29sZS5sb2coJ+enu+WKqOadoeebruWIsOWtkOWIhue7hOWuueWZqDonLCBwcm9tcHRJZCwgJ+WuueWZqOWGheadoeebruaVsOmHjzonLCBjb250ZW50Q29udGFpbmVyLmNoaWxkcmVuKCkubGVuZ3RoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2Fybign5pyq5om+5Yiw5p2h55uu5YWD57SgOicsIHByb21wdElkKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGZpbmFsQ29udGVudENvdW50ID0gc3ViR3JvdXBDb250YWluZXIuZmluZCgnLnByb21wdC1ncm91cC1jb250ZW50JykuY2hpbGRyZW4oKS5sZW5ndGg7XG4gICAgY29uc29sZS5sb2coJ+WtkOWIhue7hOacgOe7iOWMheWQq+eahOWFg+e0oOaVsOmHjzonLCBmaW5hbENvbnRlbnRDb3VudCk7XG5cbiAgICAvLyDpgJLlvZLlpITnkIbmm7Tmt7HlsYLnmoTlrZDliIbnu4RcbiAgICBpZiAoc3ViR3JvdXAuc3ViR3JvdXBzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGRlZXBlclN1Ykdyb3Vwc0NvbnRhaW5lciA9ICQoJzxkaXYgY2xhc3M9XCJzdWJncm91cHMtY29udGFpbmVyXCI+PC9kaXY+Jyk7XG4gICAgICBzdWJHcm91cENvbnRhaW5lci5maW5kKCcucHJvbXB0LWdyb3VwLWNvbnRlbnQnKS5hcHBlbmQoZGVlcGVyU3ViR3JvdXBzQ29udGFpbmVyKTtcbiAgICAgIGFwcGx5U3ViR3JvdXBzVG9Db250YWluZXIoc3ViR3JvdXAuc3ViR3JvdXBzLCBkZWVwZXJTdWJHcm91cHNDb250YWluZXIsIGxldmVsICsgMSk7XG4gICAgfVxuXG4gICAgLy8g57uR5a6a5bGV5byAL+aKmOWPoOS6i+S7tu+8iOS9v+eUqOeri+WNs+aJp+ihjOWHveaVsOmBv+WFjemXreWMhemXrumimO+8iVxuICAgIChmdW5jdGlvbiAoY3VycmVudFN1Ykdyb3VwKSB7XG4gICAgICBjb25zdCBoZWFkZXIgPSBzdWJHcm91cENvbnRhaW5lci5maW5kKCcucHJvbXB0LWdyb3VwLWhlYWRlcicpO1xuICAgICAgY29uc29sZS5sb2coJ+S4uuWtkOWIhue7hOe7keWumuS6i+S7tjonLCBjdXJyZW50U3ViR3JvdXAubmFtZSwgJ+WktOmDqOWFg+e0oOaVsOmHjzonLCBoZWFkZXIubGVuZ3RoKTtcblxuICAgICAgLy8g5YWI6Kej57uR5pen5LqL5Lu277yM6Ziy5q2i6YeN5aSN57uR5a6aXG4gICAgICBoZWFkZXIub2ZmKCdjbGljaycpO1xuXG4gICAgICBoZWFkZXIub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSAkKHRoaXMpLnNpYmxpbmdzKCcucHJvbXB0LWdyb3VwLWNvbnRlbnQnKTtcbiAgICAgICAgY29uc3QgaWNvbiA9ICQodGhpcykuZmluZCgnLmdyb3VwLXRvZ2dsZS1pY29uJyk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ+WtkOWIhue7hOeCueWHu+S6i+S7tuinpuWPkTonLCBjdXJyZW50U3ViR3JvdXAubmFtZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCflhoXlrrnlhYPntKDmlbDph486JywgY29udGVudC5sZW5ndGgsICflm77moIflhYPntKDmlbDph486JywgaWNvbi5sZW5ndGgpO1xuICAgICAgICBjb25zb2xlLmxvZygn5b2T5YmN5YaF5a655Y+v6KeB54q25oCBOicsIGNvbnRlbnQuaXMoJzp2aXNpYmxlJykpO1xuICAgICAgICBjb25zb2xlLmxvZygn5b2T5YmN5YaF5a65ZGlzcGxheeagt+W8jzonLCBjb250ZW50LmNzcygnZGlzcGxheScpKTtcblxuICAgICAgICBpZiAoY29udGVudC5pcygnOnZpc2libGUnKSAmJiBjb250ZW50LmNzcygnZGlzcGxheScpICE9PSAnbm9uZScpIHtcbiAgICAgICAgICBjb250ZW50LmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgaWNvbi50ZXh0KCfilrYnKTtcbiAgICAgICAgICBjdXJyZW50U3ViR3JvdXAuY29sbGFwc2VkID0gdHJ1ZTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn5a2Q5YiG57uE5bey5oqY5Y+gOicsIGN1cnJlbnRTdWJHcm91cC5uYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyDlvLrliLbmmL7npLrvvIzlubbmo4Dmn6XlhoXlrrlcbiAgICAgICAgICBjb250ZW50LmNzcyh7XG4gICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICAgICAgdmlzaWJpbGl0eTogJ3Zpc2libGUnLFxuICAgICAgICAgICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICBvdmVyZmxvdzogJ3Zpc2libGUnLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnRlbnQuc2hvdygpOyAvLyDlj4zph43kv53pmalcbiAgICAgICAgICBpY29uLnRleHQoJ+KWvCcpO1xuICAgICAgICAgIGN1cnJlbnRTdWJHcm91cC5jb2xsYXBzZWQgPSBmYWxzZTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn5a2Q5YiG57uE5bey5bGV5byAOicsIGN1cnJlbnRTdWJHcm91cC5uYW1lKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn5bGV5byA5ZCO5YaF5a655Yy65Z+f5a2Q5YWD57Sg5pWw6YePOicsIGNvbnRlbnQuY2hpbGRyZW4oKS5sZW5ndGgpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCflsZXlvIDlkI7lrp7pmYXpq5jluqY6JywgY29udGVudC5oZWlnaHQoKSk7XG5cbiAgICAgICAgICAvLyDlvLrliLbph43mlrDmuLLmn5NcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnRlbnQudHJpZ2dlcigncmVzaXplJyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn5by65Yi26YeN5paw5riy5p+T5ZCO6auY5bqmOicsIGNvbnRlbnQuaGVpZ2h0KCkpO1xuICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSkoc3ViR3JvdXApO1xuICB9KTtcbn1cblxuLy8g6I635Y+W5YiG57uE5Lit55qE5omA5pyJ5p2h55uuSUTvvIjpgJLlvZLljIXmi6zlrZDliIbnu4TvvIlcbmZ1bmN0aW9uIGdldEFsbFByb21wdElkc0Zyb21Hcm91cChncm91cDogUHJvbXB0R3JvdXApOiBzdHJpbmdbXSB7XG4gIGxldCBhbGxJZHMgPSBbLi4uZ3JvdXAucHJvbXB0SWRzXTtcblxuICBncm91cC5zdWJHcm91cHMuZm9yRWFjaChzdWJHcm91cCA9PiB7XG4gICAgYWxsSWRzID0gYWxsSWRzLmNvbmNhdChnZXRBbGxQcm9tcHRJZHNGcm9tR3JvdXAoc3ViR3JvdXApKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGFsbElkcztcbn1cblxuLy8g5Yqg6L295pe25oGi5aSN5YiG57uEXG5leHBvcnQgZnVuY3Rpb24gcmVzdG9yZUdyb3VwaW5nRnJvbUNvbmZpZygpOiB2b2lkIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjdXJyZW50UHJlc2V0TmFtZSA9IFRhdmVybkhlbHBlci5nZXRMb2FkZWRQcmVzZXROYW1lKCk7XG4gICAgY29uc3QgZ3JvdXBzID0gZ2V0UHJlc2V0R3JvdXBpbmcoY3VycmVudFByZXNldE5hbWUpO1xuXG4gICAgaWYgKGdyb3Vwcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhg5oGi5aSN6aKE6K6+IFwiJHtjdXJyZW50UHJlc2V0TmFtZX1cIiDnmoTliIbnu4TphY3nva7vvIzlhbEgJHtncm91cHMubGVuZ3RofSDkuKrliIbnu4RgKTtcblxuICAgICAgLy8g5qOA5p+l5piv5ZCm5pyJ6aKE6K6+5p2h55uu5a2Y5ZyoXG4gICAgICBjb25zdCBwcm9tcHRFbGVtZW50cyA9ICQoJy5jb21wbGV0aW9uX3Byb21wdF9tYW5hZ2VyX3Byb21wdCcpO1xuICAgICAgaWYgKHByb21wdEVsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIOacquaJvuWIsOmihOiuvuadoeebru+8jOW7tui/n+aBouWkjeWIhue7hCcpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHJlc3RvcmVHcm91cGluZ0Zyb21Db25maWcoKSwgMjAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyDlu7bov5/kuIDngrnml7bpl7Tnoa7kv51ET03lt7LliqDovb1cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBhcHBseUdyb3VwaW5nVG9ET00oZ3JvdXBzKTtcbiAgICAgIH0sIDIwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKGDpooTorr4gXCIke2N1cnJlbnRQcmVzZXROYW1lfVwiIOayoeacieWIhue7hOmFjee9rmApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfmgaLlpI3liIbnu4TphY3nva7lpLHotKU6JywgZXJyb3IpO1xuICB9XG59XG5cbi8vIOW7tui/n+aBouWkjeWIhue7hO+8iOeUqOS6jkRPTeWPmOWMluWQju+8iVxuLy8g6Ziy5oqW5oGi5aSN5YiG57uEXG5sZXQgcmVzdG9yZVRpbWVvdXQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4vLyDmmbrog73lu7bov5/mgaLlpI3vvIzmoLnmja7mk43kvZznsbvlnovosIPmlbTlu7bov5/ml7bpl7RcbmV4cG9ydCBmdW5jdGlvbiByZXN0b3JlR3JvdXBpbmdEZWxheWVkKGRlbGF5OiBudW1iZXIgPSAyMDAsIG9wZXJhdGlvbjogc3RyaW5nID0gJ3Vua25vd24nKTogdm9pZCB7XG4gIGlmIChyZXN0b3JlVGltZW91dCkge1xuICAgIGNsZWFyVGltZW91dChyZXN0b3JlVGltZW91dCk7XG4gIH1cblxuICAvLyDmoLnmja7mk43kvZznsbvlnovosIPmlbTlu7bov5/ml7bpl7RcbiAgbGV0IGFjdHVhbERlbGF5ID0gZGVsYXk7XG4gIHN3aXRjaCAob3BlcmF0aW9uKSB7XG4gICAgY2FzZSAndG9nZ2xlJzpcbiAgICAgIGFjdHVhbERlbGF5ID0gMTAwOyAvLyDlvIDlhbPmk43kvZzmnIDlv6tcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NldHRpbmdzJzpcbiAgICAgIGFjdHVhbERlbGF5ID0gMjAwOyAvLyDorr7nva7mm7TmlrDkuK3nrYlcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2RvbV9jaGFuZ2UnOlxuICAgICAgYWN0dWFsRGVsYXkgPSAxNTA7IC8vIERPTeWPmOWMlui+g+W/q1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncHJlc2V0X2NoYW5nZSc6XG4gICAgICBhY3R1YWxEZWxheSA9IDEwMDsgLy8g6aKE6K6+5YiH5o2i5pyA5b+rXG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYWN0dWFsRGVsYXkgPSBkZWxheTtcbiAgfVxuXG4gIHJlc3RvcmVUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGDwn5SEIOW7tui/n+aBouWkjeWIhue7hOW8gOWniy4uLiAo5pON5L2cOiAke29wZXJhdGlvbn0sIOW7tui/nzogJHthY3R1YWxEZWxheX1tcylgKTtcbiAgICByZXN0b3JlR3JvdXBpbmdGcm9tQ29uZmlnKCk7XG4gICAgcmVzdG9yZVRpbWVvdXQgPSBudWxsO1xuICB9LCBhY3R1YWxEZWxheSk7XG59XG5cbi8vIOeri+WNs+aBouWkjeWIhue7hO+8iOeUqOS6juWFs+mUruaTjeS9nO+8iVxuZXhwb3J0IGZ1bmN0aW9uIHJlc3RvcmVHcm91cGluZ0ltbWVkaWF0ZSgpOiB2b2lkIHtcbiAgY29uc29sZS5sb2coJ+KaoSDnq4vljbPmgaLlpI3liIbnu4QuLi4nKTtcbiAgcmVzdG9yZUdyb3VwaW5nRnJvbUNvbmZpZygpO1xufVxuXG4vLyDlvLrliLbmgaLlpI3liIbnu4TvvIjlpJrmrKHlsJ3or5Xnoa7kv53miJDlip/vvIlcbmV4cG9ydCBmdW5jdGlvbiBmb3JjZVJlc3RvcmVHcm91cGluZygpOiB2b2lkIHtcbiAgY29uc3QgdHJ5UmVzdG9yZSA9IChhdHRlbXB0OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBjdXJyZW50UHJlc2V0TmFtZSA9IFRhdmVybkhlbHBlci5nZXRMb2FkZWRQcmVzZXROYW1lKCk7XG4gICAgY29uc3QgZ3JvdXBzID0gZ2V0UHJlc2V0R3JvdXBpbmcoY3VycmVudFByZXNldE5hbWUpO1xuICAgIGNvbnN0IHByb21wdEVsZW1lbnRzID0gJCgnLmNvbXBsZXRpb25fcHJvbXB0X21hbmFnZXJfcHJvbXB0Jyk7XG5cbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGDnrKwke2F0dGVtcHR95qyh5bCd6K+V5oGi5aSN5YiG57uE77yM6aKE6K6+OiAke2N1cnJlbnRQcmVzZXROYW1lfSwg5YiG57uE5pWwOiAke2dyb3Vwcy5sZW5ndGh9LCDmnaHnm67mlbA6ICR7cHJvbXB0RWxlbWVudHMubGVuZ3RofWAsXG4gICAgKTtcblxuICAgIGlmIChncm91cHMubGVuZ3RoID4gMCAmJiBwcm9tcHRFbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBhcHBseUdyb3VwaW5nVG9ET00oZ3JvdXBzKTtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUg5YiG57uE5oGi5aSN5oiQ5YqfJyk7XG4gICAgfSBlbHNlIGlmIChhdHRlbXB0IDwgNSkge1xuICAgICAgLy8g5aaC5p6c6L+Y5rKh5pyJ5p2h55uu5oiW5YiG57uE77yM57un57ut5bCd6K+VXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHRyeVJlc3RvcmUoYXR0ZW1wdCArIDEpLCAyMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygn4pqg77iPIOWIhue7hOaBouWkjeWksei0pe+8jOW3sui+vuWIsOacgOWkp+WwneivleasoeaVsCcpO1xuICAgIH1cbiAgfTtcblxuICB0cnlSZXN0b3JlKDEpO1xufVxuXG4vLyDkuLvliqjop6blj5HliIbnu4TmgaLlpI3vvIjnlKjkuo7lhbPplK7mk43kvZzlkI7vvIlcbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyR3JvdXBpbmdSZXN0b3JlKCk6IHZvaWQge1xuICBjb25zb2xlLmxvZygn8J+UhCDkuLvliqjop6blj5HliIbnu4TmgaLlpI0uLi4nKTtcbiAgLy8g5YWI5riF6Zmk546w5pyJ55qE5YiG57uE5pWI5p6cXG4gIGNsZWFyQWxsR3JvdXBpbmcoKTtcbiAgLy8g54S25ZCO5bu26L+f5oGi5aSNXG4gIHJlc3RvcmVHcm91cGluZ0RlbGF5ZWQoMTUwLCAnZG9tX2NoYW5nZScpO1xufVxuXG4vLyDmuIXpmaTmiYDmnInliIbnu4RcbmV4cG9ydCBmdW5jdGlvbiBjbGVhckFsbEdyb3VwaW5nKCk6IHZvaWQge1xuICAkKCcucHJvbXB0LWdyb3VwLWNvbnRhaW5lcicpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHByb21wdHMgPSAkKHRoaXMpLmZpbmQoJy5jb21wbGV0aW9uX3Byb21wdF9tYW5hZ2VyX3Byb21wdCcpO1xuICAgICQodGhpcykuYmVmb3JlKHByb21wdHMpO1xuICAgICQodGhpcykucmVtb3ZlKCk7XG4gIH0pO1xufVxuXG4vLyDlr7zlh7rlvZPliY3pooTorr7nmoTliIbnu4TphY3nva5cbmV4cG9ydCBmdW5jdGlvbiBleHBvcnRQcmVzZXRHcm91cGluZyhwcmVzZXROYW1lOiBzdHJpbmcpOiBQcm9tcHRHcm91cFtdIHwgbnVsbCB7XG4gIGNvbnN0IGdyb3VwcyA9IGdldFByZXNldEdyb3VwaW5nKHByZXNldE5hbWUpO1xuICByZXR1cm4gZ3JvdXBzLmxlbmd0aCA+IDAgPyBncm91cHMgOiBudWxsO1xufVxuXG4vLyDlr7zlhaXliIbnu4TphY3nva7liLDmjIflrprpooTorr5cbmV4cG9ydCBmdW5jdGlvbiBpbXBvcnRQcmVzZXRHcm91cGluZyhwcmVzZXROYW1lOiBzdHJpbmcsIGdyb3VwczogUHJvbXB0R3JvdXBbXSk6IHZvaWQge1xuICBpZiAoIWdyb3VwcyB8fCAhQXJyYXkuaXNBcnJheShncm91cHMpIHx8IGdyb3Vwcy5sZW5ndGggPT09IDApIHtcbiAgICBjb25zb2xlLndhcm4oJ+WvvOWFpeeahOWIhue7hOmFjee9ruS4uuepuuaIluagvOW8j+S4jeato+ehricpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnNvbGUubG9nKCflvIDlp4vlr7zlhaXliIbnu4TphY3nva7liLDpooTorr46JywgcHJlc2V0TmFtZSwgJ+WIhue7hOaVsOmHjzonLCBncm91cHMubGVuZ3RoKTtcblxuICAvLyDpqozor4Hlubbkv67lpI3liIbnu4TmlbDmja7nu5PmnoRcbiAgY29uc3QgdmFsaWRHcm91cHMgPSBncm91cHNcbiAgICAubWFwKGdyb3VwID0+IHtcbiAgICAgIC8vIOehruS/neWIhue7hOWvueixoeacieaJgOacieW/hemcgOeahOWtl+autVxuICAgICAgY29uc3QgdmFsaWRHcm91cDogUHJvbXB0R3JvdXAgPSB7XG4gICAgICAgIGlkOiBncm91cC5pZCB8fCBEYXRlLm5vdygpLnRvU3RyaW5nKCkgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSksXG4gICAgICAgIG5hbWU6IGdyb3VwLm5hbWUgfHwgJ+acquWRveWQjeWIhue7hCcsXG4gICAgICAgIHByb21wdElkczogQXJyYXkuaXNBcnJheShncm91cC5wcm9tcHRJZHMpID8gZ3JvdXAucHJvbXB0SWRzIDogW10sXG4gICAgICAgIHN1Ykdyb3VwczogQXJyYXkuaXNBcnJheShncm91cC5zdWJHcm91cHMpID8gZ3JvdXAuc3ViR3JvdXBzIDogW10sXG4gICAgICAgIGNvbGxhcHNlZDogdHlwZW9mIGdyb3VwLmNvbGxhcHNlZCA9PT0gJ2Jvb2xlYW4nID8gZ3JvdXAuY29sbGFwc2VkIDogdHJ1ZSxcbiAgICAgICAgbGV2ZWw6IHR5cGVvZiBncm91cC5sZXZlbCA9PT0gJ251bWJlcicgPyBncm91cC5sZXZlbCA6IDAsXG4gICAgICAgIHBhcmVudElkOiBncm91cC5wYXJlbnRJZCxcbiAgICAgIH07XG5cbiAgICAgIGNvbnNvbGUubG9nKCflpITnkIbliIbnu4Q6JywgdmFsaWRHcm91cC5uYW1lLCAn5p2h55uu5pWw6YePOicsIHZhbGlkR3JvdXAucHJvbXB0SWRzLmxlbmd0aCk7XG4gICAgICByZXR1cm4gdmFsaWRHcm91cDtcbiAgICB9KVxuICAgIC5maWx0ZXIoZ3JvdXAgPT4gZ3JvdXAucHJvbXB0SWRzLmxlbmd0aCA+IDApOyAvLyDlj6rkv53nlZnmnInmnaHnm67nmoTliIbnu4RcblxuICBpZiAodmFsaWRHcm91cHMubGVuZ3RoID09PSAwKSB7XG4gICAgY29uc29sZS53YXJuKCfmsqHmnInmnInmlYjnmoTliIbnu4TphY3nva4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zb2xlLmxvZygn5pyJ5pWI5YiG57uE5pWw6YePOicsIHZhbGlkR3JvdXBzLmxlbmd0aCk7XG4gIHNhdmVQcmVzZXRHcm91cGluZyhwcmVzZXROYW1lLCB2YWxpZEdyb3Vwcyk7XG5cbiAgLy8g5aaC5p6c5piv5b2T5YmN6aKE6K6+77yM56uL5Y2z5bqU55SoXG4gIGNvbnN0IGN1cnJlbnRQcmVzZXROYW1lID0gVGF2ZXJuSGVscGVyLmdldExvYWRlZFByZXNldE5hbWUoKTtcbiAgY29uc29sZS5sb2coJ+W9k+WJjemihOiuvjonLCBjdXJyZW50UHJlc2V0TmFtZSwgJ+ebruagh+mihOiuvjonLCBwcmVzZXROYW1lKTtcbiAgaWYgKGN1cnJlbnRQcmVzZXROYW1lID09PSBwcmVzZXROYW1lKSB7XG4gICAgY29uc29sZS5sb2coJ+eri+WNs+W6lOeUqOWIhue7hOWIsOW9k+WJjemihOiuvicpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgYXBwbHlHcm91cGluZ1RvRE9NKHZhbGlkR3JvdXBzKTtcbiAgICB9LCAxMDApO1xuICB9XG59XG5cbi8vIOiOt+WPluaJgOaciemihOiuvueahOWIhue7hOmFjee9ru+8iOeUqOS6juaJuemHj+WvvOWHuu+8iVxuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbFByZXNldEdyb3VwaW5ncygpOiBSZWNvcmQ8c3RyaW5nLCBQcm9tcHRHcm91cFtdPiB7XG4gIGNvbnN0IGFsbEdyb3VwaW5nczogUmVjb3JkPHN0cmluZywgUHJvbXB0R3JvdXBbXT4gPSB7fTtcblxuICAvLyDpgY3ljoZsb2NhbFN0b3JhZ2XkuK3miYDmnInnmoTliIbnu4TphY3nva5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBrZXkgPSBsb2NhbFN0b3JhZ2Uua2V5KGkpO1xuICAgIGlmIChrZXkgJiYga2V5LnN0YXJ0c1dpdGgoJ21pYW9taWFvX3ByZXNldF9ncm91cHNfJykpIHtcbiAgICAgIGNvbnN0IHByZXNldE5hbWUgPSBrZXkucmVwbGFjZSgnbWlhb21pYW9fcHJlc2V0X2dyb3Vwc18nLCAnJyk7XG4gICAgICBjb25zdCBncm91cHMgPSBnZXRQcmVzZXRHcm91cGluZyhwcmVzZXROYW1lKTtcbiAgICAgIGlmIChncm91cHMubGVuZ3RoID4gMCkge1xuICAgICAgICBhbGxHcm91cGluZ3NbcHJlc2V0TmFtZV0gPSBncm91cHM7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFsbEdyb3VwaW5ncztcbn1cblxuLy8g5riF6Zmk5oyH5a6a6aKE6K6+55qE5YiG57uE6YWN572uXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJQcmVzZXRHcm91cGluZyhwcmVzZXROYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZ2V0R3JvdXBpbmdTdG9yYWdlS2V5KHByZXNldE5hbWUpKTtcblxuICAvLyDlpoLmnpzmmK/lvZPliY3pooTorr7vvIzmuIXpmaRET03kuK3nmoTliIbnu4RcbiAgY29uc3QgY3VycmVudFByZXNldE5hbWUgPSBUYXZlcm5IZWxwZXIuZ2V0TG9hZGVkUHJlc2V0TmFtZSgpO1xuICBpZiAoY3VycmVudFByZXNldE5hbWUgPT09IHByZXNldE5hbWUpIHtcbiAgICBjbGVhckFsbEdyb3VwaW5nKCk7XG4gIH1cbn1cblxuLy8g5pi+56S65L2N572u6YCJ5oup5by556qXXG5hc3luYyBmdW5jdGlvbiBzaG93UG9zaXRpb25TZWxlY3Rpb25Qb3B1cChcbiAgYWxsUHJvbXB0czogQXJyYXk8eyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGVsZW1lbnQ6IEpRdWVyeTsgZW5hYmxlZDogYm9vbGVhbiB9PixcbiAgc2VsZWN0ZWRQcm9tcHRJZHM6IHN0cmluZ1tdLFxuICBvbkNvbmZpcm06ICh0YXJnZXRQcm9tcHRJZDogc3RyaW5nLCBwb3NpdGlvbjogJ2Fib3ZlJyB8ICdiZWxvdycpID0+IHZvaWQsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgcG9wdXBJZCA9ICdwb3NpdGlvbi1zZWxlY3Rpb24tcG9wdXAnO1xuICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuXG4gIC8vIOi/h+a7pOaOieW3sumAieS4reeahOadoeebru+8jOWPquaYvuekuuWPr+S7peS9nOS4uuebruagh+eahOadoeebrlxuICBjb25zdCBhdmFpbGFibGVQcm9tcHRzID0gYWxsUHJvbXB0cy5maWx0ZXIocHJvbXB0ID0+ICFzZWxlY3RlZFByb21wdElkcy5pbmNsdWRlcyhwcm9tcHQuaWQpKTtcblxuICBpZiAoYXZhaWxhYmxlUHJvbXB0cy5sZW5ndGggPT09IDApIHtcbiAgICB0b2FzdHIuZXJyb3IoJ+ayoeacieWPr+eUqOeahOebruagh+S9jee9ricpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHByb21wdHNIdG1sID0gYXZhaWxhYmxlUHJvbXB0c1xuICAgIC5tYXAoXG4gICAgICBwcm9tcHQgPT4gYFxuICAgIDxkaXYgY2xhc3M9XCJwb3NpdGlvbi10YXJnZXQtaXRlbVwiIGRhdGEtcHJvbXB0LWlkPVwiJHtwcm9tcHQuaWR9XCIgc3R5bGU9XCJib3JkZXI6IDFweCBzb2xpZCAjZTBlMGUwOyBtYXJnaW46IDVweCAwOyBib3JkZXItcmFkaXVzOiA2cHg7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7XCI+XG4gICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogMTBweDsgZm9udC13ZWlnaHQ6ICR7cHJvbXB0LmVuYWJsZWQgPyAnYm9sZCcgOiAnbm9ybWFsJ307IGNvbG9yOiAke3Byb21wdC5lbmFibGVkID8gJyMwMDAnIDogJyM2NjYnfTsgZm9udC1zaXplOiAxNHB4O1wiPlxuICAgICAgICAkeyQoJzxkaXYvPicpLnRleHQocHJvbXB0Lm5hbWUpLmh0bWwoKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjZjBmMGYwO1wiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwicG9zaXRpb24tYnRuXCIgZGF0YS1wcm9tcHQtaWQ9XCIke3Byb21wdC5pZH1cIiBkYXRhLXBvc2l0aW9uPVwiYWJvdmVcIiBzdHlsZT1cImZsZXg6IDE7IHBhZGRpbmc6IDhweDsgYmFja2dyb3VuZC1jb2xvcjogI2UzZjJmZDsgYm9yZGVyOiBub25lOyBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZjBmMGYwOyBjdXJzb3I6IHBvaW50ZXI7IGZvbnQtc2l6ZTogMTNweDsgY29sb3I6ICMxOTc2ZDI7XCI+56e75Yqo5Yiw5LiK5pa5PC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJwb3NpdGlvbi1idG5cIiBkYXRhLXByb21wdC1pZD1cIiR7cHJvbXB0LmlkfVwiIGRhdGEtcG9zaXRpb249XCJiZWxvd1wiIHN0eWxlPVwiZmxleDogMTsgcGFkZGluZzogOHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjNlNWY1OyBib3JkZXI6IG5vbmU7IGN1cnNvcjogcG9pbnRlcjsgZm9udC1zaXplOiAxM3B4OyBjb2xvcjogIzdiMWZhMjtcIj7np7vliqjliLDkuIvmlrk8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgLFxuICAgIClcbiAgICAuam9pbignJyk7XG5cbiAgY29uc3QgcG9wdXBIdG1sID0gYFxuICAgIDxkaXYgaWQ9XCIke3BvcHVwSWR9XCIgc3R5bGU9XCJwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjUpOyB6LWluZGV4OiAxMDAwMzsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwicG9zaXRpb24tc2VsZWN0aW9uLXBvcHVwLWNvbnRlbnRcIiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICNmZmY4ZjA7IGNvbG9yOiAjM2EyYzJjOyBib3JkZXItcmFkaXVzOiAxNnB4OyBwYWRkaW5nOiAyMHB4OyB3aWR0aDogOTAlOyBtYXgtd2lkdGg6IDYwMHB4OyBib3gtc2hhZG93OiAwIDRweCAyNXB4IHJnYmEoMTIwLDkwLDYwLC4yNSk7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IG1heC1oZWlnaHQ6IDgwdmg7XCI+XG4gICAgICAgIDxoNCBzdHlsZT1cIm1hcmdpbi10b3A6MDsgY29sb3I6IzZhNDIyNjsgdGV4dC1hbGlnbjogY2VudGVyOyBib3JkZXItYm90dG9tOiAycHggc29saWQgI2YwZDhiNjsgcGFkZGluZy1ib3R0b206IDEwcHg7XCI+6YCJ5oup56e75Yqo5L2N572uPC9oND5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW46IDE1cHggMDsgcGFkZGluZzogMTJweDsgYmFja2dyb3VuZC1jb2xvcjogI2U4ZjVlODsgYm9yZGVyLXJhZGl1czogOHB4OyBib3JkZXItbGVmdDogNHB4IHNvbGlkICM0Q0FGNTA7XCI+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMTNweDsgY29sb3I6ICMyZTdkMzI7IGZvbnQtd2VpZ2h0OiBib2xkOyBtYXJnaW4tYm90dG9tOiA2cHg7XCI+8J+TiyDnp7vliqjor7TmmI48L2Rpdj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzQyNDI0MjsgbGluZS1oZWlnaHQ6IDEuNDtcIj5cbiAgICAgICAgICAgIOW3sumAieaLqSAke3NlbGVjdGVkUHJvbXB0SWRzLmxlbmd0aH0g5Liq5p2h55uu6L+b6KGM56e75Yqo44CC54K55Ye755uu5qCH5p2h55uu55qEXCLnp7vliqjliLDkuIrmlrlcIuaIllwi56e75Yqo5Yiw5LiL5pa5XCLmjInpkq7mnaXorr7nva7mlrDkvY3nva7jgIJcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBzdHlsZT1cImZsZXg6IDE7IG1pbi1oZWlnaHQ6IDA7IG92ZXJmbG93LXk6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICNmMGUyZDA7IGJvcmRlci1yYWRpdXM6IDhweDsgcGFkZGluZzogMTJweDsgbWFyZ2luLWJvdHRvbTogMTVweDtcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAxM3B4OyBjb2xvcjogIzY2NjsgbWFyZ2luLWJvdHRvbTogMTJweDtcIj7pgInmi6nopoHnp7vliqjliLDlk6rkuKrmnaHnm67nmoTkuIrmlrnmiJbkuIvmlrnvvJo8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGlkPVwicG9zaXRpb24tdGFyZ2V0cy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICR7cHJvbXB0c0h0bWx9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcIj5cbiAgICAgICAgICA8YnV0dG9uIGlkPVwicG9zaXRpb24tc2VsZWN0aW9uLWNhbmNlbFwiIHN0eWxlPVwicGFkZGluZzogMTBweCAxNnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiM5RTlFOUU7IGJvcmRlcjpub25lOyBib3JkZXItcmFkaXVzOjZweDsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtd2VpZ2h0OmJvbGQ7IGNvbG9yOiNmZmY7IGZvbnQtc2l6ZTogMTRweDtcIj7lj5bmtog8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8c3R5bGU+XG4gICAgICAucG9zaXRpb24tYnRuOmhvdmVyIHtcbiAgICAgICAgb3BhY2l0eTogMC44O1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgIH1cbiAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkge1xuICAgICAgICAjJHtwb3B1cElkfSB7XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQgIWltcG9ydGFudDtcbiAgICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICB9XG4gICAgICAgICMke3BvcHVwSWR9IC5wb3NpdGlvbi1zZWxlY3Rpb24tcG9wdXAtY29udGVudCB7XG4gICAgICAgICAgbWFyZ2luLXRvcDogNXZoICFpbXBvcnRhbnQ7XG4gICAgICAgICAgbWF4LWhlaWdodDogOTB2aCAhaW1wb3J0YW50O1xuICAgICAgICAgIHdpZHRoOiA5NSUgIWltcG9ydGFudDtcbiAgICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgICAgIH1cbiAgICAgICAgIyR7cG9wdXBJZH0gLnBvc2l0aW9uLWJ0biB7XG4gICAgICAgICAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgcGFkZGluZzogNnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkge1xuICAgICAgICAjJHtwb3B1cElkfSAucG9zaXRpb24tc2VsZWN0aW9uLXBvcHVwLWNvbnRlbnQge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDJ2aCAhaW1wb3J0YW50O1xuICAgICAgICAgIG1heC1oZWlnaHQ6IDk2dmggIWltcG9ydGFudDtcbiAgICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICB9XG4gICAgICAgICMke3BvcHVwSWR9IGg0IHtcbiAgICAgICAgICBmb250LXNpemU6IDE2cHggIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICAjJHtwb3B1cElkfSAucG9zaXRpb24tYnRuIHtcbiAgICAgICAgICBmb250LXNpemU6IDExcHggIWltcG9ydGFudDtcbiAgICAgICAgICBwYWRkaW5nOiA1cHggIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIDwvc3R5bGU+XG4gIGA7XG5cbiAgJCgnYm9keScpLmFwcGVuZChwb3B1cEh0bWwpO1xuXG4gIC8vIOe7keWumuS6i+S7tlxuICAkKCcucG9zaXRpb24tYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHRhcmdldFByb21wdElkID0gJCh0aGlzKS5kYXRhKCdwcm9tcHQtaWQnKTtcbiAgICBjb25zdCBwb3NpdGlvbiA9ICQodGhpcykuZGF0YSgncG9zaXRpb24nKSBhcyAnYWJvdmUnIHwgJ2JlbG93JztcblxuICAgICQoYCMke3BvcHVwSWR9YCkucmVtb3ZlKCk7XG4gICAgb25Db25maXJtKHRhcmdldFByb21wdElkLCBwb3NpdGlvbik7XG4gIH0pO1xuXG4gICQoJyNwb3NpdGlvbi1zZWxlY3Rpb24tY2FuY2VsJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICQoYCMke3BvcHVwSWR9YCkucmVtb3ZlKCk7XG4gIH0pO1xufVxuXG4vLyDnp7vliqjmnaHnm67liLDmjIflrprkvY3nva5cbmZ1bmN0aW9uIG1vdmVQcm9tcHRzVG9Qb3NpdGlvbihzZWxlY3RlZFByb21wdElkczogc3RyaW5nW10sIHRhcmdldFByb21wdElkOiBzdHJpbmcsIHBvc2l0aW9uOiAnYWJvdmUnIHwgJ2JlbG93Jyk6IHZvaWQge1xuICBjb25zb2xlLmxvZygn5byA5aeL56e75Yqo5p2h55uuOicsIHNlbGVjdGVkUHJvbXB0SWRzLCAn5YiwJywgdGFyZ2V0UHJvbXB0SWQsIHBvc2l0aW9uKTtcblxuICAvLyDpgJrov4fphZLppobliqnmiYvojrflj5blvZPliY3pooTorr7nmoTmnaHnm67pobrluo9cbiAgY29uc3QgY3VycmVudFByb21wdHMgPSBnZXRDdXJyZW50UHJlc2V0UHJvbXB0cygpO1xuICBjb25zdCBwcm9tcHRJZHMgPSBjdXJyZW50UHJvbXB0cy5tYXAocCA9PiBwLmlkKTtcblxuICAvLyDliJvlu7rmlrDnmoTpobrluo/mlbDnu4RcbiAgY29uc3QgbmV3T3JkZXIgPSBbLi4ucHJvbXB0SWRzXTtcblxuICAvLyDku47ljp/kvY3nva7np7vpmaTpgInkuK3nmoTmnaHnm65cbiAgc2VsZWN0ZWRQcm9tcHRJZHMuZm9yRWFjaChpZCA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBuZXdPcmRlci5pbmRleE9mKGlkKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgbmV3T3JkZXIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIOaJvuWIsOebruagh+S9jee9rlxuICBjb25zdCB0YXJnZXRJbmRleCA9IG5ld09yZGVyLmluZGV4T2YodGFyZ2V0UHJvbXB0SWQpO1xuICBpZiAodGFyZ2V0SW5kZXggPT09IC0xKSB7XG4gICAgY29uc29sZS5lcnJvcign5pyq5om+5Yiw55uu5qCH5p2h55uuOicsIHRhcmdldFByb21wdElkKTtcbiAgICB0b2FzdHIuZXJyb3IoJ+enu+WKqOWksei0pe+8muacquaJvuWIsOebruagh+adoeebricpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIOiuoeeul+aPkuWFpeS9jee9rlxuICBjb25zdCBpbnNlcnRJbmRleCA9IHBvc2l0aW9uID09PSAnYWJvdmUnID8gdGFyZ2V0SW5kZXggOiB0YXJnZXRJbmRleCArIDE7XG5cbiAgLy8g5Zyo55uu5qCH5L2N572u5o+S5YWl6YCJ5Lit55qE5p2h55uuXG4gIG5ld09yZGVyLnNwbGljZShpbnNlcnRJbmRleCwgMCwgLi4uc2VsZWN0ZWRQcm9tcHRJZHMpO1xuXG4gIGNvbnNvbGUubG9nKCfmlrDnmoTmnaHnm67pobrluo86JywgbmV3T3JkZXIpO1xuXG4gIC8vIOW6lOeUqOaWsOmhuuW6j+WIsERPTVxuICBhcHBseU5ld1Byb21wdE9yZGVyKG5ld09yZGVyKTtcblxuICAvLyDmm7TmlrDliIbnu4TnlYzpnaLnmoTmmL7npLrpobrluo9cbiAgdXBkYXRlR3JvdXBpbmdVSU9yZGVyKG5ld09yZGVyKTtcbn1cblxuLy8g5bqU55So5paw55qE5p2h55uu6aG65bqP5YiwRE9NXG5mdW5jdGlvbiBhcHBseU5ld1Byb21wdE9yZGVyKG5ld09yZGVyOiBzdHJpbmdbXSk6IHZvaWQge1xuICBjb25zb2xlLmxvZygn5bqU55So5paw55qE5p2h55uu6aG65bqP5YiwRE9NJyk7XG5cbiAgY29uc3QgY29udGFpbmVyID0gJCgnLmNvbXBsZXRpb25fcHJvbXB0X21hbmFnZXJfcHJvbXB0JykuZmlyc3QoKS5wYXJlbnQoKTtcbiAgaWYgKGNvbnRhaW5lci5sZW5ndGggPT09IDApIHtcbiAgICBjb25zb2xlLmVycm9yKCfmnKrmib7liLDpooTorr7mnaHnm67lrrnlmagnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyDmjInmlrDpobrluo/ph43mlrDmjpLliJdET03lhYPntKBcbiAgbmV3T3JkZXIuZm9yRWFjaChwcm9tcHRJZCA9PiB7XG4gICAgY29uc3QgZWxlbWVudCA9ICQoYC5jb21wbGV0aW9uX3Byb21wdF9tYW5hZ2VyX3Byb21wdFtkYXRhLXBtLWlkZW50aWZpZXI9XCIke3Byb21wdElkfVwiXWApO1xuICAgIGlmIChlbGVtZW50Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8g5bCd6K+V5Zyo5a2Q5YWD57Sg5Lit5p+l5om+XG4gICAgICBjb25zdCBmYWxsYmFja0VsZW1lbnQgPSAkKGAuY29tcGxldGlvbl9wcm9tcHRfbWFuYWdlcl9wcm9tcHRgKS5maWx0ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJCh0aGlzKS5maW5kKCdbZGF0YS1wbS1pZGVudGlmaWVyXScpLmRhdGEoJ3BtLWlkZW50aWZpZXInKSA9PT0gcHJvbXB0SWQ7XG4gICAgICB9KTtcbiAgICAgIGlmIChmYWxsYmFja0VsZW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgICBjb250YWluZXIuYXBwZW5kKGZhbGxiYWNrRWxlbWVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XG4gICAgfVxuICB9KTtcblxuICBjb25zb2xlLmxvZygnRE9N6aG65bqP5pu05paw5a6M5oiQJyk7XG59XG5cbi8vIOabtOaWsOWIhue7hOeVjOmdoueahOaYvuekuumhuuW6j1xuZnVuY3Rpb24gdXBkYXRlR3JvdXBpbmdVSU9yZGVyKG5ld09yZGVyOiBzdHJpbmdbXSk6IHZvaWQge1xuICBjb25zb2xlLmxvZygn5pu05paw5YiG57uE55WM6Z2i55qE5pi+56S66aG65bqPJyk7XG5cbiAgY29uc3QgcHJvbXB0c0NvbnRhaW5lciA9ICQoJyNwcm9tcHRzLWNvbnRhaW5lcicpO1xuICBpZiAocHJvbXB0c0NvbnRhaW5lci5sZW5ndGggPT09IDApIHtcbiAgICBjb25zb2xlLmxvZygn5YiG57uE55WM6Z2i5pyq5omT5byA77yM6Lez6L+H55WM6Z2i5pu05pawJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8g5oyJ5paw6aG65bqP6YeN5paw5o6S5YiX5YiG57uE55WM6Z2i5Lit55qE5p2h55uuXG4gIG5ld09yZGVyLmZvckVhY2gocHJvbXB0SWQgPT4ge1xuICAgIGNvbnN0IGl0ZW0gPSAkKGAucHJvbXB0LWl0ZW1bZGF0YS1wcm9tcHQtaWQ9XCIke3Byb21wdElkfVwiXWApO1xuICAgIGlmIChpdGVtLmxlbmd0aCA+IDApIHtcbiAgICAgIHByb21wdHNDb250YWluZXIuYXBwZW5kKGl0ZW0pO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc29sZS5sb2coJ+WIhue7hOeVjOmdoumhuuW6j+abtOaWsOWujOaIkCcpO1xufVxuXG4vLyDmmL7npLrmlrDlop7mnaHnm67lvLnnqpdcbmFzeW5jIGZ1bmN0aW9uIHNob3dBZGRQcm9tcHRQb3B1cChvblN1Y2Nlc3M6ICgpID0+IHZvaWQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgcG9wdXBJZCA9ICdhZGQtcHJvbXB0LXBvcHVwJztcbiAgJChgIyR7cG9wdXBJZH1gKS5yZW1vdmUoKTtcblxuICAvLyDojrflj5blvZPliY3miYDmnInmnaHnm67nlKjkuo7kvY3nva7pgInmi6lcbiAgY29uc3QgY3VycmVudFByb21wdHMgPSBnZXRDdXJyZW50UHJlc2V0UHJvbXB0cygpO1xuXG4gIGNvbnN0IHBvcHVwSHRtbCA9IGBcbiAgICA8ZGl2IGlkPVwiJHtwb3B1cElkfVwiIHN0eWxlPVwicG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC41KTsgei1pbmRleDogMTAwMDQ7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyO1wiPlxuICAgICAgPGRpdiBjbGFzcz1cImFkZC1wcm9tcHQtcG9wdXAtY29udGVudFwiIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogI2ZmZjhmMDsgY29sb3I6ICMzYTJjMmM7IGJvcmRlci1yYWRpdXM6IDE2cHg7IHBhZGRpbmc6IDIwcHg7IHdpZHRoOiA5MCU7IG1heC13aWR0aDogNzAwcHg7IGJveC1zaGFkb3c6IDAgNHB4IDI1cHggcmdiYSgxMjAsOTAsNjAsLjI1KTsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgbWF4LWhlaWdodDogOTB2aDsgb3ZlcmZsb3c6IGhpZGRlbjtcIj5cbiAgICAgICAgPGg0IHN0eWxlPVwibWFyZ2luLXRvcDowOyBjb2xvcjojNmE0MjI2OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZjBkOGI2OyBwYWRkaW5nLWJvdHRvbTogMTBweDsgZmxleC1zaHJpbms6IDA7XCI+5paw5aKe5p2h55uuPC9oND5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgc3R5bGU9XCJmbGV4OiAxOyBtaW4taGVpZ2h0OiAwOyBvdmVyZmxvdy15OiBhdXRvOyBtYXJnaW4tYm90dG9tOiAxNXB4O1wiPlxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW46IDE1cHggMDtcIj5cbiAgICAgICAgICAgIDxsYWJlbCBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyBtYXJnaW4tYm90dG9tOiA4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogIzZhNDIyNjtcIj7mnaHnm67lkI3np7DvvJo8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJhZGQtcHJvbXB0LW5hbWVcIiBwbGFjZWhvbGRlcj1cIui+k+WFpeadoeebruWQjeensC4uLlwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEwcHg7IGJvcmRlcjogMXB4IHNvbGlkICNkNGI1OGI7IGJvcmRlci1yYWRpdXM6IDZweDsgYmFja2dyb3VuZDogI2ZmZjsgY29sb3I6ICMzMzM7IGZvbnQtc2l6ZTogMTRweDsgbWFyZ2luLWJvdHRvbTogMTVweDsgYm94LXNpemluZzogYm9yZGVyLWJveDtcIj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGxhYmVsIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7IG1hcmdpbi1ib3R0b206IDhweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjNmE0MjI2O1wiPuadoeebruWGheWuue+8mjwvbGFiZWw+XG4gICAgICAgICAgICA8dGV4dGFyZWEgaWQ9XCJhZGQtcHJvbXB0LWNvbnRlbnRcIiBwbGFjZWhvbGRlcj1cIui+k+WFpeadoeebruWGheWuuS4uLlwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IGhlaWdodDogMTIwcHg7IHBhZGRpbmc6IDEwcHg7IGJvcmRlcjogMXB4IHNvbGlkICNkNGI1OGI7IGJvcmRlci1yYWRpdXM6IDZweDsgYmFja2dyb3VuZDogI2ZmZjsgY29sb3I6ICMzMzM7IGZvbnQtc2l6ZTogMTRweDsgcmVzaXplOiB2ZXJ0aWNhbDsgYm94LXNpemluZzogYm9yZGVyLWJveDtcIj48L3RleHRhcmVhPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbjogMTVweCAwO1wiPlxuICAgICAgICAgICAgPGxhYmVsIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7IG1hcmdpbi1ib3R0b206IDhweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjNmE0MjI2O1wiPuaPkuWFpeS9jee9ru+8mjwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgZ2FwOiAxMHB4OyBtYXJnaW4tYm90dG9tOiAxMHB4O1wiPlxuICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBjdXJzb3I6IHBvaW50ZXI7XCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJwb3NpdGlvbi10eXBlXCIgdmFsdWU9XCJlbmRcIiBjaGVja2VkIHN0eWxlPVwibWFyZ2luLXJpZ2h0OiA2cHg7XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJmb250LXNpemU6IDE0cHg7XCI+5re75Yqg5Yiw5pyr5bC+PC9zcGFuPlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBjdXJzb3I6IHBvaW50ZXI7XCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJwb3NpdGlvbi10eXBlXCIgdmFsdWU9XCJjdXN0b21cIiBzdHlsZT1cIm1hcmdpbi1yaWdodDogNnB4O1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiZm9udC1zaXplOiAxNHB4O1wiPuaPkuWFpeWIsOaMh+WumuS9jee9rjwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGlkPVwicG9zaXRpb24tc2VsZWN0aW9uLWNvbnRhaW5lclwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTsgYm9yZGVyOiAxcHggc29saWQgI2UwZTBlMDsgYm9yZGVyLXJhZGl1czogNnB4OyBtYXgtaGVpZ2h0OiAyNTBweDsgb3ZlcmZsb3cteTogYXV0bztcIj5cbiAgICAgICAgICAgICAgJHtjdXJyZW50UHJvbXB0c1xuICAgICAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgICAgICBwcm9tcHQgPT4gYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwb3NpdGlvbi1vcHRpb25cIiBkYXRhLXByb21wdC1pZD1cIiR7cHJvbXB0LmlkfVwiIHN0eWxlPVwiYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmMGYwZjA7IGxhc3QtY2hpbGQ6Ym9yZGVyLWJvdHRvbTogbm9uZTtcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJwYWRkaW5nOiA4cHggMTJweDsgZm9udC13ZWlnaHQ6ICR7cHJvbXB0LmVuYWJsZWQgPyAnYm9sZCcgOiAnbm9ybWFsJ307IGNvbG9yOiAke3Byb21wdC5lbmFibGVkID8gJyMwMDAnIDogJyM2NjYnfTsgZm9udC1zaXplOiAxM3B4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1wiPlxuICAgICAgICAgICAgICAgICAgICAkeyQoJzxkaXYvPicpLnRleHQocHJvbXB0Lm5hbWUpLmh0bWwoKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwb3NpdGlvbi1idG5cIiBkYXRhLXByb21wdC1pZD1cIiR7cHJvbXB0LmlkfVwiIGRhdGEtcG9zaXRpb249XCJhYm92ZVwiIHN0eWxlPVwiZmxleDogMTsgcGFkZGluZzogNnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZTNmMmZkOyBib3JkZXI6IG5vbmU7IGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNmMGYwZjA7IGN1cnNvcjogcG9pbnRlcjsgZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzE5NzZkMjtcIj7mj5LlhaXliLDkuIrmlrk8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInBvc2l0aW9uLWJ0blwiIGRhdGEtcHJvbXB0LWlkPVwiJHtwcm9tcHQuaWR9XCIgZGF0YS1wb3NpdGlvbj1cImJlbG93XCIgc3R5bGU9XCJmbGV4OiAxOyBwYWRkaW5nOiA2cHg7IGJhY2tncm91bmQtY29sb3I6ICNmM2U1ZjU7IGJvcmRlcjogbm9uZTsgY3Vyc29yOiBwb2ludGVyOyBmb250LXNpemU6IDEycHg7IGNvbG9yOiAjN2IxZmEyO1wiPuaPkuWFpeWIsOS4i+aWuTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIGAsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5qb2luKCcnKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGlkPVwic2VsZWN0ZWQtcG9zaXRpb24taW5mb1wiIHN0eWxlPVwibWFyZ2luLXRvcDogMTBweDsgcGFkZGluZzogOHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZThmNWU4OyBib3JkZXItcmFkaXVzOiA0cHg7IGZvbnQtc2l6ZTogMTNweDsgY29sb3I6ICMyZTdkMzI7IGRpc3BsYXk6IG5vbmU7XCI+XG4gICAgICAgICAgICAgIDxzdHJvbmc+6YCJ5oup55qE5L2N572u77yaPC9zdHJvbmc+PHNwYW4gaWQ9XCJwb3NpdGlvbi1kZXNjcmlwdGlvblwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbjogMTVweCAwOyBwYWRkaW5nOiAxMnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZTNmMmZkOyBib3JkZXItcmFkaXVzOiA4cHg7IGJvcmRlci1sZWZ0OiA0cHggc29saWQgIzIxOTZGMztcIj5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJmb250LXNpemU6IDEzcHg7IGNvbG9yOiAjMTk3NmQyOyBmb250LXdlaWdodDogYm9sZDsgbWFyZ2luLWJvdHRvbTogNnB4O1wiPvCfkqEg5o+Q56S6PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzQyNDI0MjsgbGluZS1oZWlnaHQ6IDEuNDtcIj5cbiAgICAgICAgICAgICAg6YCJ5oupXCLmt7vliqDliLDmnKvlsL5cIuS8muWwhuaWsOadoeebruaUvuWcqOmihOiuvueahOacgOWQjuOAgumAieaLqVwi5o+S5YWl5Yiw5oyH5a6a5L2N572uXCLlj6/ku6Xnsr7noa7mjqfliLbmlrDmnaHnm67nmoTkvY3nva7jgIJcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDEwcHg7IGZsZXgtc2hyaW5rOiAwOyBib3JkZXItdG9wOiAxcHggc29saWQgI2YwZTJkMDsgcGFkZGluZy10b3A6IDE1cHg7XCI+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7XCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJhZGQtcHJvbXB0LWVuYWJsZWRcIiBjaGVja2VkIHN0eWxlPVwibWFyZ2luLXJpZ2h0OiA4cHg7IHRyYW5zZm9ybTogc2NhbGUoMS4yKTtcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJhZGQtcHJvbXB0LWVuYWJsZWRcIiBzdHlsZT1cImZvbnQtc2l6ZTogMTNweDsgY29sb3I6ICM2NjY7XCI+5ZCv55So5p2h55uuPC9sYWJlbD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgZ2FwOiA4cHg7XCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiYWRkLXByb21wdC1jYW5jZWxcIiBzdHlsZT1cInBhZGRpbmc6IDEwcHggMTZweDsgYmFja2dyb3VuZC1jb2xvcjojOUU5RTlFOyBib3JkZXI6bm9uZTsgYm9yZGVyLXJhZGl1czo2cHg7IGN1cnNvcjpwb2ludGVyOyBmb250LXdlaWdodDpib2xkOyBjb2xvcjojZmZmOyBmb250LXNpemU6IDE0cHg7XCI+5Y+W5raIPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiYWRkLXByb21wdC1jb25maXJtXCIgc3R5bGU9XCJwYWRkaW5nOiAxMHB4IDE2cHg7IGJhY2tncm91bmQtY29sb3I6IzRDQUY1MDsgYm9yZGVyOm5vbmU7IGJvcmRlci1yYWRpdXM6NnB4OyBjdXJzb3I6cG9pbnRlcjsgZm9udC13ZWlnaHQ6Ym9sZDsgY29sb3I6I2ZmZjsgZm9udC1zaXplOiAxNHB4O1wiPuWIm+W7uuadoeebrjwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxzdHlsZT5cbiAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkge1xuICAgICAgICAjJHtwb3B1cElkfSB7XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQgIWltcG9ydGFudDtcbiAgICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICB9XG4gICAgICAgICMke3BvcHVwSWR9IC5hZGQtcHJvbXB0LXBvcHVwLWNvbnRlbnQge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDV2aCAhaW1wb3J0YW50O1xuICAgICAgICAgIG1heC1oZWlnaHQ6IDkwdmggIWltcG9ydGFudDtcbiAgICAgICAgICB3aWR0aDogOTUlICFpbXBvcnRhbnQ7XG4gICAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgICAgICB9XG4gICAgICAgICMke3BvcHVwSWR9IHRleHRhcmVhIHtcbiAgICAgICAgICBoZWlnaHQ6IDE1MHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkge1xuICAgICAgICAjJHtwb3B1cElkfSAuYWRkLXByb21wdC1wb3B1cC1jb250ZW50IHtcbiAgICAgICAgICBtYXJnaW4tdG9wOiAydmggIWltcG9ydGFudDtcbiAgICAgICAgICBtYXgtaGVpZ2h0OiA5NnZoICFpbXBvcnRhbnQ7XG4gICAgICAgICAgcGFkZGluZzogMTJweDtcbiAgICAgICAgfVxuICAgICAgICAjJHtwb3B1cElkfSBoNCB7XG4gICAgICAgICAgZm9udC1zaXplOiAxNnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgIyR7cG9wdXBJZH0gdGV4dGFyZWEge1xuICAgICAgICAgIGhlaWdodDogMTIwcHggIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIDwvc3R5bGU+XG4gIGA7XG5cbiAgJCgnYm9keScpLmFwcGVuZChwb3B1cEh0bWwpO1xuXG4gIC8vIOWtmOWCqOmAieaLqeeahOS9jee9ruS/oeaBr1xuICBsZXQgc2VsZWN0ZWRQb3NpdGlvbjogeyB0YXJnZXRJZDogc3RyaW5nOyBwb3NpdGlvbjogJ2Fib3ZlJyB8ICdiZWxvdycgfSB8IG51bGwgPSBudWxsO1xuXG4gIC8vIOe7keWumuS6i+S7tlxuICAkKCcjYWRkLXByb21wdC1jYW5jZWwnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgJChgIyR7cG9wdXBJZH1gKS5yZW1vdmUoKTtcbiAgfSk7XG5cbiAgLy8g5L2N572u57G75Z6L5YiH5o2iXG4gICQoJ2lucHV0W25hbWU9XCJwb3NpdGlvbi10eXBlXCJdJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBwb3NpdGlvblR5cGUgPSAkKHRoaXMpLnZhbCgpO1xuICAgIGlmIChwb3NpdGlvblR5cGUgPT09ICdjdXN0b20nKSB7XG4gICAgICAkKCcjcG9zaXRpb24tc2VsZWN0aW9uLWNvbnRhaW5lcicpLnNob3coKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnI3Bvc2l0aW9uLXNlbGVjdGlvbi1jb250YWluZXInKS5oaWRlKCk7XG4gICAgICAkKCcjc2VsZWN0ZWQtcG9zaXRpb24taW5mbycpLmhpZGUoKTtcbiAgICAgIHNlbGVjdGVkUG9zaXRpb24gPSBudWxsO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8g5L2N572u6YCJ5oup5oyJ6ZKu54K55Ye7XG4gICQoJy5wb3NpdGlvbi1idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdGFyZ2V0SWQgPSAkKHRoaXMpLmRhdGEoJ3Byb21wdC1pZCcpO1xuICAgIGNvbnN0IHBvc2l0aW9uID0gJCh0aGlzKS5kYXRhKCdwb3NpdGlvbicpIGFzICdhYm92ZScgfCAnYmVsb3cnO1xuXG4gICAgLy8g5riF6Zmk5LmL5YmN55qE6YCJ5oup54q25oCBXG4gICAgJCgnLnBvc2l0aW9uLWJ0bicpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpLmNzcygnZm9udC13ZWlnaHQnLCAnbm9ybWFsJyk7XG5cbiAgICAvLyDorr7nva7lvZPliY3pgInmi6nnirbmgIFcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdzZWxlY3RlZCcpLmNzcygnZm9udC13ZWlnaHQnLCAnYm9sZCcpO1xuXG4gICAgc2VsZWN0ZWRQb3NpdGlvbiA9IHsgdGFyZ2V0SWQsIHBvc2l0aW9uIH07XG5cbiAgICAvLyDmmL7npLrpgInmi6nkv6Hmga9cbiAgICBjb25zdCB0YXJnZXRQcm9tcHQgPSBjdXJyZW50UHJvbXB0cy5maW5kKHAgPT4gcC5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgIGlmICh0YXJnZXRQcm9tcHQpIHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uVGV4dCA9IHBvc2l0aW9uID09PSAnYWJvdmUnID8gJ+S4iuaWuScgOiAn5LiL5pa5JztcbiAgICAgICQoJyNwb3NpdGlvbi1kZXNjcmlwdGlvbicpLnRleHQoYOaPkuWFpeWIsFwiJHt0YXJnZXRQcm9tcHQubmFtZX1cIueahCR7cG9zaXRpb25UZXh0fWApO1xuICAgICAgJCgnI3NlbGVjdGVkLXBvc2l0aW9uLWluZm8nKS5zaG93KCk7XG4gICAgfVxuICB9KTtcblxuICAkKCcjYWRkLXByb21wdC1jb25maXJtJykub24oJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSAkKCcjYWRkLXByb21wdC1uYW1lJykudmFsKCk/LnRvU3RyaW5nKCkudHJpbSgpO1xuICAgIGNvbnN0IGNvbnRlbnQgPSAkKCcjYWRkLXByb21wdC1jb250ZW50JykudmFsKCk/LnRvU3RyaW5nKCkudHJpbSgpO1xuICAgIGNvbnN0IGVuYWJsZWQgPSAkKCcjYWRkLXByb21wdC1lbmFibGVkJykuaXMoJzpjaGVja2VkJyk7XG4gICAgY29uc3QgcG9zaXRpb25UeXBlID0gJCgnaW5wdXRbbmFtZT1cInBvc2l0aW9uLXR5cGVcIl06Y2hlY2tlZCcpLnZhbCgpO1xuXG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICB0b2FzdHIuZXJyb3IoJ+ivt+i+k+WFpeadoeebruWQjeensCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghY29udGVudCkge1xuICAgICAgdG9hc3RyLmVycm9yKCfor7fovpPlhaXmnaHnm67lhoXlrrknKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocG9zaXRpb25UeXBlID09PSAnY3VzdG9tJyAmJiAhc2VsZWN0ZWRQb3NpdGlvbikge1xuICAgICAgdG9hc3RyLmVycm9yKCfor7fpgInmi6nmj5LlhaXkvY3nva4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaWYgKHBvc2l0aW9uVHlwZSA9PT0gJ2VuZCcgfHwgIXNlbGVjdGVkUG9zaXRpb24pIHtcbiAgICAgICAgLy8g5re75Yqg5Yiw5pyr5bC+XG4gICAgICAgIGF3YWl0IGFkZE5ld1Byb21wdChuYW1lLCBjb250ZW50LCBlbmFibGVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOaPkuWFpeWIsOaMh+WumuS9jee9rlxuICAgICAgICBhd2FpdCBhZGROZXdQcm9tcHRBdFBvc2l0aW9uKG5hbWUsIGNvbnRlbnQsIGVuYWJsZWQsIHNlbGVjdGVkUG9zaXRpb24udGFyZ2V0SWQsIHNlbGVjdGVkUG9zaXRpb24ucG9zaXRpb24pO1xuICAgICAgfVxuXG4gICAgICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuICAgICAgdG9hc3RyLnN1Y2Nlc3MoYOadoeebriBcIiR7bmFtZX1cIiDliJvlu7rmiJDlip9gKTtcbiAgICAgIG9uU3VjY2VzcygpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfliJvlu7rmnaHnm67lpLHotKU6JywgZXJyb3IpO1xuICAgICAgdG9hc3RyLmVycm9yKCfliJvlu7rmnaHnm67lpLHotKXvvIzor7fph43or5UnKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyDmmL7npLrnvJbovpHmnaHnm67lvLnnqpdcbmFzeW5jIGZ1bmN0aW9uIHNob3dFZGl0UHJvbXB0UG9wdXAoXG4gIHByb21wdDogeyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGVsZW1lbnQ6IEpRdWVyeTsgZW5hYmxlZDogYm9vbGVhbiB9LFxuICBvblN1Y2Nlc3M6ICgpID0+IHZvaWQsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgcG9wdXBJZCA9ICdlZGl0LXByb21wdC1wb3B1cCc7XG4gICQoYCMke3BvcHVwSWR9YCkucmVtb3ZlKCk7XG5cbiAgLy8g6I635Y+W5p2h55uu55qE5b2T5YmN5YaF5a65XG4gIGNvbnN0IGN1cnJlbnRDb250ZW50ID0gYXdhaXQgZ2V0UHJvbXB0Q29udGVudChwcm9tcHQuaWQpO1xuXG4gIGNvbnN0IHBvcHVwSHRtbCA9IGBcbiAgICA8ZGl2IGlkPVwiJHtwb3B1cElkfVwiIHN0eWxlPVwicG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC41KTsgei1pbmRleDogMTAwMDQ7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyO1wiPlxuICAgICAgPGRpdiBjbGFzcz1cImVkaXQtcHJvbXB0LXBvcHVwLWNvbnRlbnRcIiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICNmZmY4ZjA7IGNvbG9yOiAjM2EyYzJjOyBib3JkZXItcmFkaXVzOiAxNnB4OyBwYWRkaW5nOiAyMHB4OyB3aWR0aDogOTAlOyBtYXgtd2lkdGg6IDYwMHB4OyBib3gtc2hhZG93OiAwIDRweCAyNXB4IHJnYmEoMTIwLDkwLDYwLC4yNSk7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IG1heC1oZWlnaHQ6IDgwdmg7XCI+XG4gICAgICAgIDxoNCBzdHlsZT1cIm1hcmdpbi10b3A6MDsgY29sb3I6IzZhNDIyNjsgdGV4dC1hbGlnbjogY2VudGVyOyBib3JkZXItYm90dG9tOiAycHggc29saWQgI2YwZDhiNjsgcGFkZGluZy1ib3R0b206IDEwcHg7XCI+57yW6L6R5p2h55uuPC9oND5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW46IDE1cHggMDtcIj5cbiAgICAgICAgICA8bGFiZWwgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgbWFyZ2luLWJvdHRvbTogOHB4OyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICM2YTQyMjY7XCI+5p2h55uu5ZCN56ew77yaPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImVkaXQtcHJvbXB0LW5hbWVcIiB2YWx1ZT1cIiR7JCgnPGRpdi8+JykudGV4dChwcm9tcHQubmFtZSkuaHRtbCgpfVwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEwcHg7IGJvcmRlcjogMXB4IHNvbGlkICNkNGI1OGI7IGJvcmRlci1yYWRpdXM6IDZweDsgYmFja2dyb3VuZDogI2ZmZjsgY29sb3I6ICMzMzM7IGZvbnQtc2l6ZTogMTRweDsgbWFyZ2luLWJvdHRvbTogMTVweDsgYm94LXNpemluZzogYm9yZGVyLWJveDtcIj5cbiAgICAgICAgICBcbiAgICAgICAgICA8bGFiZWwgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgbWFyZ2luLWJvdHRvbTogOHB4OyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICM2YTQyMjY7XCI+5p2h55uu5YaF5a6577yaPC9sYWJlbD5cbiAgICAgICAgICA8dGV4dGFyZWEgaWQ9XCJlZGl0LXByb21wdC1jb250ZW50XCIgc3R5bGU9XCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAyMDBweDsgcGFkZGluZzogMTBweDsgYm9yZGVyOiAxcHggc29saWQgI2Q0YjU4YjsgYm9yZGVyLXJhZGl1czogNnB4OyBiYWNrZ3JvdW5kOiAjZmZmOyBjb2xvcjogIzMzMzsgZm9udC1zaXplOiAxNHB4OyByZXNpemU6IHZlcnRpY2FsOyBib3gtc2l6aW5nOiBib3JkZXItYm94O1wiPiR7JCgnPGRpdi8+JykudGV4dChjdXJyZW50Q29udGVudCkuaHRtbCgpfTwvdGV4dGFyZWE+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW46IDE1cHggMDsgcGFkZGluZzogMTJweDsgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjNlMDsgYm9yZGVyLXJhZGl1czogOHB4OyBib3JkZXItbGVmdDogNHB4IHNvbGlkICNmZjk4MDA7XCI+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMTNweDsgY29sb3I6ICNmNTdjMDA7IGZvbnQtd2VpZ2h0OiBib2xkOyBtYXJnaW4tYm90dG9tOiA2cHg7XCI+4pyP77iPIOe8lui+keivtOaYjjwvZGl2PlxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJmb250LXNpemU6IDEycHg7IGNvbG9yOiAjNDI0MjQyOyBsaW5lLWhlaWdodDogMS40O1wiPlxuICAgICAgICAgICAg5L+u5pS55p2h55uu5ZCN56ew5ZKM5YaF5a655ZCO77yM5Y+Y5pu05bCG56uL5Y2z5bqU55So5Yiw6aKE6K6+5Lit44CC6K+356Gu5L+d5YaF5a655qC85byP5q2j56Gu44CCXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogMTBweDtcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjtcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cImVkaXQtcHJvbXB0LWVuYWJsZWRcIiAke3Byb21wdC5lbmFibGVkID8gJ2NoZWNrZWQnIDogJyd9IHN0eWxlPVwibWFyZ2luLXJpZ2h0OiA4cHg7IHRyYW5zZm9ybTogc2NhbGUoMS4yKTtcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJlZGl0LXByb21wdC1lbmFibGVkXCIgc3R5bGU9XCJmb250LXNpemU6IDEzcHg7IGNvbG9yOiAjNjY2O1wiPuWQr+eUqOadoeebrjwvbGFiZWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGdhcDogOHB4O1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImVkaXQtcHJvbXB0LWNhbmNlbFwiIHN0eWxlPVwicGFkZGluZzogMTBweCAxNnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiM5RTlFOUU7IGJvcmRlcjpub25lOyBib3JkZXItcmFkaXVzOjZweDsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtd2VpZ2h0OmJvbGQ7IGNvbG9yOiNmZmY7IGZvbnQtc2l6ZTogMTRweDtcIj7lj5bmtog8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJlZGl0LXByb21wdC1jb25maXJtXCIgc3R5bGU9XCJwYWRkaW5nOiAxMHB4IDE2cHg7IGJhY2tncm91bmQtY29sb3I6I0ZGOTgwMDsgYm9yZGVyOm5vbmU7IGJvcmRlci1yYWRpdXM6NnB4OyBjdXJzb3I6cG9pbnRlcjsgZm9udC13ZWlnaHQ6Ym9sZDsgY29sb3I6I2ZmZjsgZm9udC1zaXplOiAxNHB4O1wiPuS/neWtmOS/ruaUuTwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxzdHlsZT5cbiAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkge1xuICAgICAgICAjJHtwb3B1cElkfSB7XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQgIWltcG9ydGFudDtcbiAgICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICB9XG4gICAgICAgICMke3BvcHVwSWR9IC5lZGl0LXByb21wdC1wb3B1cC1jb250ZW50IHtcbiAgICAgICAgICBtYXJnaW4tdG9wOiA1dmggIWltcG9ydGFudDtcbiAgICAgICAgICBtYXgtaGVpZ2h0OiA5MHZoICFpbXBvcnRhbnQ7XG4gICAgICAgICAgd2lkdGg6IDk1JSAhaW1wb3J0YW50O1xuICAgICAgICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgICAgfVxuICAgICAgICAjJHtwb3B1cElkfSB0ZXh0YXJlYSB7XG4gICAgICAgICAgaGVpZ2h0OiAxNTBweCAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBAbWVkaWEgKG1heC13aWR0aDogNDgwcHgpIHtcbiAgICAgICAgIyR7cG9wdXBJZH0gLmVkaXQtcHJvbXB0LXBvcHVwLWNvbnRlbnQge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDJ2aCAhaW1wb3J0YW50O1xuICAgICAgICAgIG1heC1oZWlnaHQ6IDk2dmggIWltcG9ydGFudDtcbiAgICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICB9XG4gICAgICAgICMke3BvcHVwSWR9IGg0IHtcbiAgICAgICAgICBmb250LXNpemU6IDE2cHggIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICAjJHtwb3B1cElkfSB0ZXh0YXJlYSB7XG4gICAgICAgICAgaGVpZ2h0OiAxMjBweCAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgPC9zdHlsZT5cbiAgYDtcblxuICAkKCdib2R5JykuYXBwZW5kKHBvcHVwSHRtbCk7XG5cbiAgLy8g57uR5a6a5LqL5Lu2XG4gICQoJyNlZGl0LXByb21wdC1jYW5jZWwnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgJChgIyR7cG9wdXBJZH1gKS5yZW1vdmUoKTtcbiAgfSk7XG5cbiAgJCgnI2VkaXQtcHJvbXB0LWNvbmZpcm0nKS5vbignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbmFtZSA9ICQoJyNlZGl0LXByb21wdC1uYW1lJykudmFsKCk/LnRvU3RyaW5nKCkudHJpbSgpO1xuICAgIGNvbnN0IGNvbnRlbnQgPSAkKCcjZWRpdC1wcm9tcHQtY29udGVudCcpLnZhbCgpPy50b1N0cmluZygpLnRyaW0oKTtcbiAgICBjb25zdCBlbmFibGVkID0gJCgnI2VkaXQtcHJvbXB0LWVuYWJsZWQnKS5pcygnOmNoZWNrZWQnKTtcblxuICAgIGlmICghbmFtZSkge1xuICAgICAgdG9hc3RyLmVycm9yKCfor7fovpPlhaXmnaHnm67lkI3np7AnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWNvbnRlbnQpIHtcbiAgICAgIHRvYXN0ci5lcnJvcign6K+36L6T5YWl5p2h55uu5YaF5a65Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHVwZGF0ZVByb21wdChwcm9tcHQuaWQsIG5hbWUsIGNvbnRlbnQsIGVuYWJsZWQpO1xuICAgICAgJChgIyR7cG9wdXBJZH1gKS5yZW1vdmUoKTtcbiAgICAgIHRvYXN0ci5zdWNjZXNzKGDmnaHnm64gXCIke25hbWV9XCIg5pu05paw5oiQ5YqfYCk7XG4gICAgICBvblN1Y2Nlc3MoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign5pu05paw5p2h55uu5aSx6LSlOicsIGVycm9yKTtcbiAgICAgIHRvYXN0ci5lcnJvcign5pu05paw5p2h55uu5aSx6LSl77yM6K+36YeN6K+VJyk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8g5paw5aKe5p2h55uuXG5hc3luYyBmdW5jdGlvbiBhZGROZXdQcm9tcHQobmFtZTogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcsIGVuYWJsZWQ6IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc29sZS5sb2coJ+aWsOWinuadoeebrjonLCBuYW1lLCBlbmFibGVkKTtcblxuICB0cnkge1xuICAgIC8vIOS9v+eUqFVVSUTnlJ/miJDlh73mlbBcblxuICAgIC8vIOS9v+eUqOmFkummhuWKqeaJi+eahOmihOiuvkFQSeebtOaOpeWIm+W7uuadoeebrlxuICAgIGF3YWl0IFRhdmVybkhlbHBlci51cGRhdGVQcmVzZXRXaXRoKFxuICAgICAgJ2luX3VzZScsXG4gICAgICBwcmVzZXQgPT4ge1xuICAgICAgICBjb25zdCBuZXdQcm9tcHQ6IFByZXNldFByb21wdCA9IHtcbiAgICAgICAgICBpZDogZ2VuZXJhdGVVVUlEKCksXG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICBlbmFibGVkOiBlbmFibGVkLFxuICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICB0eXBlOiAncmVsYXRpdmUnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgICAgY29udGVudDogY29udGVudCxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyDmt7vliqDliLDpooTorr7nmoRwcm9tcHRz5pWw57uE5pyr5bC+XG4gICAgICAgIHByZXNldC5wcm9tcHRzLnB1c2gobmV3UHJvbXB0KTtcbiAgICAgICAgcmV0dXJuIHByZXNldDtcbiAgICAgIH0sXG4gICAgICB7IHJlbmRlcjogJ2ltbWVkaWF0ZScgfSxcbiAgICApO1xuXG4gICAgY29uc29sZS5sb2coJ+adoeebruWIm+W7uuaIkOWKnycpO1xuICAgIHRyaWdnZXJQcmVzZXRTYXZlKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign5Yib5bu65p2h55uu5aSx6LSlOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyDlnKjmjIflrprkvY3nva7mj5LlhaXmlrDmnaHnm65cbmFzeW5jIGZ1bmN0aW9uIGFkZE5ld1Byb21wdEF0UG9zaXRpb24oXG4gIG5hbWU6IHN0cmluZyxcbiAgY29udGVudDogc3RyaW5nLFxuICBlbmFibGVkOiBib29sZWFuLFxuICB0YXJnZXRJZDogc3RyaW5nLFxuICBwb3NpdGlvbjogJ2Fib3ZlJyB8ICdiZWxvdycsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc29sZS5sb2coJ+WcqOaMh+WumuS9jee9ruaPkuWFpeaWsOadoeebrjonLCBuYW1lLCAn5L2N572uOicsIHRhcmdldElkLCBwb3NpdGlvbik7XG5cbiAgdHJ5IHtcbiAgICAvLyDkvb/nlKhVVUlE55Sf5oiQ5Ye95pWwXG5cbiAgICAvLyDnm7TmjqXlnKjmjIflrprkvY3nva7liJvlu7rmnaHnm65cbiAgICBhd2FpdCBUYXZlcm5IZWxwZXIudXBkYXRlUHJlc2V0V2l0aChcbiAgICAgICdpbl91c2UnLFxuICAgICAgcHJlc2V0ID0+IHtcbiAgICAgICAgY29uc3QgbmV3UHJvbXB0OiBQcmVzZXRQcm9tcHQgPSB7XG4gICAgICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgZW5hYmxlZDogZW5hYmxlZCxcbiAgICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgICAgdHlwZTogJ3JlbGF0aXZlJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJvbGU6ICdzeXN0ZW0nLFxuICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8g5om+5Yiw55uu5qCH5p2h55uu55qE57Si5byVXG4gICAgICAgIGNvbnN0IHRhcmdldEluZGV4ID0gcHJlc2V0LnByb21wdHMuZmluZEluZGV4KHAgPT4gcC5pZCA9PT0gdGFyZ2V0SWQpO1xuICAgICAgICBpZiAodGFyZ2V0SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgLy8g5aaC5p6c5om+5LiN5Yiw55uu5qCH5p2h55uu77yM5bCx5re75Yqg5Yiw5pyr5bC+XG4gICAgICAgICAgcHJlc2V0LnByb21wdHMucHVzaChuZXdQcm9tcHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIOagueaNruS9jee9ruaPkuWFpeadoeebrlxuICAgICAgICAgIGNvbnN0IGluc2VydEluZGV4ID0gcG9zaXRpb24gPT09ICdhYm92ZScgPyB0YXJnZXRJbmRleCA6IHRhcmdldEluZGV4ICsgMTtcbiAgICAgICAgICBwcmVzZXQucHJvbXB0cy5zcGxpY2UoaW5zZXJ0SW5kZXgsIDAsIG5ld1Byb21wdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJlc2V0O1xuICAgICAgfSxcbiAgICAgIHsgcmVuZGVyOiAnaW1tZWRpYXRlJyB9LFxuICAgICk7XG5cbiAgICBjb25zb2xlLmxvZygn5p2h55uu5Yib5bu65bm25o+S5YWl5oiQ5YqfJyk7XG4gICAgdHJpZ2dlclByZXNldFNhdmUoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCflnKjmjIflrprkvY3nva7mj5LlhaXmnaHnm67lpLHotKU6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8vIOiOt+WPluadoeebruWGheWuuVxuYXN5bmMgZnVuY3Rpb24gZ2V0UHJvbXB0Q29udGVudChwcm9tcHRJZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgLy8g5bCd6K+V5LuORE9N5Lit6I635Y+W5p2h55uu5YaF5a65XG4gIGNvbnN0IHByb21wdEVsZW1lbnQgPSAkKGAuY29tcGxldGlvbl9wcm9tcHRfbWFuYWdlcl9wcm9tcHRbZGF0YS1wbS1pZGVudGlmaWVyPVwiJHtwcm9tcHRJZH1cIl1gKTtcbiAgaWYgKHByb21wdEVsZW1lbnQubGVuZ3RoID09PSAwKSB7XG4gICAgY29uc29sZS53YXJuKCfmnKrmib7liLDmnaHnm67lhYPntKA6JywgcHJvbXB0SWQpO1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIC8vIOafpeaJvuadoeebruWGheWuueWFg+e0oFxuICBjb25zdCBjb250ZW50RWxlbWVudCA9IHByb21wdEVsZW1lbnQuZmluZCgnLmNvbXBsZXRpb25fcHJvbXB0X21hbmFnZXJfcHJvbXB0X2NvbnRlbnQsIC5wcm9tcHQtY29udGVudCwgdGV4dGFyZWEnKTtcbiAgaWYgKGNvbnRlbnRFbGVtZW50Lmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gY29udGVudEVsZW1lbnQudGV4dCgpIHx8IGNvbnRlbnRFbGVtZW50LnZhbCgpPy50b1N0cmluZygpIHx8ICcnO1xuICB9XG5cbiAgY29uc29sZS53YXJuKCfmnKrmib7liLDmnaHnm67lhoXlrrk6JywgcHJvbXB0SWQpO1xuICByZXR1cm4gJyc7XG59XG5cbi8vIOabtOaWsOadoeebrlxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlUHJvbXB0KHByb21wdElkOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgY29udGVudDogc3RyaW5nLCBlbmFibGVkOiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnNvbGUubG9nKCfmm7TmlrDmnaHnm646JywgcHJvbXB0SWQsIG5hbWUsIGVuYWJsZWQpO1xuXG4gIHRyeSB7XG4gICAgLy8g5L2/55So6YWS6aaG5Yqp5omL55qE6aKE6K6+QVBJ55u05o6l5pu05paw5p2h55uuXG4gICAgYXdhaXQgVGF2ZXJuSGVscGVyLnVwZGF0ZVByZXNldFdpdGgoXG4gICAgICAnaW5fdXNlJyxcbiAgICAgIHByZXNldCA9PiB7XG4gICAgICAgIC8vIOafpeaJvuimgeabtOaWsOeahOadoeebrlxuICAgICAgICBjb25zdCBwcm9tcHRUb1VwZGF0ZSA9IHByZXNldC5wcm9tcHRzLmZpbmQocCA9PiBwLmlkID09PSBwcm9tcHRJZCk7XG4gICAgICAgIGlmIChwcm9tcHRUb1VwZGF0ZSkge1xuICAgICAgICAgIHByb21wdFRvVXBkYXRlLm5hbWUgPSBuYW1lO1xuICAgICAgICAgIHByb21wdFRvVXBkYXRlLmNvbnRlbnQgPSBjb250ZW50O1xuICAgICAgICAgIHByb21wdFRvVXBkYXRlLmVuYWJsZWQgPSBlbmFibGVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIOWmguaenOWcqHByb21wdHPkuK3msqHmib7liLDvvIzlsJ3or5XlnKhwcm9tcHRzX3VudXNlZOS4reafpeaJvlxuICAgICAgICAgIGNvbnN0IHVudXNlZFByb21wdFRvVXBkYXRlID0gcHJlc2V0LnByb21wdHNfdW51c2VkLmZpbmQocCA9PiBwLmlkID09PSBwcm9tcHRJZCk7XG4gICAgICAgICAgaWYgKHVudXNlZFByb21wdFRvVXBkYXRlKSB7XG4gICAgICAgICAgICB1bnVzZWRQcm9tcHRUb1VwZGF0ZS5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgIHVudXNlZFByb21wdFRvVXBkYXRlLmNvbnRlbnQgPSBjb250ZW50O1xuICAgICAgICAgICAgdW51c2VkUHJvbXB0VG9VcGRhdGUuZW5hYmxlZCA9IGVuYWJsZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHByZXNldDtcbiAgICAgIH0sXG4gICAgICB7IHJlbmRlcjogJ2ltbWVkaWF0ZScgfSxcbiAgICApO1xuXG4gICAgY29uc29sZS5sb2coJ+adoeebruabtOaWsOaIkOWKnycpO1xuICAgIHRyaWdnZXJQcmVzZXRTYXZlKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign5pu05paw5p2h55uu5aSx6LSlOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyDliKDpmaTpgInkuK3nmoTmnaHnm65cbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVNlbGVjdGVkUHJvbXB0cyhwcm9tcHRJZHM6IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnNvbGUubG9nKCfliKDpmaTmnaHnm646JywgcHJvbXB0SWRzKTtcblxuICB0cnkge1xuICAgIC8vIOS9v+eUqOmFkummhuWKqeaJi+eahOmihOiuvkFQSeebtOaOpeWIoOmZpOadoeebrlxuICAgIGF3YWl0IFRhdmVybkhlbHBlci51cGRhdGVQcmVzZXRXaXRoKFxuICAgICAgJ2luX3VzZScsXG4gICAgICBwcmVzZXQgPT4ge1xuICAgICAgICAvLyDku45wcm9tcHRz5pWw57uE5Lit5Yig6Zmk5p2h55uuXG4gICAgICAgIHByZXNldC5wcm9tcHRzID0gcHJlc2V0LnByb21wdHMuZmlsdGVyKHAgPT4gIXByb21wdElkcy5pbmNsdWRlcyhwLmlkKSk7XG4gICAgICAgIC8vIOS7jnByb21wdHNfdW51c2Vk5pWw57uE5Lit5Yig6Zmk5p2h55uuXG4gICAgICAgIHByZXNldC5wcm9tcHRzX3VudXNlZCA9IHByZXNldC5wcm9tcHRzX3VudXNlZC5maWx0ZXIocCA9PiAhcHJvbXB0SWRzLmluY2x1ZGVzKHAuaWQpKTtcblxuICAgICAgICByZXR1cm4gcHJlc2V0O1xuICAgICAgfSxcbiAgICAgIHsgcmVuZGVyOiAnaW1tZWRpYXRlJyB9LFxuICAgICk7XG5cbiAgICBjb25zb2xlLmxvZygn5Yig6Zmk5p2h55uu5oiQ5YqfOicsIHByb21wdElkcyk7XG4gICAgdHJpZ2dlclByZXNldFNhdmUoKTtcbiAgICB0b2FzdHIuc3VjY2Vzcyhg5oiQ5Yqf5Yig6ZmkICR7cHJvbXB0SWRzLmxlbmd0aH0g5Liq5p2h55uuYCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign5Yig6Zmk5p2h55uu5aSx6LSlOicsIHByb21wdElkcywgZXJyb3IpO1xuICAgIHRvYXN0ci5lcnJvcign5Yig6Zmk5p2h55uu5aSx6LSl77yM6K+36YeN6K+VJyk7XG4gIH1cbn1cblxuLy8g5Zyo5YiG57uE5qCR5Lit5p+l5om+5YyF5ZCr5oyH5a6a5p2h55uu55qE5YiG57uEXG5mdW5jdGlvbiBmaW5kUHJvbXB0SW5Hcm91cHMoZ3JvdXBzOiBQcm9tcHRHcm91cFtdLCBwcm9tcHRJZDogc3RyaW5nKTogUHJvbXB0R3JvdXAgfCBudWxsIHtcbiAgZm9yIChjb25zdCBncm91cCBvZiBncm91cHMpIHtcbiAgICBpZiAoZ3JvdXAucHJvbXB0SWRzLmluY2x1ZGVzKHByb21wdElkKSkge1xuICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIC8vIOmAkuW9kuafpeaJvuWtkOWIhue7hFxuICAgIGNvbnN0IGZvdW5kSW5TdWJHcm91cHMgPSBmaW5kUHJvbXB0SW5Hcm91cHMoZ3JvdXAuc3ViR3JvdXBzLCBwcm9tcHRJZCk7XG4gICAgaWYgKGZvdW5kSW5TdWJHcm91cHMpIHtcbiAgICAgIHJldHVybiBmb3VuZEluU3ViR3JvdXBzO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLy8g5qOA5p+l5YiG57uE5piv5ZCm5pyJ5pyJ5pWI5YaF5a6577yI5p2h55uu5oiW5a2Q5YiG57uE77yJXG5mdW5jdGlvbiBoYXNWYWxpZENvbnRlbnQoZ3JvdXA6IFByb21wdEdyb3VwKTogYm9vbGVhbiB7XG4gIHJldHVybiBncm91cC5wcm9tcHRJZHMubGVuZ3RoID4gMCB8fCBncm91cC5zdWJHcm91cHMuc29tZShzdWJHcm91cCA9PiBoYXNWYWxpZENvbnRlbnQoc3ViR3JvdXApKTtcbn1cblxuLy8g5qOA5rWL6YCJ5Lit5p2h55uu5piv5ZCm6YO95bGe5LqO5ZCM5LiA5Liq5YiG57uEXG5mdW5jdGlvbiBkZXRlY3RDb21tb25QYXJlbnRHcm91cChzZWxlY3RlZFByb21wdHM6IHN0cmluZ1tdLCBncm91cHM6IFByb21wdEdyb3VwW10pOiBQcm9tcHRHcm91cCB8IG51bGwge1xuICBpZiAoc2VsZWN0ZWRQcm9tcHRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgLy8g5om+5Yiw56ys5LiA5Liq5p2h55uu5omA5bGe55qE5YiG57uEXG4gIGNvbnN0IGZpcnN0UHJvbXB0R3JvdXAgPSBmaW5kUHJvbXB0SW5Hcm91cHMoZ3JvdXBzLCBzZWxlY3RlZFByb21wdHNbMF0pO1xuICBpZiAoIWZpcnN0UHJvbXB0R3JvdXApIHJldHVybiBudWxsO1xuXG4gIC8vIOajgOafpeWFtuS7luadoeebruaYr+WQpumDveWxnuS6juWQjOS4gOS4quWIhue7hFxuICBmb3IgKGxldCBpID0gMTsgaSA8IHNlbGVjdGVkUHJvbXB0cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHByb21wdEdyb3VwID0gZmluZFByb21wdEluR3JvdXBzKGdyb3Vwcywgc2VsZWN0ZWRQcm9tcHRzW2ldKTtcbiAgICBpZiAoIXByb21wdEdyb3VwIHx8IHByb21wdEdyb3VwLmlkICE9PSBmaXJzdFByb21wdEdyb3VwLmlkKSB7XG4gICAgICByZXR1cm4gbnVsbDsgLy8g5LiN5piv5ZCM5LiA5Liq5YiG57uEXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZpcnN0UHJvbXB0R3JvdXA7XG59XG5cbi8vIOWIm+W7uuWtkOWIhue7hFxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlU3ViR3JvdXAoXG4gIHBhcmVudEdyb3VwOiBQcm9tcHRHcm91cCxcbiAgc3ViR3JvdXBOYW1lOiBzdHJpbmcsXG4gIHNlbGVjdGVkUHJvbXB0czogc3RyaW5nW10sXG4gIGV4aXN0aW5nR3JvdXBzOiBQcm9tcHRHcm91cFtdLFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIC8vIOajgOafpeWtkOWIhue7hOWQjeensOaYr+WQpuS4jueItuWIhue7hOeahOWFtuS7luWtkOWIhue7hOmHjeWQjVxuICBpZiAocGFyZW50R3JvdXAuc3ViR3JvdXBzLnNvbWUoc2cgPT4gc2cubmFtZSA9PT0gc3ViR3JvdXBOYW1lKSkge1xuICAgIHRvYXN0ci5lcnJvcihg5a2Q5YiG57uE5ZCN56ewIFwiJHtzdWJHcm91cE5hbWV9XCIg5bey5a2Y5Zyo5LqO5YiG57uEIFwiJHtwYXJlbnRHcm91cC5uYW1lfVwiIOS4rWApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIOWIm+W7uuaWsOWtkOWIhue7hFxuICBjb25zdCBuZXdTdWJHcm91cDogUHJvbXB0R3JvdXAgPSB7XG4gICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICBuYW1lOiBzdWJHcm91cE5hbWUsXG4gICAgcHJvbXB0SWRzOiBbLi4uc2VsZWN0ZWRQcm9tcHRzXSxcbiAgICBzdWJHcm91cHM6IFtdLFxuICAgIGNvbGxhcHNlZDogdHJ1ZSxcbiAgICBsZXZlbDogcGFyZW50R3JvdXAubGV2ZWwgKyAxLFxuICAgIHBhcmVudElkOiBwYXJlbnRHcm91cC5pZCxcbiAgfTtcblxuICAvLyDku47niLbliIbnu4TkuK3np7vpmaTov5nkupvmnaHnm65cbiAgc2VsZWN0ZWRQcm9tcHRzLmZvckVhY2gocHJvbXB0SWQgPT4ge1xuICAgIGNvbnN0IGluZGV4ID0gcGFyZW50R3JvdXAucHJvbXB0SWRzLmluZGV4T2YocHJvbXB0SWQpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICBwYXJlbnRHcm91cC5wcm9tcHRJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIOa3u+WKoOWtkOWIhue7hFxuICBwYXJlbnRHcm91cC5zdWJHcm91cHMucHVzaChuZXdTdWJHcm91cCk7XG5cbiAgLy8g5pu05pawVUlcbiAgc2VsZWN0ZWRQcm9tcHRzLmZvckVhY2gocHJvbXB0SWQgPT4ge1xuICAgIGNvbnN0IGl0ZW0gPSAkKGAucHJvbXB0LWl0ZW1bZGF0YS1wcm9tcHQtaWQ9XCIke3Byb21wdElkfVwiXWApO1xuICAgIGl0ZW0uY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJyNlOGY1ZTgnKTtcbiAgICBjb25zdCBleGlzdGluZ1RhZyA9IGl0ZW0uZmluZCgnLmdyb3VwLXRhZycpO1xuICAgIGNvbnN0IGdyb3VwUGF0aCA9IGdldEdyb3VwUGF0aChuZXdTdWJHcm91cCwgZXhpc3RpbmdHcm91cHMpO1xuICAgIGlmIChleGlzdGluZ1RhZy5sZW5ndGgpIHtcbiAgICAgIGV4aXN0aW5nVGFnLnRleHQoZ3JvdXBQYXRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbVxuICAgICAgICAuZmluZCgnc3BhbjpsYXN0JylcbiAgICAgICAgLmFmdGVyKFxuICAgICAgICAgIGA8c3BhbiBjbGFzcz1cImdyb3VwLXRhZ1wiIHN0eWxlPVwiZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzRDQUY1MDsgYmFja2dyb3VuZDogI2U4ZjVlODsgcGFkZGluZzogMnB4IDZweDsgYm9yZGVyLXJhZGl1czogM3B4OyBtYXJnaW4tbGVmdDogOHB4O1wiPiR7Z3JvdXBQYXRofTwvc3Bhbj5gLFxuICAgICAgICApO1xuICAgIH1cbiAgfSk7XG5cbiAgdG9hc3RyLnN1Y2Nlc3MoYOWtkOWIhue7hCBcIiR7Z2V0R3JvdXBQYXRoKG5ld1N1Ykdyb3VwLCBleGlzdGluZ0dyb3Vwcyl9XCIg5Yib5bu65oiQ5Yqf77yM5bCG5Zyo5YWz6Zet5YiG57uE55WM6Z2i5pe25bqU55SoYCk7XG59XG5cbi8vIOWIm+W7uumhtue6p+WIhue7hFxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlVG9wTGV2ZWxHcm91cChcbiAgZ3JvdXBOYW1lOiBzdHJpbmcsXG4gIHNlbGVjdGVkUHJvbXB0czogc3RyaW5nW10sXG4gIGV4aXN0aW5nR3JvdXBzOiBQcm9tcHRHcm91cFtdLFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIC8vIOWIm+W7uuaWsOeahOmhtue6p+WIhue7hFxuICBjb25zdCBuZXdHcm91cDogUHJvbXB0R3JvdXAgPSB7XG4gICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICBuYW1lOiBncm91cE5hbWUsXG4gICAgcHJvbXB0SWRzOiBbLi4uc2VsZWN0ZWRQcm9tcHRzXSxcbiAgICBzdWJHcm91cHM6IFtdLFxuICAgIGNvbGxhcHNlZDogdHJ1ZSxcbiAgICBsZXZlbDogMCxcbiAgfTtcblxuICBleGlzdGluZ0dyb3Vwcy5wdXNoKG5ld0dyb3VwKTtcblxuICAvLyDmm7TmlrBVSVxuICBzZWxlY3RlZFByb21wdHMuZm9yRWFjaChwcm9tcHRJZCA9PiB7XG4gICAgY29uc3QgaXRlbSA9ICQoYC5wcm9tcHQtaXRlbVtkYXRhLXByb21wdC1pZD1cIiR7cHJvbXB0SWR9XCJdYCk7XG4gICAgaXRlbS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnI2U4ZjVlOCcpO1xuICAgIGNvbnN0IGV4aXN0aW5nVGFnID0gaXRlbS5maW5kKCcuZ3JvdXAtdGFnJyk7XG4gICAgaWYgKGV4aXN0aW5nVGFnLmxlbmd0aCkge1xuICAgICAgZXhpc3RpbmdUYWcudGV4dChncm91cE5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpdGVtXG4gICAgICAgIC5maW5kKCdzcGFuOmxhc3QnKVxuICAgICAgICAuYWZ0ZXIoXG4gICAgICAgICAgYDxzcGFuIGNsYXNzPVwiZ3JvdXAtdGFnXCIgc3R5bGU9XCJmb250LXNpemU6IDEycHg7IGNvbG9yOiAjNENBRjUwOyBiYWNrZ3JvdW5kOiAjZThmNWU4OyBwYWRkaW5nOiAycHggNnB4OyBib3JkZXItcmFkaXVzOiAzcHg7IG1hcmdpbi1sZWZ0OiA4cHg7XCI+JHtncm91cE5hbWV9PC9zcGFuPmAsXG4gICAgICAgICk7XG4gICAgfVxuICB9KTtcblxuICB0b2FzdHIuc3VjY2Vzcyhg5YiG57uEIFwiJHtncm91cE5hbWV9XCIg5Yib5bu65oiQ5Yqf77yM5bCG5Zyo5YWz6Zet5YiG57uE55WM6Z2i5pe25bqU55SoYCk7XG59XG5cbi8vIOiOt+WPluWIhue7hOeahOWujOaVtOi3r+W+hFxuZnVuY3Rpb24gZ2V0R3JvdXBQYXRoKGdyb3VwOiBQcm9tcHRHcm91cCwgYWxsR3JvdXBzOiBQcm9tcHRHcm91cFtdKTogc3RyaW5nIHtcbiAgY29uc3QgcGF0aDogc3RyaW5nW10gPSBbXTtcbiAgbGV0IGN1cnJlbnRHcm91cDogUHJvbXB0R3JvdXAgfCBudWxsID0gZ3JvdXA7XG5cbiAgd2hpbGUgKGN1cnJlbnRHcm91cCkge1xuICAgIHBhdGgudW5zaGlmdChjdXJyZW50R3JvdXAubmFtZSk7XG5cbiAgICBpZiAoY3VycmVudEdyb3VwLnBhcmVudElkKSB7XG4gICAgICBjdXJyZW50R3JvdXAgPSBmaW5kR3JvdXBCeUlkKGFsbEdyb3VwcywgY3VycmVudEdyb3VwLnBhcmVudElkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhdGguam9pbignLycpO1xufVxuXG4vLyDmoLnmja5JROafpeaJvuWIhue7hO+8iOmAkuW9kuafpeaJvu+8iVxuZnVuY3Rpb24gZmluZEdyb3VwQnlJZChncm91cHM6IFByb21wdEdyb3VwW10sIGdyb3VwSWQ6IHN0cmluZyk6IFByb21wdEdyb3VwIHwgbnVsbCB7XG4gIGZvciAoY29uc3QgZ3JvdXAgb2YgZ3JvdXBzKSB7XG4gICAgaWYgKGdyb3VwLmlkID09PSBncm91cElkKSB7XG4gICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgY29uc3QgZm91bmRJblN1Ykdyb3VwcyA9IGZpbmRHcm91cEJ5SWQoZ3JvdXAuc3ViR3JvdXBzLCBncm91cElkKTtcbiAgICBpZiAoZm91bmRJblN1Ykdyb3Vwcykge1xuICAgICAgcmV0dXJuIGZvdW5kSW5TdWJHcm91cHM7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8vIOaYvuekuuWIhue7hOmAieaLqeW8ueeql1xuYXN5bmMgZnVuY3Rpb24gc2hvd0dyb3VwU2VsZWN0aW9uUG9wdXAoc2VsZWN0ZWRQcm9tcHRzOiBzdHJpbmdbXSwgZXhpc3RpbmdHcm91cHM6IFByb21wdEdyb3VwW10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgcG9wdXBJZCA9ICdncm91cC1zZWxlY3Rpb24tcG9wdXAnO1xuICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuXG4gIGlmIChleGlzdGluZ0dyb3Vwcy5sZW5ndGggPT09IDApIHtcbiAgICB0b2FzdHIud2FybmluZygn5b2T5YmN5rKh5pyJ5Y+v55So55qE5YiG57uE77yM6K+35YWI5Yib5bu65YiG57uEJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8g55Sf5oiQ5YiG57uE5YiX6KGoSFRNTFxuICBjb25zdCBncm91cHNIdG1sID0gZ2VuZXJhdGVHcm91cHNMaXN0SHRtbChleGlzdGluZ0dyb3VwcywgMCk7XG5cbiAgY29uc3QgcG9wdXBIdG1sID0gYFxuICAgIDxkaXYgaWQ9XCIke3BvcHVwSWR9XCIgc3R5bGU9XCJwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjUpOyB6LWluZGV4OiAxMDAwMjsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IHBhZGRpbmc6IDIwcHg7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7XCI+XG4gICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogI2ZmZjhmMDsgY29sb3I6ICMzYTJjMmM7IGJvcmRlci1yYWRpdXM6IDE2cHg7IHBhZGRpbmc6IDIwcHg7IHdpZHRoOiAxMDAlOyBtYXgtd2lkdGg6IDUwMHB4OyBib3gtc2hhZG93OiAwIDRweCAyNXB4IHJnYmEoMTIwLDkwLDYwLC4yNSk7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IG1heC1oZWlnaHQ6IDgwdmg7IHBvc2l0aW9uOiByZWxhdGl2ZTtcIj5cbiAgICAgICAgPGg0IHN0eWxlPVwibWFyZ2luLXRvcDowOyBjb2xvcjojNmE0MjI2OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZjBkOGI2OyBwYWRkaW5nLWJvdHRvbTogMTBweDtcIj7pgInmi6nnm67moIfliIbnu4Q8L2g0PlxuICAgICAgICA8ZGl2IHN0eWxlPVwiZmxleDogMTsgbWluLWhlaWdodDogMDsgb3ZlcmZsb3cteTogYXV0bzsgbWFyZ2luOiAxNXB4IDA7XCI+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMTNweDsgY29sb3I6ICM2NjY7IG1hcmdpbi1ib3R0b206IDEycHg7IGxpbmUtaGVpZ2h0OiAxLjQ7XCI+XG4gICAgICAgICAgICDor7fpgInmi6nopoHlsIYgJHtzZWxlY3RlZFByb21wdHMubGVuZ3RofSDkuKrmnaHnm67liqDlhaXnmoTliIbnu4TvvJpcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGlkPVwiZ3JvdXBzLWxpc3RcIiBzdHlsZT1cIm1heC1oZWlnaHQ6IDMwMHB4OyBvdmVyZmxvdy15OiBhdXRvO1wiPlxuICAgICAgICAgICAgJHtncm91cHNIdG1sfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0OyBtYXJnaW4tdG9wOiAxNXB4OyBmbGV4LXNocmluazogMDtcIj5cbiAgICAgICAgICA8ZGl2IGlkPVwic2VsZWN0ZWQtZ3JvdXAtaW5mb1wiIHN0eWxlPVwiZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzY2NjsgbWFyZ2luLWJvdHRvbTogMTBweDsgdGV4dC1hbGlnbjogbGVmdDsgZGlzcGxheTogbm9uZTtcIj5cbiAgICAgICAgICAgIOW3sumAieaLqeWIhue7hDogPHNwYW4gaWQ9XCJzZWxlY3RlZC1ncm91cC1uYW1lXCIgc3R5bGU9XCJmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICM0Q0FGNTA7XCI+PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBnYXA6IDEwcHg7IGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZ3JvdXAtc2VsZWN0aW9uLWNhbmNlbFwiIHN0eWxlPVwicGFkZGluZzogOHB4IDE2cHg7IGJhY2tncm91bmQtY29sb3I6I2JjYWFhNDsgYm9yZGVyOm5vbmU7IGJvcmRlci1yYWRpdXM6NnB4OyBjdXJzb3I6cG9pbnRlcjsgZm9udC13ZWlnaHQ6Ym9sZDsgY29sb3I6IzNhMmMyYztcIj7lj5bmtog8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJncm91cC1zZWxlY3Rpb24tY29uZmlybVwiIHN0eWxlPVwicGFkZGluZzogOHB4IDE2cHg7IGJhY2tncm91bmQtY29sb3I6IzRDQUY1MDsgYm9yZGVyOm5vbmU7IGJvcmRlci1yYWRpdXM6NnB4OyBjdXJzb3I6cG9pbnRlcjsgZm9udC13ZWlnaHQ6Ym9sZDsgY29sb3I6I2ZmZjsgZGlzcGxheTogbm9uZTtcIj7liqDlhaXmraTliIbnu4Q8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8c3R5bGU+XG4gICAgICAuZ3JvdXAtb3B0aW9uLnNlbGVjdGVkLWdyb3VwIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2U4ZjVlOCAhaW1wb3J0YW50O1xuICAgICAgICBib3JkZXItY29sb3I6ICM0Q0FGNTAgIWltcG9ydGFudDtcbiAgICAgICAgYm9yZGVyLXdpZHRoOiAycHggIWltcG9ydGFudDtcbiAgICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoNzYsIDE3NSwgODAsIDAuMykgIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC5ncm91cC1vcHRpb24uc2VsZWN0ZWQtZ3JvdXA6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDRlZGRhICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICAgICAgIyR7cG9wdXBJZH0ge1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgcGFkZGluZzogMTBweCAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICAgICMke3BvcHVwSWR9ID4gZGl2IHtcbiAgICAgICAgICBtYXJnaW4tdG9wOiA1dmggIWltcG9ydGFudDtcbiAgICAgICAgICBtYXgtaGVpZ2h0OiA4NXZoICFpbXBvcnRhbnQ7XG4gICAgICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbiAgICAgICAgICBwYWRkaW5nOiAxNXB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkge1xuICAgICAgICAjJHtwb3B1cElkfSB7XG4gICAgICAgICAgcGFkZGluZzogNXB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgIyR7cG9wdXBJZH0gPiBkaXYge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDJ2aCAhaW1wb3J0YW50O1xuICAgICAgICAgIG1heC1oZWlnaHQ6IDkwdmggIWltcG9ydGFudDtcbiAgICAgICAgICBwYWRkaW5nOiAxMnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICA8L3N0eWxlPlxuICBgO1xuXG4gICQoJ2JvZHknKS5hcHBlbmQocG9wdXBIdG1sKTtcblxuICBsZXQgc2VsZWN0ZWRHcm91cDogUHJvbXB0R3JvdXAgfCBudWxsID0gbnVsbDtcblxuICAvLyDlhYjop6Pnu5HmiYDmnInlj6/og73ph43lpI3nmoTkuovku7bvvIzpmLLmraLohJrmnKzph43lpI3liqDovb3lr7zoh7TnmoTpl67pophcbiAgJCgnI2dyb3VwLXNlbGVjdGlvbi1jYW5jZWwnKS5vZmYoJ2NsaWNrJyk7XG4gICQoJyNncm91cC1zZWxlY3Rpb24tY29uZmlybScpLm9mZignY2xpY2snKTtcbiAgJChkb2N1bWVudCkub2ZmKCdjbGljaycsICcuZ3JvdXAtb3B0aW9uJyk7XG5cbiAgLy8g57uR5a6a5LqL5Lu2XG4gICQoJyNncm91cC1zZWxlY3Rpb24tY2FuY2VsJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICQoYCMke3BvcHVwSWR9YCkucmVtb3ZlKCk7XG4gIH0pO1xuXG4gIC8vIOehruiupOWKoOWFpeWIhue7hFxuICAkKCcjZ3JvdXAtc2VsZWN0aW9uLWNvbmZpcm0nKS5vbignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZEdyb3VwKSB7XG4gICAgICB0b2FzdHIuZXJyb3IoJ+ivt+WFiOmAieaLqeS4gOS4quWIhue7hCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBhZGRQcm9tcHRzVG9Hcm91cChzZWxlY3RlZFByb21wdHMsIHNlbGVjdGVkR3JvdXAsIGV4aXN0aW5nR3JvdXBzKTtcbiAgICAgICQoYCMke3BvcHVwSWR9YCkucmVtb3ZlKCk7XG5cbiAgICAgIC8vIOmHjeaWsOWKoOi9veWIhue7hOeVjOmdolxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICQoJyNwcmVzZXQtbWFuYWdlci1ncm91cGluZy1wb3B1cCcpLnJlbW92ZSgpO1xuICAgICAgICBzaG93UHJvbXB0R3JvdXBpbmdVSSgpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign5Yqg5YWl5YiG57uE5aSx6LSlOicsIGVycm9yKTtcbiAgICAgIHRvYXN0ci5lcnJvcign5Yqg5YWl5YiG57uE5aSx6LSl77yM6K+36YeN6K+VJyk7XG4gICAgfVxuICB9KTtcblxuICAvLyDlu7bov5/nu5Hlrprkuovku7bvvIznoa7kv51ET03lrozlhajliqDovb1cbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ+W8gOWni+e7keWumuWIhue7hOmAieaLqeS6i+S7ticpO1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgJ+eOsOacieWIhue7hOWIl+ihqDonLFxuICAgICAgZXhpc3RpbmdHcm91cHMubWFwKGcgPT4gKHsgaWQ6IGcuaWQsIG5hbWU6IGcubmFtZSwgdHlwZTogdHlwZW9mIGcuaWQgfSkpLFxuICAgICk7XG5cbiAgICAvLyDnm7TmjqXnu5HlrprliLDlvLnnqpflhoXnmoTlhYPntKBcbiAgICAkKGAjJHtwb3B1cElkfSAuZ3JvdXAtb3B0aW9uYClcbiAgICAgIC5vZmYoJ2NsaWNrJylcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgY29uc3QgZ3JvdXBJZCA9ICQodGhpcykuZGF0YSgnZ3JvdXAtaWQnKTtcbiAgICAgICAgY29uc29sZS5sb2coJ+eCueWHu+WIhue7hOmAiemhuTonLCBncm91cElkLCAn57G75Z6LOicsIHR5cGVvZiBncm91cElkLCAn5YWD57SgOicsIHRoaXMpO1xuXG4gICAgICAgIC8vIOehruS/nWdyb3VwSWTmmK/lrZfnrKbkuLLnsbvlnotcbiAgICAgICAgY29uc3QgZ3JvdXBJZFN0ciA9IFN0cmluZyhncm91cElkKTtcbiAgICAgICAgY29uc29sZS5sb2coJ+i9rOaNouWQjueahGdyb3VwSWQ6JywgZ3JvdXBJZFN0ciwgJ+exu+WeizonLCB0eXBlb2YgZ3JvdXBJZFN0cik7XG5cbiAgICAgICAgY29uc3QgZ3JvdXAgPSBmaW5kR3JvdXBCeUlkKGV4aXN0aW5nR3JvdXBzLCBncm91cElkU3RyKTtcbiAgICAgICAgY29uc29sZS5sb2coJ+aJvuWIsOWIhue7hDonLCBncm91cCk7XG5cbiAgICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgICAgLy8g5riF6Zmk5LmL5YmN55qE6YCJ5oupXG4gICAgICAgICAgJChgIyR7cG9wdXBJZH0gLmdyb3VwLW9wdGlvbmApLnJlbW92ZUNsYXNzKCdzZWxlY3RlZC1ncm91cCcpO1xuXG4gICAgICAgICAgLy8g5qCH6K6w5b2T5YmN6YCJ5oupXG4gICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnc2VsZWN0ZWQtZ3JvdXAnKTtcbiAgICAgICAgICBzZWxlY3RlZEdyb3VwID0gZ3JvdXA7XG5cbiAgICAgICAgICAvLyDmmL7npLrpgInmi6nkv6Hmga/lkoznoa7orqTmjInpkq5cbiAgICAgICAgICBjb25zdCBuYW1lRWxlbWVudCA9ICQoYCMke3BvcHVwSWR9ICNzZWxlY3RlZC1ncm91cC1uYW1lYCk7XG4gICAgICAgICAgY29uc3QgaW5mb0VsZW1lbnQgPSAkKGAjJHtwb3B1cElkfSAjc2VsZWN0ZWQtZ3JvdXAtaW5mb2ApO1xuICAgICAgICAgIGNvbnN0IGNvbmZpcm1CdXR0b24gPSAkKGAjJHtwb3B1cElkfSAjZ3JvdXAtc2VsZWN0aW9uLWNvbmZpcm1gKTtcblxuICAgICAgICAgIGNvbnNvbGUubG9nKCfmm7TmlrBVSeWFg+e0oDonLCB7XG4gICAgICAgICAgICBuYW1lRWxlbWVudDogbmFtZUVsZW1lbnQubGVuZ3RoLFxuICAgICAgICAgICAgaW5mb0VsZW1lbnQ6IGluZm9FbGVtZW50Lmxlbmd0aCxcbiAgICAgICAgICAgIGNvbmZpcm1CdXR0b246IGNvbmZpcm1CdXR0b24ubGVuZ3RoLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgbmFtZUVsZW1lbnQudGV4dChncm91cC5uYW1lKTtcbiAgICAgICAgICBpbmZvRWxlbWVudC5zaG93KCk7XG4gICAgICAgICAgY29uZmlybUJ1dHRvbi5zaG93KCk7XG5cbiAgICAgICAgICBjb25zb2xlLmxvZygn5bey6YCJ5oup5YiG57uEOicsIGdyb3VwLm5hbWUsICdVSeW3suabtOaWsCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+acquaJvuWIsOWIhue7hDonLCBncm91cElkKTtcbiAgICAgICAgICB0b2FzdHIuZXJyb3IoJ+acquaJvuWIsOmAieS4reeahOWIhue7hCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKCfliIbnu4TpgInmi6nkuovku7bnu5HlrprlrozmiJDvvIzmib7liLDlhYPntKDmlbDph486JywgJChgIyR7cG9wdXBJZH0gLmdyb3VwLW9wdGlvbmApLmxlbmd0aCk7XG4gIH0sIDEwMCk7XG5cbiAgLy8g5re75Yqg6LCD6K+V5L+h5oGvXG4gIGNvbnNvbGUubG9nKCfliIbnu4TpgInmi6nlvLnnqpflt7LliJvlu7rvvIzliIbnu4TmlbDph486JywgZXhpc3RpbmdHcm91cHMubGVuZ3RoKTtcbiAgY29uc29sZS5sb2coJ+ehruiupOaMiemSruWFg+e0oDonLCAkKCcjZ3JvdXAtc2VsZWN0aW9uLWNvbmZpcm0nKS5sZW5ndGgpO1xuICBjb25zb2xlLmxvZygn6YCJ5oup5L+h5oGv5YWD57SgOicsICQoJyNzZWxlY3RlZC1ncm91cC1pbmZvJykubGVuZ3RoKTtcbn1cblxuLy8g55Sf5oiQ5YiG57uE5YiX6KGoSFRNTFxuZnVuY3Rpb24gZ2VuZXJhdGVHcm91cHNMaXN0SHRtbChncm91cHM6IFByb21wdEdyb3VwW10sIGxldmVsOiBudW1iZXIpOiBzdHJpbmcge1xuICBsZXQgaHRtbCA9ICcnO1xuXG4gIGdyb3Vwcy5mb3JFYWNoKGdyb3VwID0+IHtcbiAgICBjb25zdCBoYXNDb250ZW50ID0gZ3JvdXAucHJvbXB0SWRzLmxlbmd0aCA+IDAgfHwgZ3JvdXAuc3ViR3JvdXBzLmxlbmd0aCA+IDA7XG5cbiAgICBpZiAoaGFzQ29udGVudCkge1xuICAgICAgaHRtbCArPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1vcHRpb25cIiBkYXRhLWdyb3VwLWlkPVwiJHtncm91cC5pZH1cIiBcbiAgICAgICAgICAgICBzdHlsZT1cInBhZGRpbmc6IDEycHg7IG1hcmdpbjogOHB4IDA7IGJvcmRlcjogMXB4IHNvbGlkICNlMGUwZTA7IGJvcmRlci1yYWRpdXM6IDhweDsgY3Vyc29yOiBwb2ludGVyOyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5OyB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlOyBtYXJnaW4tbGVmdDogJHtsZXZlbCAqIDIwfXB4OyB1c2VyLXNlbGVjdDogbm9uZTtcIlxuICAgICAgICAgICAgIG9ubW91c2VvdmVyPVwidGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9JyNlOGY1ZTgnOyB0aGlzLnN0eWxlLmJvcmRlckNvbG9yPScjNENBRjUwJztcIlxuICAgICAgICAgICAgIG9ubW91c2VvdXQ9XCJ0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvcj0nI2Y5ZjlmOSc7IHRoaXMuc3R5bGUuYm9yZGVyQ29sb3I9JyNlMGUwZTAnO1wiPlxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICMzMzM7IGZvbnQtc2l6ZTogMTRweDsgbWFyZ2luLWJvdHRvbTogNHB4O1wiPlxuICAgICAgICAgICAgJHskKCc8ZGl2Lz4nKS50ZXh0KGdyb3VwLm5hbWUpLmh0bWwoKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzY2NjsgZGlzcGxheTogZmxleDsgZ2FwOiAxMnB4O1wiPlxuICAgICAgICAgICAgPHNwYW4+8J+ThCDmnaHnm646ICR7Z3JvdXAucHJvbXB0SWRzLmxlbmd0aH08L3NwYW4+XG4gICAgICAgICAgICA8c3Bhbj7wn5OBIOWtkOWIhue7hDogJHtncm91cC5zdWJHcm91cHMubGVuZ3RofTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cblxuICAgIC8vIOmAkuW9kuWkhOeQhuWtkOWIhue7hFxuICAgIGlmIChncm91cC5zdWJHcm91cHMubGVuZ3RoID4gMCkge1xuICAgICAgaHRtbCArPSBnZW5lcmF0ZUdyb3Vwc0xpc3RIdG1sKGdyb3VwLnN1Ykdyb3VwcywgbGV2ZWwgKyAxKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBodG1sO1xufVxuXG4vLyDlsIbmnaHnm67liqDlhaXmjIflrprliIbnu4RcbmFzeW5jIGZ1bmN0aW9uIGFkZFByb21wdHNUb0dyb3VwKFxuICBzZWxlY3RlZFByb21wdHM6IHN0cmluZ1tdLFxuICB0YXJnZXRHcm91cDogUHJvbXB0R3JvdXAsXG4gIGV4aXN0aW5nR3JvdXBzOiBQcm9tcHRHcm91cFtdLFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIC8vIOajgOafpeadoeebruaYr+WQpuW3sue7j+WcqOebruagh+WIhue7hOS4rVxuICBjb25zdCBhbHJlYWR5SW5Hcm91cCA9IHNlbGVjdGVkUHJvbXB0cy5maWx0ZXIocHJvbXB0SWQgPT4gdGFyZ2V0R3JvdXAucHJvbXB0SWRzLmluY2x1ZGVzKHByb21wdElkKSk7XG5cbiAgaWYgKGFscmVhZHlJbkdyb3VwLmxlbmd0aCA+IDApIHtcbiAgICB0b2FzdHIud2FybmluZyhg5pyJICR7YWxyZWFkeUluR3JvdXAubGVuZ3RofSDkuKrmnaHnm67lt7LlnKjor6XliIbnu4TkuK3vvIzlsIbot7Pov4dgKTtcbiAgfVxuXG4gIC8vIOWwhuadoeebrua3u+WKoOWIsOebruagh+WIhue7hFxuICBjb25zdCBuZXdQcm9tcHRzID0gc2VsZWN0ZWRQcm9tcHRzLmZpbHRlcihwcm9tcHRJZCA9PiAhdGFyZ2V0R3JvdXAucHJvbXB0SWRzLmluY2x1ZGVzKHByb21wdElkKSk7XG5cbiAgdGFyZ2V0R3JvdXAucHJvbXB0SWRzLnB1c2goLi4ubmV3UHJvbXB0cyk7XG5cbiAgLy8g5pu05pawVUlcbiAgbmV3UHJvbXB0cy5mb3JFYWNoKHByb21wdElkID0+IHtcbiAgICBjb25zdCBpdGVtID0gJChgLnByb21wdC1pdGVtW2RhdGEtcHJvbXB0LWlkPVwiJHtwcm9tcHRJZH1cIl1gKTtcbiAgICBpdGVtLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICcjZThmNWU4Jyk7XG5cbiAgICAvLyDmm7TmlrDmiJbmt7vliqDliIbnu4TmoIfnrb5cbiAgICBjb25zdCBleGlzdGluZ1RhZyA9IGl0ZW0uZmluZCgnLmdyb3VwLXRhZycpO1xuICAgIGNvbnN0IGdyb3VwUGF0aCA9IGdldEdyb3VwUGF0aCh0YXJnZXRHcm91cCwgZXhpc3RpbmdHcm91cHMpO1xuICAgIGlmIChleGlzdGluZ1RhZy5sZW5ndGgpIHtcbiAgICAgIGV4aXN0aW5nVGFnLnRleHQoZ3JvdXBQYXRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbVxuICAgICAgICAuZmluZCgnLnByb21wdC10ZXh0JylcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICBgPGRpdiBzdHlsZT1cImNvbG9yOiAjNjY2OyBmb250LXNpemU6IDEycHg7IG1hcmdpbi10b3A6IDRweDsgd29yZC13cmFwOiBicmVhay13b3JkOyBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1wiPvCfk4EgJHtncm91cFBhdGh9PC9kaXY+YCxcbiAgICAgICAgKTtcbiAgICAgIGl0ZW0uYXBwZW5kKFxuICAgICAgICBgPHNwYW4gY2xhc3M9XCJncm91cC10YWdcIiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMnB4IDhweDsgYm9yZGVyLXJhZGl1czogMTJweDsgZm9udC1zaXplOiAxMXB4OyBtYXJnaW4tbGVmdDogOHB4OyBmbGV4LXNocmluazogMDsgYWxpZ24tc2VsZjogZmxleC1zdGFydDsgbWFyZ2luLXRvcDogMnB4O1wiPuW3suWIhue7hDwvc3Bhbj5gLFxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIOS/neWtmOWIhue7hOmFjee9rlxuICBjb25zdCBjdXJyZW50UHJlc2V0TmFtZSA9IFRhdmVybkhlbHBlci5nZXRMb2FkZWRQcmVzZXROYW1lKCk7XG4gIHNhdmVQcmVzZXRHcm91cGluZyhjdXJyZW50UHJlc2V0TmFtZSwgZXhpc3RpbmdHcm91cHMpO1xuXG4gIC8vIOeri+WNs+W6lOeUqOWIhue7hOWIsERPTVxuICBhcHBseUdyb3VwaW5nVG9ET00oZXhpc3RpbmdHcm91cHMpO1xuXG4gIC8vIOW7tui/n+aBouWkjeS7peehruS/nURPTeabtOaWsOWujOaIkFxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICByZXN0b3JlR3JvdXBpbmdJbW1lZGlhdGUoKTtcbiAgfSwgMTAwKTtcblxuICB0b2FzdHIuc3VjY2Vzcyhg5bey5bCGICR7bmV3UHJvbXB0cy5sZW5ndGh9IOS4quadoeebruWKoOWFpeWIhue7hCBcIiR7Z2V0R3JvdXBQYXRoKHRhcmdldEdyb3VwLCBleGlzdGluZ0dyb3Vwcyl9XCLvvIzlt7Lnq4vljbPlupTnlKhgKTtcbn1cblxuLy8g5bCG5p2h55uu5LuO5YiG57uE5Lit56e76ZmkXG5hc3luYyBmdW5jdGlvbiByZW1vdmVQcm9tcHRzRnJvbUdyb3VwcyhzZWxlY3RlZFByb21wdHM6IHN0cmluZ1tdLCBleGlzdGluZ0dyb3VwczogUHJvbXB0R3JvdXBbXSk6IFByb21pc2U8dm9pZD4ge1xuICBzZWxlY3RlZFByb21wdHMuZm9yRWFjaChwcm9tcHRJZCA9PiB7XG4gICAgY29uc3QgZ3JvdXAgPSBmaW5kUHJvbXB0SW5Hcm91cHMoZXhpc3RpbmdHcm91cHMsIHByb21wdElkKTtcbiAgICBpZiAoZ3JvdXApIHtcbiAgICAgIC8vIOS7juWIhue7hOS4reenu+mZpOadoeebrlxuICAgICAgY29uc3QgaW5kZXggPSBncm91cC5wcm9tcHRJZHMuaW5kZXhPZihwcm9tcHRJZCk7XG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBncm91cC5wcm9tcHRJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cblxuICAgICAgLy8g5pu05pawVUlcbiAgICAgIGNvbnN0IGl0ZW0gPSAkKGAucHJvbXB0LWl0ZW1bZGF0YS1wcm9tcHQtaWQ9XCIke3Byb21wdElkfVwiXWApO1xuICAgICAgaXRlbS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnI2ZmZicpO1xuICAgICAgaXRlbS5maW5kKCcuZ3JvdXAtdGFnJykucmVtb3ZlKCk7XG4gICAgICBpdGVtLmZpbmQoJy5wcm9tcHQtdGV4dCBkaXY6bGFzdC1jaGlsZCcpLnJlbW92ZSgpOyAvLyDnp7vpmaTliIbnu4Tot6/lvoTmmL7npLpcbiAgICB9XG4gIH0pO1xuXG4gIC8vIOS/neWtmOWIhue7hOmFjee9rlxuICBjb25zdCBjdXJyZW50UHJlc2V0TmFtZSA9IFRhdmVybkhlbHBlci5nZXRMb2FkZWRQcmVzZXROYW1lKCk7XG4gIHNhdmVQcmVzZXRHcm91cGluZyhjdXJyZW50UHJlc2V0TmFtZSwgZXhpc3RpbmdHcm91cHMpO1xuXG4gIC8vIOeri+WNs+W6lOeUqOWIhue7hOWIsERPTVxuICBhcHBseUdyb3VwaW5nVG9ET00oZXhpc3RpbmdHcm91cHMpO1xuXG4gIC8vIOW7tui/n+aBouWkjeS7peehruS/nURPTeabtOaWsOWujOaIkFxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICByZXN0b3JlR3JvdXBpbmdJbW1lZGlhdGUoKTtcbiAgfSwgMTAwKTtcblxuICB0b2FzdHIuc3VjY2Vzcyhg5bey5bCGICR7c2VsZWN0ZWRQcm9tcHRzLmxlbmd0aH0g5Liq5p2h55uu56e75Ye65YiG57uE77yM5bey56uL5Y2z5bqU55SoYCk7XG59XG5cbi8vIOaYvuekuuino+aVo+WIhue7hOW8ueeql1xuYXN5bmMgZnVuY3Rpb24gc2hvd0Rpc3NvbHZlR3JvdXBQb3B1cChleGlzdGluZ0dyb3VwczogUHJvbXB0R3JvdXBbXSk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBwb3B1cElkID0gJ2Rpc3NvbHZlLWdyb3VwLXBvcHVwJztcbiAgJChgIyR7cG9wdXBJZH1gKS5yZW1vdmUoKTtcblxuICBjb25zdCBncm91cHNIdG1sID0gZXhpc3RpbmdHcm91cHNcbiAgICAubWFwKFxuICAgICAgZ3JvdXAgPT4gYFxuICAgIDxkaXYgY2xhc3M9XCJncm91cC1zZWxlY3Rpb24taXRlbVwiIHN0eWxlPVwiZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgcGFkZGluZzogMTBweDsgYm9yZGVyOiAxcHggc29saWQgI2UwZTBlMDsgbWFyZ2luOiA1cHggMDsgYm9yZGVyLXJhZGl1czogNnB4OyBjdXJzb3I6IHBvaW50ZXI7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7XCI+XG4gICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJncm91cC1jaGVja2JveFwiIGRhdGEtZ3JvdXAtbmFtZT1cIiR7JCgnPGRpdi8+JykudGV4dChncm91cC5uYW1lKS5odG1sKCl9XCIgc3R5bGU9XCJtYXJnaW4tcmlnaHQ6IDEycHg7IHRyYW5zZm9ybTogc2NhbGUoMS4zKTtcIj5cbiAgICAgIDxkaXYgc3R5bGU9XCJmbGV4OiAxO1wiPlxuICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjMzMzOyBmb250LXNpemU6IDE0cHg7XCI+JHskKCc8ZGl2Lz4nKS50ZXh0KGdyb3VwLm5hbWUpLmh0bWwoKX08L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMTJweDsgY29sb3I6ICM2NjY7IG1hcmdpbi10b3A6IDJweDtcIj7ljIXlkKsgJHtncm91cC5wcm9tcHRJZHMubGVuZ3RofSDkuKrmnaHnm648L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgLFxuICAgIClcbiAgICAuam9pbignJyk7XG5cbiAgY29uc3QgcG9wdXBIdG1sID0gYFxuICAgIDxkaXYgaWQ9XCIke3BvcHVwSWR9XCIgc3R5bGU9XCJwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjUpOyB6LWluZGV4OiAxMDAwMjsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXAtc2VsZWN0aW9uLXBvcHVwLWNvbnRlbnRcIiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICNmZmY4ZjA7IGNvbG9yOiAjM2EyYzJjOyBib3JkZXItcmFkaXVzOiAxNnB4OyBwYWRkaW5nOiAyMHB4OyB3aWR0aDogOTAlOyBtYXgtd2lkdGg6IDUwMHB4OyBib3gtc2hhZG93OiAwIDRweCAyNXB4IHJnYmEoMTIwLDkwLDYwLC4yNSk7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IG1heC1oZWlnaHQ6IDcwdmg7XCI+XG4gICAgICAgIDxoNCBzdHlsZT1cIm1hcmdpbi10b3A6MDsgY29sb3I6IzZhNDIyNjsgdGV4dC1hbGlnbjogY2VudGVyOyBib3JkZXItYm90dG9tOiAycHggc29saWQgI2YwZDhiNjsgcGFkZGluZy1ib3R0b206IDEwcHg7XCI+6YCJ5oup6KaB6Kej5pWj55qE5YiG57uEPC9oND5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW46IDE1cHggMDsgZGlzcGxheTogZmxleDsgZ2FwOiA4cHg7IGZsZXgtd3JhcDogd3JhcDtcIj5cbiAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LWFsbC1ncm91cHMtYnRuXCIgc3R5bGU9XCJwYWRkaW5nOiA2cHggMTJweDsgYmFja2dyb3VuZC1jb2xvcjojMjE5NkYzOyBib3JkZXI6bm9uZTsgYm9yZGVyLXJhZGl1czo2cHg7IGNvbG9yOiNmZmY7IGN1cnNvcjpwb2ludGVyOyBmb250LXNpemU6MTNweDtcIj7lhajpgIk8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW5vbmUtZ3JvdXBzLWJ0blwiIHN0eWxlPVwicGFkZGluZzogNnB4IDEycHg7IGJhY2tncm91bmQtY29sb3I6IzlFOUU5RTsgYm9yZGVyOm5vbmU7IGJvcmRlci1yYWRpdXM6NnB4OyBjb2xvcjojZmZmOyBjdXJzb3I6cG9pbnRlcjsgZm9udC1zaXplOjEzcHg7XCI+5YWo5LiN6YCJPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgc3R5bGU9XCJmbGV4OiAxOyBtaW4taGVpZ2h0OiAwOyBvdmVyZmxvdy15OiBhdXRvOyBib3JkZXI6IDFweCBzb2xpZCAjZjBlMmQwOyBib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6IDEycHg7IG1hcmdpbi1ib3R0b206IDE1cHg7XCI+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMTNweDsgY29sb3I6ICM2NjY7IG1hcmdpbi1ib3R0b206IDEycHg7XCI+6YCJ5oup6KaB6Kej5pWj55qE5YiG57uE77yM6Kej5pWj5ZCO5YiG57uE5YaF55qE5p2h55uu5bCG5Y+Y5Li654us56uL5p2h55uuPC9kaXY+XG4gICAgICAgICAgPGRpdiBpZD1cImdyb3Vwcy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICR7Z3JvdXBzSHRtbH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiAxMHB4O1wiPlxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJmb250LXNpemU6IDEycHg7IGNvbG9yOiAjNjY2O1wiPuKaoO+4jyDop6PmlaPmk43kvZzkuI3lj6/mkqTplIA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgZ2FwOiA4cHg7XCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZ3JvdXAtc2VsZWN0aW9uLWNhbmNlbFwiIHN0eWxlPVwicGFkZGluZzogMTBweCAxNnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiM5RTlFOUU7IGJvcmRlcjpub25lOyBib3JkZXItcmFkaXVzOjZweDsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtd2VpZ2h0OmJvbGQ7IGNvbG9yOiNmZmY7IGZvbnQtc2l6ZTogMTRweDtcIj7lj5bmtog8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJncm91cC1zZWxlY3Rpb24tY29uZmlybVwiIHN0eWxlPVwicGFkZGluZzogMTBweCAxNnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiNmZjk4MDA7IGJvcmRlcjpub25lOyBib3JkZXItcmFkaXVzOjZweDsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtd2VpZ2h0OmJvbGQ7IGNvbG9yOiNmZmY7IGZvbnQtc2l6ZTogMTRweDtcIj7op6PmlaPpgInkuK08L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcblxuICAkKCdib2R5JykuYXBwZW5kKHBvcHVwSHRtbCk7XG5cbiAgLy8g57uR5a6a5LqL5Lu2XG4gICQoJy5ncm91cC1zZWxlY3Rpb24taXRlbScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS50eXBlID09PSAnY2hlY2tib3gnKSByZXR1cm47XG5cbiAgICBjb25zdCBjaGVja2JveCA9ICQodGhpcykuZmluZCgnLmdyb3VwLWNoZWNrYm94Jyk7XG4gICAgY2hlY2tib3gucHJvcCgnY2hlY2tlZCcsICFjaGVja2JveC5wcm9wKCdjaGVja2VkJykpO1xuICB9KTtcblxuICAkKCcjc2VsZWN0LWFsbC1ncm91cHMtYnRuJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICQoJy5ncm91cC1jaGVja2JveCcpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcbiAgfSk7XG5cbiAgJCgnI3NlbGVjdC1ub25lLWdyb3Vwcy1idG4nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgJCgnLmdyb3VwLWNoZWNrYm94JykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgfSk7XG5cbiAgJCgnI2dyb3VwLXNlbGVjdGlvbi1jYW5jZWwnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgJChgIyR7cG9wdXBJZH1gKS5yZW1vdmUoKTtcbiAgfSk7XG5cbiAgJCgnI2dyb3VwLXNlbGVjdGlvbi1jb25maXJtJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkR3JvdXBOYW1lczogc3RyaW5nW10gPSBbXTtcbiAgICAkKCcuZ3JvdXAtY2hlY2tib3g6Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgc2VsZWN0ZWRHcm91cE5hbWVzLnB1c2goJCh0aGlzKS5kYXRhKCdncm91cC1uYW1lJykpO1xuICAgIH0pO1xuXG4gICAgaWYgKHNlbGVjdGVkR3JvdXBOYW1lcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRvYXN0ci5lcnJvcign6K+36YCJ5oup6KaB6Kej5pWj55qE5YiG57uEJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8g6Kej5pWj6YCJ5Lit55qE5YiG57uEXG4gICAgc2VsZWN0ZWRHcm91cE5hbWVzLmZvckVhY2goZ3JvdXBOYW1lID0+IHtcbiAgICAgIGNvbnN0IGdyb3VwSW5kZXggPSBleGlzdGluZ0dyb3Vwcy5maW5kSW5kZXgoZyA9PiBnLm5hbWUgPT09IGdyb3VwTmFtZSk7XG4gICAgICBpZiAoZ3JvdXBJbmRleCA+IC0xKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gZXhpc3RpbmdHcm91cHNbZ3JvdXBJbmRleF07XG5cbiAgICAgICAgLy8g5pu05pawVUkgLSDnp7vpmaTliIbnu4TmoIfnrb7lkozog4zmma/oibJcbiAgICAgICAgZ3JvdXAucHJvbXB0SWRzLmZvckVhY2gocHJvbXB0SWQgPT4ge1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSAkKGAucHJvbXB0LWl0ZW1bZGF0YS1wcm9tcHQtaWQ9XCIke3Byb21wdElkfVwiXWApO1xuICAgICAgICAgIGl0ZW0uY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJyNmZmYnKTtcbiAgICAgICAgICBpdGVtLmZpbmQoJy5ncm91cC10YWcnKS5yZW1vdmUoKTtcbiAgICAgICAgICAvLyDmuIXpmaTliIbnu4Tot6/lvoTmmL7npLpcbiAgICAgICAgICBjb25zdCBwcm9tcHRUZXh0ID0gaXRlbS5maW5kKCcucHJvbXB0LXRleHQnKTtcbiAgICAgICAgICBpZiAocHJvbXB0VGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0RGl2ID0gcHJvbXB0VGV4dC5maW5kKCdkaXY6bGFzdC1jaGlsZCcpO1xuICAgICAgICAgICAgaWYgKGxhc3REaXYudGV4dCgpLmluY2x1ZGVzKCfwn5OBJykpIHtcbiAgICAgICAgICAgICAgbGFzdERpdi5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIOmAkuW9kuWkhOeQhuWtkOWIhue7hFxuICAgICAgICBjb25zdCBwcm9jZXNzU3ViR3JvdXBzID0gKHN1Ykdyb3VwczogUHJvbXB0R3JvdXBbXSkgPT4ge1xuICAgICAgICAgIHN1Ykdyb3Vwcy5mb3JFYWNoKHN1Ykdyb3VwID0+IHtcbiAgICAgICAgICAgIHN1Ykdyb3VwLnByb21wdElkcy5mb3JFYWNoKHByb21wdElkID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaXRlbSA9ICQoYC5wcm9tcHQtaXRlbVtkYXRhLXByb21wdC1pZD1cIiR7cHJvbXB0SWR9XCJdYCk7XG4gICAgICAgICAgICAgIGl0ZW0uY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJyNmZmYnKTtcbiAgICAgICAgICAgICAgaXRlbS5maW5kKCcuZ3JvdXAtdGFnJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgIGNvbnN0IHByb21wdFRleHQgPSBpdGVtLmZpbmQoJy5wcm9tcHQtdGV4dCcpO1xuICAgICAgICAgICAgICBpZiAocHJvbXB0VGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdERpdiA9IHByb21wdFRleHQuZmluZCgnZGl2Omxhc3QtY2hpbGQnKTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdERpdi50ZXh0KCkuaW5jbHVkZXMoJ/Cfk4EnKSkge1xuICAgICAgICAgICAgICAgICAgbGFzdERpdi5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHN1Ykdyb3VwLnN1Ykdyb3Vwcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NTdWJHcm91cHMoc3ViR3JvdXAuc3ViR3JvdXBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZ3JvdXAuc3ViR3JvdXBzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBwcm9jZXNzU3ViR3JvdXBzKGdyb3VwLnN1Ykdyb3Vwcyk7XG4gICAgICAgIH1cblxuICAgICAgICBleGlzdGluZ0dyb3Vwcy5zcGxpY2UoZ3JvdXBJbmRleCwgMSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyDkv53lrZjmm7TmlrDlkI7nmoTliIbnu4TphY3nva5cbiAgICBjb25zdCBjdXJyZW50UHJlc2V0TmFtZSA9IFRhdmVybkhlbHBlci5nZXRMb2FkZWRQcmVzZXROYW1lKCk7XG4gICAgY29uc3QgdmFsaWRHcm91cHMgPSBleGlzdGluZ0dyb3Vwcy5maWx0ZXIoZyA9PiBoYXNWYWxpZENvbnRlbnQoZykpO1xuICAgIHNhdmVQcmVzZXRHcm91cGluZyhjdXJyZW50UHJlc2V0TmFtZSwgdmFsaWRHcm91cHMpO1xuXG4gICAgLy8g56uL5Y2z5bqU55So5YiG57uE5YiwRE9NXG4gICAgYXBwbHlHcm91cGluZ1RvRE9NKHZhbGlkR3JvdXBzKTtcbiAgICAvLyDlu7bov5/mgaLlpI3ku6Xnoa7kv51ET03mm7TmlrDlrozmiJBcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJlc3RvcmVHcm91cGluZ0ltbWVkaWF0ZSgpO1xuICAgIH0sIDEwMCk7XG5cbiAgICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuICAgIHRvYXN0ci5zdWNjZXNzKGDlt7Lop6PmlaMgJHtzZWxlY3RlZEdyb3VwTmFtZXMubGVuZ3RofSDkuKrliIbnu4RgKTtcbiAgfSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/喵喵预设配置管理/条目分组功能.ts\n\n}");

/***/ }),

/***/ "./src/喵喵预设配置管理/正则绑定功能.ts":
/*!********************************!*\
  !*** ./src/喵喵预设配置管理/正则绑定功能.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   importRegexLogic: () => (/* binding */ importRegexLogic),\n/* harmony export */   showRegexBindingPopup: () => (/* binding */ showRegexBindingPopup),\n/* harmony export */   sortRegexes: () => (/* binding */ sortRegexes)\n/* harmony export */ });\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./辅助弹窗功能 */ \"./src/喵喵预设配置管理/辅助弹窗功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./配置存储和读取 */ \"./src/喵喵预设配置管理/配置存储和读取.ts\");\n\n\nasync function showRegexBindingPopup(configId) {\n    const popupId = 'preset-manager-regex-popup';\n    $(`#${popupId}`).remove();\n    try {\n        const allRegexes = await TavernHelper.getTavernRegexes({ scope: 'global' });\n        if (allRegexes.length === 0) {\n            toastr.info('没有可绑定的全局正则。');\n            return;\n        }\n        const configs = await (0,___WEBPACK_IMPORTED_MODULE_1__.getStoredConfigs)();\n        const currentConfig = configs[configId];\n        if (!currentConfig)\n            return;\n        const savedStates = new Map(currentConfig.regexStates?.map(r => [r.id, r.enabled]) ?? []);\n        const regexesHtml = allRegexes\n            .map((regex) => {\n            const isChecked = savedStates.has(regex.id) ? savedStates.get(regex.id) : regex.enabled;\n            const safeName = $('<div/>').text(regex.script_name).html();\n            return `\n                <div style=\"display: flex; justify-content: space-between; align-items: center; padding: 10px 5px; border-bottom: 1px solid #eee;\">\n                    <label for=\"regex-toggle-${regex.id}\" style=\"cursor: pointer; flex: 1; margin-right: 10px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\" title=\"${safeName}\">${safeName}</label>\n                    <label class=\"pm-switch\">\n                       <input type=\"checkbox\" id=\"regex-toggle-${regex.id}\" data-id=\"${regex.id}\" ${isChecked ? 'checked' : ''}/>\n                       <span class=\"pm-slider\"></span>\n                    </label>\n                </div>\n            `;\n        })\n            .join('');\n        const popupHtml = `\n            <div id=\"${popupId}\" style=\"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 10001; display: flex; align-items: center; justify-content: center;\">\n                <div style=\"background-color: #fff8f0; color: #3a2c2c; border-radius: 16px; padding: 20px; width: 90%; max-width: 450px; box-shadow: 0 4px 25px rgba(120,90,60,.25); display: flex; flex-direction: column; max-height: 80vh;\">\n                    <h4 style=\"margin-top:0; color:#c62828; text-align: center;\">请选择绑定正则</h4>\n                    <div style=\"flex: 1; min-height: 0; overflow-y: auto; margin: 15px 0; border-top: 1px solid #f0e2d0; border-bottom: 1px solid #f0e2d0; padding: 5px 10px;\">\n                        ${regexesHtml}\n                    </div>\n                    <div style=\"text-align: right; display:flex; justify-content:flex-end; gap: 10px;\">\n                        <button id=\"regex-bind-clear\" style=\"padding: 8px 16px; background-color:#f5a8a0; border:none; border-radius:6px; cursor:pointer; color:#fff;\">清除绑定</button>\n                        <button id=\"regex-bind-cancel\" style=\"padding: 8px 16px; background-color:#e0e0e0; border:none; border-radius:6px; cursor:pointer; color:#333;\">取消</button>\n                        <button id=\"regex-bind-save\" style=\"padding: 8px 16px; background-color:#f4c78e; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#3a2c2c;\">保存</button>\n                    </div>\n                </div>\n            </div>\n        `;\n        $('body').append(popupHtml);\n        const mobileStyles = `<style>@media (max-width: 600px) { #${popupId} { align-items: flex-start !important; } #${popupId} > div { margin-top: 5vh; } }</style>`;\n        $(`#${popupId}`).append(mobileStyles);\n        $('#regex-bind-cancel').on('click', () => $(`#${popupId}`).remove());\n        $('#regex-bind-clear').on('click', async () => {\n            const configs = await (0,___WEBPACK_IMPORTED_MODULE_1__.getStoredConfigs)();\n            if (configs[configId] && configs[configId].regexStates) {\n                delete configs[configId].regexStates;\n                await (0,___WEBPACK_IMPORTED_MODULE_1__.setStoredConfigs)(configs);\n                toastr.success(`配置 \"${configs[configId].name}\" 的正则绑定已清除。`);\n            }\n            else {\n                toastr.info(`配置没有正则绑定。`);\n            }\n            $(`#${popupId}`).remove();\n            (0,___WEBPACK_IMPORTED_MODULE_1__.renderConfigsList)();\n        });\n        $('#regex-bind-save').on('click', async () => {\n            const newRegexStates = allRegexes.map((regex) => ({\n                id: regex.id,\n                enabled: $(`#regex-toggle-${regex.id}`).is(':checked'),\n            }));\n            const configs = await (0,___WEBPACK_IMPORTED_MODULE_1__.getStoredConfigs)();\n            if (!configs[configId])\n                return;\n            configs[configId].regexStates = newRegexStates;\n            await (0,___WEBPACK_IMPORTED_MODULE_1__.setStoredConfigs)(configs);\n            toastr.success(`配置 \"${configs[configId].name}\" 的正则绑定已保存。`);\n            $(`#${popupId}`).remove();\n            (0,___WEBPACK_IMPORTED_MODULE_1__.renderConfigsList)();\n            const currentPresetName = configs[configId].presetName;\n            if (!currentPresetName)\n                return;\n            const otherConfigIds = Object.keys(configs).filter(id => id !== configId && configs[id].presetName === currentPresetName);\n            if (otherConfigIds.length > 0) {\n                const confirmMessage = `是否要将此正则绑定应用到其他使用预设 \"${currentPresetName}\" 的 ${otherConfigIds.length} 个配置上？`;\n                const userChoice = await triggerSlash(`/popup okButton=\"应用\" cancelButton=\"取消\" result=true \"${confirmMessage}\"`);\n                if (userChoice === '1') {\n                    otherConfigIds.forEach(id => {\n                        configs[id].regexStates = newRegexStates;\n                    });\n                    await (0,___WEBPACK_IMPORTED_MODULE_1__.setStoredConfigs)(configs);\n                    toastr.success(`已成功将正则绑定应用到 ${otherConfigIds.length} 个同名预设配置上。`);\n                }\n            }\n        });\n    }\n    catch (error) {\n        console.error('打开正则绑定界面失败:', error);\n        toastr.error('无法加载全局正则列表。');\n    }\n}\nfunction sortRegexes(regexes) {\n    const getSortNumber = (name) => {\n        const match = name.trim().match(/^(?:\\[|【|\\(|（)?(\\d+)(?:\\]|】|\\)|）|\\.|-|_|\\s)?/);\n        if (match && match[1]) {\n            return parseInt(match[1], 10);\n        }\n        return Infinity;\n    };\n    return regexes.sort((a, b) => {\n        const numA = getSortNumber(a.script_name);\n        const numB = getSortNumber(b.script_name);\n        if (numA !== numB) {\n            return numA - numB;\n        }\n        return a.script_name.localeCompare(b.script_name);\n    });\n}\nasync function importRegexLogic(regexToImport) {\n    const currentRegexes = await TavernHelper.getTavernRegexes({ scope: 'global' });\n    let remainingRegexes = currentRegexes;\n    if (currentRegexes && currentRegexes.length > 0) {\n        remainingRegexes = await (0,___WEBPACK_IMPORTED_MODULE_0__.showRegexDeletionPopup)(currentRegexes);\n    }\n    const combinedRegexes = [...regexToImport, ...remainingRegexes];\n    const sortedRegexes = sortRegexes(combinedRegexes);\n    await TavernHelper.replaceTavernRegexes(sortedRegexes, { scope: 'global' });\n    toastr.success(`成功导入 ${regexToImport.length} 条正则，并重新排序。`);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5Za15Za16aKE6K6+6YWN572u566h55CGL+ato+WImee7keWumuWKn+iDvS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFrRDtBQUNnQztBQUUzRSxLQUFLLFVBQVUscUJBQXFCLENBQUMsUUFBZ0I7SUFDMUQsTUFBTSxPQUFPLEdBQUcsNEJBQTRCLENBQUM7SUFDN0MsQ0FBQyxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUUxQixJQUFJLENBQUM7UUFDSCxNQUFNLFVBQVUsR0FBRyxNQUFNLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQzVFLElBQUksVUFBVSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUM1QixNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQzNCLE9BQU87UUFDVCxDQUFDO1FBRUQsTUFBTSxPQUFPLEdBQUcsTUFBTSxtREFBZ0IsRUFBRSxDQUFDO1FBQ3pDLE1BQU0sYUFBYSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsYUFBYTtZQUFFLE9BQU87UUFDM0IsTUFBTSxXQUFXLEdBQUcsSUFBSSxHQUFHLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7UUFFMUYsTUFBTSxXQUFXLEdBQUcsVUFBVTthQUMzQixHQUFHLENBQUMsQ0FBQyxLQUFVLEVBQUUsRUFBRTtZQUNsQixNQUFNLFNBQVMsR0FBRyxXQUFXLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxD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QUM7SUFFRCxNQUFNLGVBQWUsR0FBRyxDQUFDLEdBQUcsYUFBYSxFQUFFLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQztJQUNoRSxNQUFNLGFBQWEsR0FBRyxXQUFXLENBQUMsZUFBZSxDQUFDLENBQUM7SUFFbkQsTUFBTSxZQUFZLENBQUMsb0JBQW9CLENBQUMsYUFBYSxFQUFFLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDNUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLGFBQWEsQ0FBQyxNQUFNLGFBQWEsQ0FBQyxDQUFDO0FBQzVELENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+WWteWWtemihOiuvumFjee9rueuoeeQhi/mraPliJnnu5Hlrprlip/og70udHM/Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNob3dSZWdleERlbGV0aW9uUG9wdXAgfSBmcm9tICcuL+i+heWKqeW8ueeql+WKn+iDvSc7XG5pbXBvcnQgeyBnZXRTdG9yZWRDb25maWdzLCByZW5kZXJDb25maWdzTGlzdCwgc2V0U3RvcmVkQ29uZmlncyB9IGZyb20gJy4v6YWN572u5a2Y5YKo5ZKM6K+75Y+WJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNob3dSZWdleEJpbmRpbmdQb3B1cChjb25maWdJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHBvcHVwSWQgPSAncHJlc2V0LW1hbmFnZXItcmVnZXgtcG9wdXAnO1xuICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgYWxsUmVnZXhlcyA9IGF3YWl0IFRhdmVybkhlbHBlci5nZXRUYXZlcm5SZWdleGVzKHsgc2NvcGU6ICdnbG9iYWwnIH0pO1xuICAgIGlmIChhbGxSZWdleGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdG9hc3RyLmluZm8oJ+ayoeacieWPr+e7keWumueahOWFqOWxgOato+WImeOAgicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbmZpZ3MgPSBhd2FpdCBnZXRTdG9yZWRDb25maWdzKCk7XG4gICAgY29uc3QgY3VycmVudENvbmZpZyA9IGNvbmZpZ3NbY29uZmlnSWRdO1xuICAgIGlmICghY3VycmVudENvbmZpZykgcmV0dXJuO1xuICAgIGNvbnN0IHNhdmVkU3RhdGVzID0gbmV3IE1hcChjdXJyZW50Q29uZmlnLnJlZ2V4U3RhdGVzPy5tYXAociA9PiBbci5pZCwgci5lbmFibGVkXSkgPz8gW10pO1xuXG4gICAgY29uc3QgcmVnZXhlc0h0bWwgPSBhbGxSZWdleGVzXG4gICAgICAubWFwKChyZWdleDogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQ2hlY2tlZCA9IHNhdmVkU3RhdGVzLmhhcyhyZWdleC5pZCkgPyBzYXZlZFN0YXRlcy5nZXQocmVnZXguaWQpIDogcmVnZXguZW5hYmxlZDtcbiAgICAgICAgY29uc3Qgc2FmZU5hbWUgPSAkKCc8ZGl2Lz4nKS50ZXh0KHJlZ2V4LnNjcmlwdF9uYW1lKS5odG1sKCk7XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgcGFkZGluZzogMTBweCA1cHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlO1wiPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwicmVnZXgtdG9nZ2xlLSR7cmVnZXguaWR9XCIgc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXI7IGZsZXg6IDE7IG1hcmdpbi1yaWdodDogMTBweDsgb3ZlcmZsb3c6IGhpZGRlbjsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IHdoaXRlLXNwYWNlOiBub3dyYXA7XCIgdGl0bGU9XCIke3NhZmVOYW1lfVwiPiR7c2FmZU5hbWV9PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicG0tc3dpdGNoXCI+XG4gICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cInJlZ2V4LXRvZ2dsZS0ke3JlZ2V4LmlkfVwiIGRhdGEtaWQ9XCIke3JlZ2V4LmlkfVwiICR7aXNDaGVja2VkID8gJ2NoZWNrZWQnIDogJyd9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwbS1zbGlkZXJcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCcnKTtcblxuICAgIGNvbnN0IHBvcHVwSHRtbCA9IGBcbiAgICAgICAgICAgIDxkaXYgaWQ9XCIke3BvcHVwSWR9XCIgc3R5bGU9XCJwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjUpOyB6LWluZGV4OiAxMDAwMTsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICNmZmY4ZjA7IGNvbG9yOiAjM2EyYzJjOyBib3JkZXItcmFkaXVzOiAxNnB4OyBwYWRkaW5nOiAyMHB4OyB3aWR0aDogOTAlOyBtYXgtd2lkdGg6IDQ1MHB4OyBib3gtc2hhZG93OiAwIDRweCAyNXB4IHJnYmEoMTIwLDkwLDYwLC4yNSk7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IG1heC1oZWlnaHQ6IDgwdmg7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxoNCBzdHlsZT1cIm1hcmdpbi10b3A6MDsgY29sb3I6I2M2MjgyODsgdGV4dC1hbGlnbjogY2VudGVyO1wiPuivt+mAieaLqee7keWumuato+WImTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJmbGV4OiAxOyBtaW4taGVpZ2h0OiAwOyBvdmVyZmxvdy15OiBhdXRvOyBtYXJnaW46IDE1cHggMDsgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNmMGUyZDA7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZjBlMmQwOyBwYWRkaW5nOiA1cHggMTBweDtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7cmVnZXhlc0h0bWx9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogcmlnaHQ7IGRpc3BsYXk6ZmxleDsganVzdGlmeS1jb250ZW50OmZsZXgtZW5kOyBnYXA6IDEwcHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwicmVnZXgtYmluZC1jbGVhclwiIHN0eWxlPVwicGFkZGluZzogOHB4IDE2cHg7IGJhY2tncm91bmQtY29sb3I6I2Y1YThhMDsgYm9yZGVyOm5vbmU7IGJvcmRlci1yYWRpdXM6NnB4OyBjdXJzb3I6cG9pbnRlcjsgY29sb3I6I2ZmZjtcIj7muIXpmaTnu5Hlrpo8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJyZWdleC1iaW5kLWNhbmNlbFwiIHN0eWxlPVwicGFkZGluZzogOHB4IDE2cHg7IGJhY2tncm91bmQtY29sb3I6I2UwZTBlMDsgYm9yZGVyOm5vbmU7IGJvcmRlci1yYWRpdXM6NnB4OyBjdXJzb3I6cG9pbnRlcjsgY29sb3I6IzMzMztcIj7lj5bmtog8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJyZWdleC1iaW5kLXNhdmVcIiBzdHlsZT1cInBhZGRpbmc6IDhweCAxNnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiNmNGM3OGU7IGJvcmRlcjpub25lOyBib3JkZXItcmFkaXVzOjZweDsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtd2VpZ2h0OmJvbGQ7IGNvbG9yOiMzYTJjMmM7XCI+5L+d5a2YPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgJCgnYm9keScpLmFwcGVuZChwb3B1cEh0bWwpO1xuICAgIGNvbnN0IG1vYmlsZVN0eWxlcyA9IGA8c3R5bGU+QG1lZGlhIChtYXgtd2lkdGg6IDYwMHB4KSB7ICMke3BvcHVwSWR9IHsgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQgIWltcG9ydGFudDsgfSAjJHtwb3B1cElkfSA+IGRpdiB7IG1hcmdpbi10b3A6IDV2aDsgfSB9PC9zdHlsZT5gO1xuICAgICQoYCMke3BvcHVwSWR9YCkuYXBwZW5kKG1vYmlsZVN0eWxlcyk7XG5cbiAgICAkKCcjcmVnZXgtYmluZC1jYW5jZWwnKS5vbignY2xpY2snLCAoKSA9PiAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpKTtcblxuICAgICQoJyNyZWdleC1iaW5kLWNsZWFyJykub24oJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlncyA9IGF3YWl0IGdldFN0b3JlZENvbmZpZ3MoKTtcbiAgICAgIGlmIChjb25maWdzW2NvbmZpZ0lkXSAmJiBjb25maWdzW2NvbmZpZ0lkXS5yZWdleFN0YXRlcykge1xuICAgICAgICBkZWxldGUgY29uZmlnc1tjb25maWdJZF0ucmVnZXhTdGF0ZXM7XG4gICAgICAgIGF3YWl0IHNldFN0b3JlZENvbmZpZ3MoY29uZmlncyk7XG4gICAgICAgIHRvYXN0ci5zdWNjZXNzKGDphY3nva4gXCIke2NvbmZpZ3NbY29uZmlnSWRdLm5hbWV9XCIg55qE5q2j5YiZ57uR5a6a5bey5riF6Zmk44CCYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2FzdHIuaW5mbyhg6YWN572u5rKh5pyJ5q2j5YiZ57uR5a6a44CCYCk7XG4gICAgICB9XG4gICAgICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuICAgICAgcmVuZGVyQ29uZmlnc0xpc3QoKTtcbiAgICB9KTtcblxuICAgICQoJyNyZWdleC1iaW5kLXNhdmUnKS5vbignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBuZXdSZWdleFN0YXRlcyA9IGFsbFJlZ2V4ZXMubWFwKChyZWdleDogYW55KSA9PiAoe1xuICAgICAgICBpZDogcmVnZXguaWQsXG4gICAgICAgIGVuYWJsZWQ6ICQoYCNyZWdleC10b2dnbGUtJHtyZWdleC5pZH1gKS5pcygnOmNoZWNrZWQnKSxcbiAgICAgIH0pKTtcblxuICAgICAgY29uc3QgY29uZmlncyA9IGF3YWl0IGdldFN0b3JlZENvbmZpZ3MoKTtcbiAgICAgIGlmICghY29uZmlnc1tjb25maWdJZF0pIHJldHVybjtcblxuICAgICAgY29uZmlnc1tjb25maWdJZF0ucmVnZXhTdGF0ZXMgPSBuZXdSZWdleFN0YXRlcztcbiAgICAgIGF3YWl0IHNldFN0b3JlZENvbmZpZ3MoY29uZmlncyk7XG5cbiAgICAgIHRvYXN0ci5zdWNjZXNzKGDphY3nva4gXCIke2NvbmZpZ3NbY29uZmlnSWRdLm5hbWV9XCIg55qE5q2j5YiZ57uR5a6a5bey5L+d5a2Y44CCYCk7XG4gICAgICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuICAgICAgcmVuZGVyQ29uZmlnc0xpc3QoKTtcblxuICAgICAgY29uc3QgY3VycmVudFByZXNldE5hbWUgPSBjb25maWdzW2NvbmZpZ0lkXS5wcmVzZXROYW1lO1xuICAgICAgaWYgKCFjdXJyZW50UHJlc2V0TmFtZSkgcmV0dXJuO1xuXG4gICAgICBjb25zdCBvdGhlckNvbmZpZ0lkcyA9IE9iamVjdC5rZXlzKGNvbmZpZ3MpLmZpbHRlcihcbiAgICAgICAgaWQgPT4gaWQgIT09IGNvbmZpZ0lkICYmIGNvbmZpZ3NbaWRdLnByZXNldE5hbWUgPT09IGN1cnJlbnRQcmVzZXROYW1lLFxuICAgICAgKTtcblxuICAgICAgaWYgKG90aGVyQ29uZmlnSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgY29uZmlybU1lc3NhZ2UgPSBg5piv5ZCm6KaB5bCG5q2k5q2j5YiZ57uR5a6a5bqU55So5Yiw5YW25LuW5L2/55So6aKE6K6+IFwiJHtjdXJyZW50UHJlc2V0TmFtZX1cIiDnmoQgJHtvdGhlckNvbmZpZ0lkcy5sZW5ndGh9IOS4qumFjee9ruS4iu+8n2A7XG4gICAgICAgIGNvbnN0IHVzZXJDaG9pY2UgPSBhd2FpdCB0cmlnZ2VyU2xhc2goXG4gICAgICAgICAgYC9wb3B1cCBva0J1dHRvbj1cIuW6lOeUqFwiIGNhbmNlbEJ1dHRvbj1cIuWPlua2iFwiIHJlc3VsdD10cnVlIFwiJHtjb25maXJtTWVzc2FnZX1cImAsXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKHVzZXJDaG9pY2UgPT09ICcxJykge1xuICAgICAgICAgIG90aGVyQ29uZmlnSWRzLmZvckVhY2goaWQgPT4ge1xuICAgICAgICAgICAgY29uZmlnc1tpZF0ucmVnZXhTdGF0ZXMgPSBuZXdSZWdleFN0YXRlcztcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhd2FpdCBzZXRTdG9yZWRDb25maWdzKGNvbmZpZ3MpO1xuICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKGDlt7LmiJDlip/lsIbmraPliJnnu5HlrprlupTnlKjliLAgJHtvdGhlckNvbmZpZ0lkcy5sZW5ndGh9IOS4quWQjOWQjemihOiuvumFjee9ruS4iuOAgmApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign5omT5byA5q2j5YiZ57uR5a6a55WM6Z2i5aSx6LSlOicsIGVycm9yKTtcbiAgICB0b2FzdHIuZXJyb3IoJ+aXoOazleWKoOi9veWFqOWxgOato+WImeWIl+ihqOOAgicpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3J0UmVnZXhlcyhyZWdleGVzOiBhbnlbXSk6IGFueVtdIHtcbiAgY29uc3QgZ2V0U29ydE51bWJlciA9IChuYW1lOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xuICAgIGNvbnN0IG1hdGNoID0gbmFtZS50cmltKCkubWF0Y2goL14oPzpcXFt844CQfFxcKHzvvIgpPyhcXGQrKSg/OlxcXXzjgJF8XFwpfO+8iXxcXC58LXxffFxccyk/Lyk7XG4gICAgaWYgKG1hdGNoICYmIG1hdGNoWzFdKSB7XG4gICAgICByZXR1cm4gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICB9XG4gICAgcmV0dXJuIEluZmluaXR5O1xuICB9O1xuXG4gIHJldHVybiByZWdleGVzLnNvcnQoKGEsIGIpID0+IHtcbiAgICBjb25zdCBudW1BID0gZ2V0U29ydE51bWJlcihhLnNjcmlwdF9uYW1lKTtcbiAgICBjb25zdCBudW1CID0gZ2V0U29ydE51bWJlcihiLnNjcmlwdF9uYW1lKTtcblxuICAgIGlmIChudW1BICE9PSBudW1CKSB7XG4gICAgICByZXR1cm4gbnVtQSAtIG51bUI7XG4gICAgfVxuICAgIHJldHVybiBhLnNjcmlwdF9uYW1lLmxvY2FsZUNvbXBhcmUoYi5zY3JpcHRfbmFtZSk7XG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW1wb3J0UmVnZXhMb2dpYyhyZWdleFRvSW1wb3J0OiBhbnlbXSk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBjdXJyZW50UmVnZXhlcyA9IGF3YWl0IFRhdmVybkhlbHBlci5nZXRUYXZlcm5SZWdleGVzKHsgc2NvcGU6ICdnbG9iYWwnIH0pO1xuICBsZXQgcmVtYWluaW5nUmVnZXhlcyA9IGN1cnJlbnRSZWdleGVzO1xuXG4gIGlmIChjdXJyZW50UmVnZXhlcyAmJiBjdXJyZW50UmVnZXhlcy5sZW5ndGggPiAwKSB7XG4gICAgcmVtYWluaW5nUmVnZXhlcyA9IGF3YWl0IHNob3dSZWdleERlbGV0aW9uUG9wdXAoY3VycmVudFJlZ2V4ZXMpO1xuICB9XG5cbiAgY29uc3QgY29tYmluZWRSZWdleGVzID0gWy4uLnJlZ2V4VG9JbXBvcnQsIC4uLnJlbWFpbmluZ1JlZ2V4ZXNdO1xuICBjb25zdCBzb3J0ZWRSZWdleGVzID0gc29ydFJlZ2V4ZXMoY29tYmluZWRSZWdleGVzKTtcblxuICBhd2FpdCBUYXZlcm5IZWxwZXIucmVwbGFjZVRhdmVyblJlZ2V4ZXMoc29ydGVkUmVnZXhlcywgeyBzY29wZTogJ2dsb2JhbCcgfSk7XG4gIHRvYXN0ci5zdWNjZXNzKGDmiJDlip/lr7zlhaUgJHtyZWdleFRvSW1wb3J0Lmxlbmd0aH0g5p2h5q2j5YiZ77yM5bm26YeN5paw5o6S5bqP44CCYCk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/喵喵预设配置管理/正则绑定功能.ts\n\n}");

/***/ }),

/***/ "./src/喵喵预设配置管理/界面创建和管理.ts":
/*!*********************************!*\
  !*** ./src/喵喵预设配置管理/界面创建和管理.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createUI: () => (/* binding */ createUI),\n/* harmony export */   toggleUI: () => (/* binding */ toggleUI),\n/* harmony export */   updateConfigListCache: () => (/* binding */ updateConfigListCache)\n/* harmony export */ });\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./初始化和配置 */ \"./src/喵喵预设配置管理/初始化和配置.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./导入导出功能 */ \"./src/喵喵预设配置管理/导入导出功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./批量操作功能 */ \"./src/喵喵预设配置管理/批量操作功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./条目分组功能 */ \"./src/喵喵预设配置管理/条目分组功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./辅助弹窗功能 */ \"./src/喵喵预设配置管理/辅助弹窗功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./配置存储和读取 */ \"./src/喵喵预设配置管理/配置存储和读取.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./配置操作功能 */ \"./src/喵喵预设配置管理/配置操作功能.ts\");\n\n\n\n\n\n\n\nfunction createUI() {\n    if ($(`#${___WEBPACK_IMPORTED_MODULE_0__.UI_ID}`).length > 0) {\n        // UI已存在，只需重新绑定事件\n        bindUIEvents();\n        return;\n    }\n    const uiContainer = $(`\n        <div id=\"${___WEBPACK_IMPORTED_MODULE_0__.UI_ID}\">\n            <style>\n                #${___WEBPACK_IMPORTED_MODULE_0__.UI_ID}{display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:10000;background-color:#fff8f0;color:#3a2c2c;border:1px solid #e0c9a6;border-radius:16px;padding:20px;box-shadow:0 4px 25px rgba(120,90,60,.25);width:90%;max-width:550px;max-height:80vh;font-family:'Segoe UI',sans-serif;display:flex;flex-direction:column}#${___WEBPACK_IMPORTED_MODULE_0__.UI_ID} h4{margin-top:0;border-bottom:2px solid #f0d8b6;padding-bottom:10px;color:#6a4226}#${___WEBPACK_IMPORTED_MODULE_0__.UI_ID} h5{margin:8px 0;color:#7a5235}#${___WEBPACK_IMPORTED_MODULE_0__.UI_ID} button{transition:all .2s ease}#${___WEBPACK_IMPORTED_MODULE_0__.UI_ID} button:hover{opacity:.85}#${___WEBPACK_IMPORTED_MODULE_0__.UI_ID} #preset-manager-list-section{flex:1;overflow-y:auto}@media (max-width:600px){#${___WEBPACK_IMPORTED_MODULE_0__.UI_ID}{top:0;left:0;transform:none;width:100%;height:100vh;max-width:none;max-height:none;border-radius:0;padding:10px;box-shadow:none;display:flex;flex-direction:column}#${___WEBPACK_IMPORTED_MODULE_0__.UI_ID} h4{font-size:18px;text-align:center;padding:12px 0;margin:0;border-bottom:2px solid #f0d8b6}#${___WEBPACK_IMPORTED_MODULE_0__.UI_ID} #preset-manager-close{top:10px;right:10px;font-size:28px}#${___WEBPACK_IMPORTED_MODULE_0__.UI_ID} #preset-manager-save-section{flex-wrap:wrap}#${___WEBPACK_IMPORTED_MODULE_0__.UI_ID} #preset-manager-name-input{width:100%;margin-left:0;margin-bottom:10px}}\n                .pm-switch{position:relative;display:inline-block;width:40px;height:20px;flex-shrink:0}.pm-switch input{opacity:0;width:0;height:0}.pm-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.4s;border-radius:20px}.pm-slider:before{position:absolute;content:\"\";height:16px;width:16px;left:2px;bottom:2px;background-color:#fff;transition:.4s;border-radius:50%}input:checked+.pm-slider{background-color:#4CAF50}input:checked+.pm-slider:before{transform:translateX(20px)}\n                #preset-manager-tips-section { margin-top: 15px; padding: 10px; background-color: #f9f3ea; border-radius: 8px; font-size: 12px; color: #7a5235; text-align: center; flex-shrink: 0; }\n                .pm-config-group summary { cursor: pointer; padding: 8px; background-color: #f7f0e4; border-radius: 6px; margin-top: 5px; font-weight: bold; } .pm-config-group summary:hover { background-color: #f0e2d0; } .pm-config-count { color: #888; font-weight: normal; margin-left: 5px; } .pm-config-sublist { list-style: none; padding-left: 15px; border-left: 2px solid #f0e2d0; margin-left: 8px; }\n                .pm-actions-container { display: flex; align-items: center; gap: 5px; justify-content: flex-end; }\n                .pm-actions-container > button, .pm-more-btn-wrapper > button { flex-shrink: 0; padding: 6px 12px; font-size: 13px; font-weight: 500; border-radius: 6px; cursor: pointer; border: none; }\n                .pm-more-btn-wrapper { position: relative; }\n                .pm-submenu { display: none; position: absolute; right: 0; top: calc(100% + 5px); background-color: #fff; border: 1px solid #e0c9a6; border-radius: 8px; box-shadow: 0 3px 15px rgba(120,90,60,.15); z-index: 10003; padding: 5px; min-width: 100px; }\n                .pm-submenu button { display: block; width: 100%; text-align: left; padding: 8px 12px; border: none; background: none; font-size: 13px; border-radius: 4px; color: #3a2c2c; cursor: pointer; }\n                .pm-submenu button:hover { background-color: #f0e2d0; }\n            </style>\n\n            <h4>喵喵预设配置管理by小n</h4>\n            <button id=\"preset-manager-close\" style=\"position:absolute; top:12px; right:16px; background:none; border:none; color:#9a6b4f; font-size:24px; cursor:pointer;\">&times;</button>\n            \n            <div id=\"preset-manager-save-section\" style=\"margin-bottom: 20px; margin-top:15px;\">\n                <div style=\"display:flex; flex-wrap: wrap; align-items:center;\">\n                    <label for=\"preset-manager-name-input\" style=\"font-weight:bold; flex-shrink:0;\">配置名称:</label>\n                    <input type=\"text\" id=\"preset-manager-name-input\" placeholder=\"例如：仅破限\" style=\"flex:1; min-width: 100px; margin-left: 10px; background-color: #fff; border: 1px solid #d4b58b; color:#3a2c2c; padding: 6px 8px; border-radius: 6px; font-size:14px;\" />\n                    <button id=\"preset-manager-save-btn\" style=\"margin-left: 10px; padding:6px 12px; background-color:#f4c78e; border:none; border-radius:6px; color:#3a2c2c; cursor:pointer; font-weight:bold;\">保存</button>\n                </div>\n                <div style=\"margin-top: 10px; display:flex; align-items:center; padding-left: 5px;\">\n                   <label for=\"preset-manager-bind-char\" style=\"cursor:pointer;\">绑定到当前角色</label>\n                   <label class=\"pm-switch\" style=\"margin-left: auto;\">\n                      <input type=\"checkbox\" id=\"preset-manager-bind-char\"/>\n                      <span class=\"pm-slider\"></span>\n                   </label>\n                </div>\n                <!-- 分割线 -->\n                <hr style=\"margin: 15px 0; border: none; border-top: 1px solid #e0c9a6; opacity: 0.6;\">\n                <div style=\"display:flex; flex-wrap: wrap; gap: 10px; align-items:center;\">\n                    <button id=\"preset-manager-help-btn\" style=\"padding:6px 12px; background-color:#bcaaa4; border:none; border-radius:6px; color:#3a2c2c; cursor:pointer; font-weight:bold;\">使用说明</button>\n                    <button id=\"preset-manager-import-btn\" style=\"padding:6px 12px; background-color:#a5d6f9; border:none; border-radius:6px; color:#3a2c2c; cursor:pointer; font-weight:bold;\">导入</button>\n                    <button id=\"preset-manager-batch-export-btn\" style=\"padding:6px 12px; background-color:#81c784; border:none; border-radius:6px; color:#3a2c2c; cursor:pointer; font-weight:bold;\">批量导出</button>\n                    <button id=\"preset-manager-batch-delete-btn\" style=\"padding:6px 12px; background-color:#ef9a9a; border:none; border-radius:6px; color:#fff; cursor:pointer; font-weight:bold;\">批量删除</button>\n                    <button id=\"preset-manager-grouping-btn\" style=\"padding:6px 12px; background-color:#9c27b0; border:none; border-radius:6px; color:#fff; cursor:pointer; font-weight:bold;\">预设编辑器</button>\n                </div>\n            </div>\n\n            <div id=\"preset-manager-list-section\">\n                <h5>已保存的配置:</h5>\n                <ul id=\"preset-manager-list\" style=\"list-style:none; padding:0; margin:0;\"></ul>\n            </div>\n\n            <div id=\"preset-manager-tips-section\"></div>\n        </div>\n    `);\n    $('body').append(uiContainer);\n    $('body').append('<input type=\"file\" id=\"preset-manager-import-file\" accept=\".json\" style=\"display:none;\">');\n    $(`#${___WEBPACK_IMPORTED_MODULE_0__.UI_ID}`).hide();\n    // 绑定事件处理器\n    bindUIEvents();\n}\nfunction bindUIEvents() {\n    console.log('🔗 开始绑定UI事件...');\n    // 先解绑所有事件，避免重复绑定\n    $('#preset-manager-close').off('click');\n    $('#preset-manager-help-btn').off('click');\n    $('#preset-manager-save-btn').off('click');\n    $('#preset-manager-import-btn').off('click');\n    $('#preset-manager-batch-export-btn').off('click');\n    $('#preset-manager-batch-delete-btn').off('click');\n    $('#preset-manager-grouping-btn').off('click');\n    $('#preset-manager-import-file').off('change');\n    $('#preset-manager-close').on('click', () => {\n        console.log('🖱️ 关闭按钮被点击');\n        toggleUI();\n    });\n    $('#preset-manager-help-btn').on('click', () => {\n        console.log('🖱️ 帮助按钮被点击');\n        (0,___WEBPACK_IMPORTED_MODULE_4__.showHelpPopup)();\n    });\n    $('#preset-manager-save-btn').on('click', () => {\n        console.log('🖱️ 保存按钮被点击');\n        (0,___WEBPACK_IMPORTED_MODULE_6__.saveCurrentConfig)();\n    });\n    $('#preset-manager-import-btn').on('click', () => {\n        console.log('🖱️ 导入按钮被点击');\n        $('#preset-manager-import-file').click();\n    });\n    $('#preset-manager-batch-export-btn').on('click', () => {\n        console.log('🖱️ 批量导出按钮被点击');\n        (0,___WEBPACK_IMPORTED_MODULE_2__.showBatchExportPopup)();\n    });\n    $('#preset-manager-batch-delete-btn').on('click', () => {\n        console.log('🖱️ 批量删除按钮被点击');\n        (0,___WEBPACK_IMPORTED_MODULE_2__.showBatchDeletePopup)();\n    });\n    $('#preset-manager-grouping-btn').on('click', () => {\n        console.log('🖱️ 条目分组按钮被点击');\n        (0,___WEBPACK_IMPORTED_MODULE_3__.showPromptGroupingUI)();\n    });\n    $('#preset-manager-import-file').on('change', event => {\n        console.log('🖱️ 文件选择发生变化');\n        (0,___WEBPACK_IMPORTED_MODULE_1__.handleFileImport)(event);\n    });\n    console.log('✅ UI事件绑定完成');\n}\n// 缓存配置列表，避免重复渲染\nlet configListCache = null;\nlet lastConfigUpdateTime = 0;\nconst CACHE_DURATION = 5000; // 5秒缓存\nfunction toggleUI() {\n    const ui = $(`#${___WEBPACK_IMPORTED_MODULE_0__.UI_ID}`);\n    if (ui.is(':visible')) {\n        ui.fadeOut(200); // 减少动画时间\n    }\n    else {\n        // 检查缓存是否有效\n        const now = Date.now();\n        if (!configListCache || now - lastConfigUpdateTime > CACHE_DURATION) {\n            (0,___WEBPACK_IMPORTED_MODULE_5__.renderConfigsList)();\n            lastConfigUpdateTime = now;\n        }\n        else {\n            // 使用缓存的配置列表\n            $('#preset-manager-list').html(configListCache);\n        }\n        const randomTip = ___WEBPACK_IMPORTED_MODULE_0__.TIPS[Math.floor(Math.random() * ___WEBPACK_IMPORTED_MODULE_0__.TIPS.length)];\n        $('#preset-manager-tips-section').text('小贴士：' + randomTip);\n        ui.fadeIn(200); // 减少动画时间\n    }\n}\n// 更新缓存\nfunction updateConfigListCache() {\n    configListCache = $('#preset-manager-list').html();\n    lastConfigUpdateTime = Date.now();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5Za15Za16aKE6K6+6YWN572u566h55CGL+eVjOmdouWIm+W7uuWSjOeuoeeQhi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXVDO0FBQ0s7QUFDMEI7QUFDdEI7QUFDUDtBQUNLO0FBQ0Q7QUFFdEMsU0FBUyxRQUFRO0lBQ3RCLElBQUksQ0FBQyxDQUFDLElBQUksb0NBQUssRUFBRSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQzlCLGlCQUFpQjtRQUNqQixZQUFZLEVBQUUsQ0FBQztRQUNmLE9BQU87SUFDVCxDQUFDO0lBRUQsTUFBTSxXQUFXLEdBQUcsQ0FBQyxDQUFDO21CQUNMLG9DQUFLOzttQkFFTCxvQ0FBSyx3VkFBd1Ysb0NBQUssdUZBQXVGLG9DQUFLLG1DQUFtQyxvQ0FBSyxvQ0FBb0Msb0NBQUssOEJBQThCLG9DQUFLLGtGQUFrRixvQ0FBSyx3S0FBd0ssb0NBQUssaUdBQWlHLG9DQUFLLDhEQUE4RCxvQ0FBSyxpREFBaUQsb0NBQUs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7S0E4Q25pQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzlCLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsMEZBQTBGLENBQUMsQ0FBQztJQUU3RyxDQUFDLENBQUMsSUFBSSxvQ0FBSyxFQUFFLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUV0QixVQUFVO0lBQ1YsWUFBWSxFQUFFLENBQUM7QUFDakIsQ0FBQztBQUVELFNBQVMsWUFBWTtJQUNuQixPQUFPLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFFOUIsaUJBQWlCO0lBQ2pCLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN4QyxDQUFDLENBQUMsMEJBQTBCLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDM0MsQ0FBQyxDQUFDLDBCQUEwQixDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzNDLENBQUMsQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUM3QyxDQUFDLENBQUMsa0NBQWtDLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbkQsQ0FBQyxDQUFDLGtDQUFrQyxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ25ELENBQUMsQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQyxDQUFDLENBQUMsNkJBQTZCLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7SUFFL0MsQ0FBQyxDQUFDLHVCQUF1QixDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7UUFDMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUMzQixRQUFRLEVBQUUsQ0FBQztJQUNiLENBQUMsQ0FBQyxDQUFDO0lBRUgsQ0FBQyxDQUFDLDBCQUEwQixDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7UUFDN0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUMzQixnREFBYSxFQUFFLENBQUM7SUFDbEIsQ0FBQyxDQUFDLENBQUM7SUFFSCxDQUFDLENBQUMsMEJBQTBCLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtRQUM3QyxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzNCLG9EQUFpQixFQUFFLENBQUM7SUFDdEIsQ0FBQyxDQUFDLENBQUM7SUFFSCxDQUFDLENBQUMsNEJBQTRCLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtRQUMvQyxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzNCLENBQUMsQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzNDLENBQUMsQ0FBQyxDQUFDO0lBRUgsQ0FBQyxDQUFDLGtDQUFrQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7UUFDckQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUM3Qix1REFBb0IsRUFBRSxDQUFDO0lBQ3pCLENBQUMsQ0FBQyxDQUFDO0lBRUgsQ0FBQyxDQUFDLGtDQUFrQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7UUFDckQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUM3Qix1REFBb0IsRUFBRSxDQUFDO0lBQ3pCLENBQUMsQ0FBQyxDQUFDO0lBRUgsQ0FBQyxDQUFDLDhCQUE4QixDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7UUFDakQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUM3Qix1REFBb0IsRUFBRSxDQUFDO0lBQ3pCLENBQUMsQ0FBQyxDQUFDO0lBRUgsQ0FBQyxDQUFDLDZCQUE2QixDQUFDLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsRUFBRTtRQUNwRCxPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQzVCLG1EQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzFCLENBQUMsQ0FBQyxDQUFDO0lBRUgsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUM1QixDQUFDO0FBRUQsZ0JBQWdCO0FBQ2hCLElBQUksZUFBZSxHQUFrQixJQUFJLENBQUM7QUFDMUMsSUFBSSxvQkFBb0IsR0FBRyxDQUFDLENBQUM7QUFDN0IsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLENBQUMsT0FBTztBQUU3QixTQUFTLFFBQVE7SUFDdEIsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLElBQUksb0NBQUssRUFBRSxDQUFDLENBQUM7SUFDMUIsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUM7UUFDdEIsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVM7SUFDNUIsQ0FBQztTQUFNLENBQUM7UUFDTixXQUFXO1FBQ1gsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxlQUFlLElBQUksR0FBRyxHQUFHLG9CQUFvQixHQUFHLGNBQWMsRUFBRSxDQUFDO1lBQ3BFLG9EQUFpQixFQUFFLENBQUM7WUFDcEIsb0JBQW9CLEdBQUcsR0FBRyxDQUFDO1FBQzdCLENBQUM7YUFBTSxDQUFDO1lBQ04sWUFBWTtZQUNaLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUNsRCxDQUFDO1FBRUQsTUFBTSxTQUFTLEdBQUcsbUNBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxtQ0FBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDaEUsQ0FBQyxDQUFDLDhCQUE4QixDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUMsQ0FBQztRQUMzRCxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsU0FBUztJQUMzQixDQUFDO0FBQ0gsQ0FBQztBQUVELE9BQU87QUFDQSxTQUFTLHFCQUFxQjtJQUNuQyxlQUFlLEdBQUcsQ0FBQyxDQUFDLHNCQUFzQixDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDbkQsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ3BDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlLy4vc3JjL+WWteWWtemihOiuvumFjee9rueuoeeQhi/nlYzpnaLliJvlu7rlkoznrqHnkIYudHM/Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRJUFMsIFVJX0lEIH0gZnJvbSAnLi/liJ3lp4vljJblkozphY3nva4nO1xuaW1wb3J0IHsgaGFuZGxlRmlsZUltcG9ydCB9IGZyb20gJy4v5a+85YWl5a+85Ye65Yqf6IO9JztcbmltcG9ydCB7IHNob3dCYXRjaERlbGV0ZVBvcHVwLCBzaG93QmF0Y2hFeHBvcnRQb3B1cCB9IGZyb20gJy4v5om56YeP5pON5L2c5Yqf6IO9JztcbmltcG9ydCB7IHNob3dQcm9tcHRHcm91cGluZ1VJIH0gZnJvbSAnLi/mnaHnm67liIbnu4Tlip/og70nO1xuaW1wb3J0IHsgc2hvd0hlbHBQb3B1cCB9IGZyb20gJy4v6L6F5Yqp5by556qX5Yqf6IO9JztcbmltcG9ydCB7IHJlbmRlckNvbmZpZ3NMaXN0IH0gZnJvbSAnLi/phY3nva7lrZjlgqjlkozor7vlj5YnO1xuaW1wb3J0IHsgc2F2ZUN1cnJlbnRDb25maWcgfSBmcm9tICcuL+mFjee9ruaTjeS9nOWKn+iDvSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVVSSgpOiB2b2lkIHtcbiAgaWYgKCQoYCMke1VJX0lEfWApLmxlbmd0aCA+IDApIHtcbiAgICAvLyBVSeW3suWtmOWcqO+8jOWPqumcgOmHjeaWsOe7keWumuS6i+S7tlxuICAgIGJpbmRVSUV2ZW50cygpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHVpQ29udGFpbmVyID0gJChgXG4gICAgICAgIDxkaXYgaWQ9XCIke1VJX0lEfVwiPlxuICAgICAgICAgICAgPHN0eWxlPlxuICAgICAgICAgICAgICAgICMke1VJX0lEfXtkaXNwbGF5Om5vbmU7cG9zaXRpb246Zml4ZWQ7dG9wOjUwJTtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7ei1pbmRleDoxMDAwMDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY4ZjA7Y29sb3I6IzNhMmMyYztib3JkZXI6MXB4IHNvbGlkICNlMGM5YTY7Ym9yZGVyLXJhZGl1czoxNnB4O3BhZGRpbmc6MjBweDtib3gtc2hhZG93OjAgNHB4IDI1cHggcmdiYSgxMjAsOTAsNjAsLjI1KTt3aWR0aDo5MCU7bWF4LXdpZHRoOjU1MHB4O21heC1oZWlnaHQ6ODB2aDtmb250LWZhbWlseTonU2Vnb2UgVUknLHNhbnMtc2VyaWY7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0jJHtVSV9JRH0gaDR7bWFyZ2luLXRvcDowO2JvcmRlci1ib3R0b206MnB4IHNvbGlkICNmMGQ4YjY7cGFkZGluZy1ib3R0b206MTBweDtjb2xvcjojNmE0MjI2fSMke1VJX0lEfSBoNXttYXJnaW46OHB4IDA7Y29sb3I6IzdhNTIzNX0jJHtVSV9JRH0gYnV0dG9ue3RyYW5zaXRpb246YWxsIC4ycyBlYXNlfSMke1VJX0lEfSBidXR0b246aG92ZXJ7b3BhY2l0eTouODV9IyR7VUlfSUR9ICNwcmVzZXQtbWFuYWdlci1saXN0LXNlY3Rpb257ZmxleDoxO292ZXJmbG93LXk6YXV0b31AbWVkaWEgKG1heC13aWR0aDo2MDBweCl7IyR7VUlfSUR9e3RvcDowO2xlZnQ6MDt0cmFuc2Zvcm06bm9uZTt3aWR0aDoxMDAlO2hlaWdodDoxMDB2aDttYXgtd2lkdGg6bm9uZTttYXgtaGVpZ2h0Om5vbmU7Ym9yZGVyLXJhZGl1czowO3BhZGRpbmc6MTBweDtib3gtc2hhZG93Om5vbmU7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0jJHtVSV9JRH0gaDR7Zm9udC1zaXplOjE4cHg7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzoxMnB4IDA7bWFyZ2luOjA7Ym9yZGVyLWJvdHRvbToycHggc29saWQgI2YwZDhiNn0jJHtVSV9JRH0gI3ByZXNldC1tYW5hZ2VyLWNsb3Nle3RvcDoxMHB4O3JpZ2h0OjEwcHg7Zm9udC1zaXplOjI4cHh9IyR7VUlfSUR9ICNwcmVzZXQtbWFuYWdlci1zYXZlLXNlY3Rpb257ZmxleC13cmFwOndyYXB9IyR7VUlfSUR9ICNwcmVzZXQtbWFuYWdlci1uYW1lLWlucHV0e3dpZHRoOjEwMCU7bWFyZ2luLWxlZnQ6MDttYXJnaW4tYm90dG9tOjEwcHh9fVxuICAgICAgICAgICAgICAgIC5wbS1zd2l0Y2h7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6NDBweDtoZWlnaHQ6MjBweDtmbGV4LXNocmluazowfS5wbS1zd2l0Y2ggaW5wdXR7b3BhY2l0eTowO3dpZHRoOjA7aGVpZ2h0OjB9LnBtLXNsaWRlcntwb3NpdGlvbjphYnNvbHV0ZTtjdXJzb3I6cG9pbnRlcjt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MDtiYWNrZ3JvdW5kLWNvbG9yOiNjY2M7dHJhbnNpdGlvbjouNHM7Ym9yZGVyLXJhZGl1czoyMHB4fS5wbS1zbGlkZXI6YmVmb3Jle3Bvc2l0aW9uOmFic29sdXRlO2NvbnRlbnQ6XCJcIjtoZWlnaHQ6MTZweDt3aWR0aDoxNnB4O2xlZnQ6MnB4O2JvdHRvbToycHg7YmFja2dyb3VuZC1jb2xvcjojZmZmO3RyYW5zaXRpb246LjRzO2JvcmRlci1yYWRpdXM6NTAlfWlucHV0OmNoZWNrZWQrLnBtLXNsaWRlcntiYWNrZ3JvdW5kLWNvbG9yOiM0Q0FGNTB9aW5wdXQ6Y2hlY2tlZCsucG0tc2xpZGVyOmJlZm9yZXt0cmFuc2Zvcm06dHJhbnNsYXRlWCgyMHB4KX1cbiAgICAgICAgICAgICAgICAjcHJlc2V0LW1hbmFnZXItdGlwcy1zZWN0aW9uIHsgbWFyZ2luLXRvcDogMTVweDsgcGFkZGluZzogMTBweDsgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjNlYTsgYm9yZGVyLXJhZGl1czogOHB4OyBmb250LXNpemU6IDEycHg7IGNvbG9yOiAjN2E1MjM1OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGZsZXgtc2hyaW5rOiAwOyB9XG4gICAgICAgICAgICAgICAgLnBtLWNvbmZpZy1ncm91cCBzdW1tYXJ5IHsgY3Vyc29yOiBwb2ludGVyOyBwYWRkaW5nOiA4cHg7IGJhY2tncm91bmQtY29sb3I6ICNmN2YwZTQ7IGJvcmRlci1yYWRpdXM6IDZweDsgbWFyZ2luLXRvcDogNXB4OyBmb250LXdlaWdodDogYm9sZDsgfSAucG0tY29uZmlnLWdyb3VwIHN1bW1hcnk6aG92ZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBlMmQwOyB9IC5wbS1jb25maWctY291bnQgeyBjb2xvcjogIzg4ODsgZm9udC13ZWlnaHQ6IG5vcm1hbDsgbWFyZ2luLWxlZnQ6IDVweDsgfSAucG0tY29uZmlnLXN1Ymxpc3QgeyBsaXN0LXN0eWxlOiBub25lOyBwYWRkaW5nLWxlZnQ6IDE1cHg7IGJvcmRlci1sZWZ0OiAycHggc29saWQgI2YwZTJkMDsgbWFyZ2luLWxlZnQ6IDhweDsgfVxuICAgICAgICAgICAgICAgIC5wbS1hY3Rpb25zLWNvbnRhaW5lciB7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogNXB4OyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOyB9XG4gICAgICAgICAgICAgICAgLnBtLWFjdGlvbnMtY29udGFpbmVyID4gYnV0dG9uLCAucG0tbW9yZS1idG4td3JhcHBlciA+IGJ1dHRvbiB7IGZsZXgtc2hyaW5rOiAwOyBwYWRkaW5nOiA2cHggMTJweDsgZm9udC1zaXplOiAxM3B4OyBmb250LXdlaWdodDogNTAwOyBib3JkZXItcmFkaXVzOiA2cHg7IGN1cnNvcjogcG9pbnRlcjsgYm9yZGVyOiBub25lOyB9XG4gICAgICAgICAgICAgICAgLnBtLW1vcmUtYnRuLXdyYXBwZXIgeyBwb3NpdGlvbjogcmVsYXRpdmU7IH1cbiAgICAgICAgICAgICAgICAucG0tc3VibWVudSB7IGRpc3BsYXk6IG5vbmU7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgcmlnaHQ6IDA7IHRvcDogY2FsYygxMDAlICsgNXB4KTsgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsgYm9yZGVyOiAxcHggc29saWQgI2UwYzlhNjsgYm9yZGVyLXJhZGl1czogOHB4OyBib3gtc2hhZG93OiAwIDNweCAxNXB4IHJnYmEoMTIwLDkwLDYwLC4xNSk7IHotaW5kZXg6IDEwMDAzOyBwYWRkaW5nOiA1cHg7IG1pbi13aWR0aDogMTAwcHg7IH1cbiAgICAgICAgICAgICAgICAucG0tc3VibWVudSBidXR0b24geyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDEwMCU7IHRleHQtYWxpZ246IGxlZnQ7IHBhZGRpbmc6IDhweCAxMnB4OyBib3JkZXI6IG5vbmU7IGJhY2tncm91bmQ6IG5vbmU7IGZvbnQtc2l6ZTogMTNweDsgYm9yZGVyLXJhZGl1czogNHB4OyBjb2xvcjogIzNhMmMyYzsgY3Vyc29yOiBwb2ludGVyOyB9XG4gICAgICAgICAgICAgICAgLnBtLXN1Ym1lbnUgYnV0dG9uOmhvdmVyIHsgYmFja2dyb3VuZC1jb2xvcjogI2YwZTJkMDsgfVxuICAgICAgICAgICAgPC9zdHlsZT5cblxuICAgICAgICAgICAgPGg0PuWWteWWtemihOiuvumFjee9rueuoeeQhmJ55bCPbjwvaDQ+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwicHJlc2V0LW1hbmFnZXItY2xvc2VcIiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlOyB0b3A6MTJweDsgcmlnaHQ6MTZweDsgYmFja2dyb3VuZDpub25lOyBib3JkZXI6bm9uZTsgY29sb3I6IzlhNmI0ZjsgZm9udC1zaXplOjI0cHg7IGN1cnNvcjpwb2ludGVyO1wiPiZ0aW1lczs8L2J1dHRvbj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBpZD1cInByZXNldC1tYW5hZ2VyLXNhdmUtc2VjdGlvblwiIHN0eWxlPVwibWFyZ2luLWJvdHRvbTogMjBweDsgbWFyZ2luLXRvcDoxNXB4O1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OmZsZXg7IGZsZXgtd3JhcDogd3JhcDsgYWxpZ24taXRlbXM6Y2VudGVyO1wiPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwicHJlc2V0LW1hbmFnZXItbmFtZS1pbnB1dFwiIHN0eWxlPVwiZm9udC13ZWlnaHQ6Ym9sZDsgZmxleC1zaHJpbms6MDtcIj7phY3nva7lkI3np7A6PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJwcmVzZXQtbWFuYWdlci1uYW1lLWlucHV0XCIgcGxhY2Vob2xkZXI9XCLkvovlpoLvvJrku4XnoLTpmZBcIiBzdHlsZT1cImZsZXg6MTsgbWluLXdpZHRoOiAxMDBweDsgbWFyZ2luLWxlZnQ6IDEwcHg7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlcjogMXB4IHNvbGlkICNkNGI1OGI7IGNvbG9yOiMzYTJjMmM7IHBhZGRpbmc6IDZweCA4cHg7IGJvcmRlci1yYWRpdXM6IDZweDsgZm9udC1zaXplOjE0cHg7XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInByZXNldC1tYW5hZ2VyLXNhdmUtYnRuXCIgc3R5bGU9XCJtYXJnaW4tbGVmdDogMTBweDsgcGFkZGluZzo2cHggMTJweDsgYmFja2dyb3VuZC1jb2xvcjojZjRjNzhlOyBib3JkZXI6bm9uZTsgYm9yZGVyLXJhZGl1czo2cHg7IGNvbG9yOiMzYTJjMmM7IGN1cnNvcjpwb2ludGVyOyBmb250LXdlaWdodDpib2xkO1wiPuS/neWtmDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW4tdG9wOiAxMHB4OyBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgcGFkZGluZy1sZWZ0OiA1cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInByZXNldC1tYW5hZ2VyLWJpbmQtY2hhclwiIHN0eWxlPVwiY3Vyc29yOnBvaW50ZXI7XCI+57uR5a6a5Yiw5b2T5YmN6KeS6ImyPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJwbS1zd2l0Y2hcIiBzdHlsZT1cIm1hcmdpbi1sZWZ0OiBhdXRvO1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cInByZXNldC1tYW5hZ2VyLWJpbmQtY2hhclwiLz5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInBtLXNsaWRlclwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwhLS0g5YiG5Ymy57q/IC0tPlxuICAgICAgICAgICAgICAgIDxociBzdHlsZT1cIm1hcmdpbjogMTVweCAwOyBib3JkZXI6IG5vbmU7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTBjOWE2OyBvcGFjaXR5OiAwLjY7XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6ZmxleDsgZmxleC13cmFwOiB3cmFwOyBnYXA6IDEwcHg7IGFsaWduLWl0ZW1zOmNlbnRlcjtcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInByZXNldC1tYW5hZ2VyLWhlbHAtYnRuXCIgc3R5bGU9XCJwYWRkaW5nOjZweCAxMnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiNiY2FhYTQ7IGJvcmRlcjpub25lOyBib3JkZXItcmFkaXVzOjZweDsgY29sb3I6IzNhMmMyYzsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtd2VpZ2h0OmJvbGQ7XCI+5L2/55So6K+05piOPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwcmVzZXQtbWFuYWdlci1pbXBvcnQtYnRuXCIgc3R5bGU9XCJwYWRkaW5nOjZweCAxMnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiNhNWQ2Zjk7IGJvcmRlcjpub25lOyBib3JkZXItcmFkaXVzOjZweDsgY29sb3I6IzNhMmMyYzsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtd2VpZ2h0OmJvbGQ7XCI+5a+85YWlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwcmVzZXQtbWFuYWdlci1iYXRjaC1leHBvcnQtYnRuXCIgc3R5bGU9XCJwYWRkaW5nOjZweCAxMnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiM4MWM3ODQ7IGJvcmRlcjpub25lOyBib3JkZXItcmFkaXVzOjZweDsgY29sb3I6IzNhMmMyYzsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtd2VpZ2h0OmJvbGQ7XCI+5om56YeP5a+85Ye6PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwcmVzZXQtbWFuYWdlci1iYXRjaC1kZWxldGUtYnRuXCIgc3R5bGU9XCJwYWRkaW5nOjZweCAxMnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiNlZjlhOWE7IGJvcmRlcjpub25lOyBib3JkZXItcmFkaXVzOjZweDsgY29sb3I6I2ZmZjsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtd2VpZ2h0OmJvbGQ7XCI+5om56YeP5Yig6ZmkPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwcmVzZXQtbWFuYWdlci1ncm91cGluZy1idG5cIiBzdHlsZT1cInBhZGRpbmc6NnB4IDEycHg7IGJhY2tncm91bmQtY29sb3I6IzljMjdiMDsgYm9yZGVyOm5vbmU7IGJvcmRlci1yYWRpdXM6NnB4OyBjb2xvcjojZmZmOyBjdXJzb3I6cG9pbnRlcjsgZm9udC13ZWlnaHQ6Ym9sZDtcIj7pooTorr7nvJbovpHlmag8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGlkPVwicHJlc2V0LW1hbmFnZXItbGlzdC1zZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgPGg1PuW3suS/neWtmOeahOmFjee9rjo8L2g1PlxuICAgICAgICAgICAgICAgIDx1bCBpZD1cInByZXNldC1tYW5hZ2VyLWxpc3RcIiBzdHlsZT1cImxpc3Qtc3R5bGU6bm9uZTsgcGFkZGluZzowOyBtYXJnaW46MDtcIj48L3VsPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJwcmVzZXQtbWFuYWdlci10aXBzLXNlY3Rpb25cIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgYCk7XG4gICQoJ2JvZHknKS5hcHBlbmQodWlDb250YWluZXIpO1xuICAkKCdib2R5JykuYXBwZW5kKCc8aW5wdXQgdHlwZT1cImZpbGVcIiBpZD1cInByZXNldC1tYW5hZ2VyLWltcG9ydC1maWxlXCIgYWNjZXB0PVwiLmpzb25cIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj4nKTtcblxuICAkKGAjJHtVSV9JRH1gKS5oaWRlKCk7XG5cbiAgLy8g57uR5a6a5LqL5Lu25aSE55CG5ZmoXG4gIGJpbmRVSUV2ZW50cygpO1xufVxuXG5mdW5jdGlvbiBiaW5kVUlFdmVudHMoKTogdm9pZCB7XG4gIGNvbnNvbGUubG9nKCfwn5SXIOW8gOWni+e7keWumlVJ5LqL5Lu2Li4uJyk7XG5cbiAgLy8g5YWI6Kej57uR5omA5pyJ5LqL5Lu277yM6YG/5YWN6YeN5aSN57uR5a6aXG4gICQoJyNwcmVzZXQtbWFuYWdlci1jbG9zZScpLm9mZignY2xpY2snKTtcbiAgJCgnI3ByZXNldC1tYW5hZ2VyLWhlbHAtYnRuJykub2ZmKCdjbGljaycpO1xuICAkKCcjcHJlc2V0LW1hbmFnZXItc2F2ZS1idG4nKS5vZmYoJ2NsaWNrJyk7XG4gICQoJyNwcmVzZXQtbWFuYWdlci1pbXBvcnQtYnRuJykub2ZmKCdjbGljaycpO1xuICAkKCcjcHJlc2V0LW1hbmFnZXItYmF0Y2gtZXhwb3J0LWJ0bicpLm9mZignY2xpY2snKTtcbiAgJCgnI3ByZXNldC1tYW5hZ2VyLWJhdGNoLWRlbGV0ZS1idG4nKS5vZmYoJ2NsaWNrJyk7XG4gICQoJyNwcmVzZXQtbWFuYWdlci1ncm91cGluZy1idG4nKS5vZmYoJ2NsaWNrJyk7XG4gICQoJyNwcmVzZXQtbWFuYWdlci1pbXBvcnQtZmlsZScpLm9mZignY2hhbmdlJyk7XG5cbiAgJCgnI3ByZXNldC1tYW5hZ2VyLWNsb3NlJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5ax77iPIOWFs+mXreaMiemSruiiq+eCueWHuycpO1xuICAgIHRvZ2dsZVVJKCk7XG4gIH0pO1xuXG4gICQoJyNwcmVzZXQtbWFuYWdlci1oZWxwLWJ0bicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+Wse+4jyDluK7liqnmjInpkq7ooqvngrnlh7snKTtcbiAgICBzaG93SGVscFBvcHVwKCk7XG4gIH0pO1xuXG4gICQoJyNwcmVzZXQtbWFuYWdlci1zYXZlLWJ0bicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+Wse+4jyDkv53lrZjmjInpkq7ooqvngrnlh7snKTtcbiAgICBzYXZlQ3VycmVudENvbmZpZygpO1xuICB9KTtcblxuICAkKCcjcHJlc2V0LW1hbmFnZXItaW1wb3J0LWJ0bicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+Wse+4jyDlr7zlhaXmjInpkq7ooqvngrnlh7snKTtcbiAgICAkKCcjcHJlc2V0LW1hbmFnZXItaW1wb3J0LWZpbGUnKS5jbGljaygpO1xuICB9KTtcblxuICAkKCcjcHJlc2V0LW1hbmFnZXItYmF0Y2gtZXhwb3J0LWJ0bicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+Wse+4jyDmibnph4/lr7zlh7rmjInpkq7ooqvngrnlh7snKTtcbiAgICBzaG93QmF0Y2hFeHBvcnRQb3B1cCgpO1xuICB9KTtcblxuICAkKCcjcHJlc2V0LW1hbmFnZXItYmF0Y2gtZGVsZXRlLWJ0bicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+Wse+4jyDmibnph4/liKDpmaTmjInpkq7ooqvngrnlh7snKTtcbiAgICBzaG93QmF0Y2hEZWxldGVQb3B1cCgpO1xuICB9KTtcblxuICAkKCcjcHJlc2V0LW1hbmFnZXItZ3JvdXBpbmctYnRuJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5ax77iPIOadoeebruWIhue7hOaMiemSruiiq+eCueWHuycpO1xuICAgIHNob3dQcm9tcHRHcm91cGluZ1VJKCk7XG4gIH0pO1xuXG4gICQoJyNwcmVzZXQtbWFuYWdlci1pbXBvcnQtZmlsZScpLm9uKCdjaGFuZ2UnLCBldmVudCA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CflrHvuI8g5paH5Lu26YCJ5oup5Y+R55Sf5Y+Y5YyWJyk7XG4gICAgaGFuZGxlRmlsZUltcG9ydChldmVudCk7XG4gIH0pO1xuXG4gIGNvbnNvbGUubG9nKCfinIUgVUnkuovku7bnu5HlrprlrozmiJAnKTtcbn1cblxuLy8g57yT5a2Y6YWN572u5YiX6KGo77yM6YG/5YWN6YeN5aSN5riy5p+TXG5sZXQgY29uZmlnTGlzdENhY2hlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbmxldCBsYXN0Q29uZmlnVXBkYXRlVGltZSA9IDA7XG5jb25zdCBDQUNIRV9EVVJBVElPTiA9IDUwMDA7IC8vIDXnp5LnvJPlrZhcblxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZVVJKCk6IHZvaWQge1xuICBjb25zdCB1aSA9ICQoYCMke1VJX0lEfWApO1xuICBpZiAodWkuaXMoJzp2aXNpYmxlJykpIHtcbiAgICB1aS5mYWRlT3V0KDIwMCk7IC8vIOWHj+WwkeWKqOeUu+aXtumXtFxuICB9IGVsc2Uge1xuICAgIC8vIOajgOafpee8k+WtmOaYr+WQpuacieaViFxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgaWYgKCFjb25maWdMaXN0Q2FjaGUgfHwgbm93IC0gbGFzdENvbmZpZ1VwZGF0ZVRpbWUgPiBDQUNIRV9EVVJBVElPTikge1xuICAgICAgcmVuZGVyQ29uZmlnc0xpc3QoKTtcbiAgICAgIGxhc3RDb25maWdVcGRhdGVUaW1lID0gbm93O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDkvb/nlKjnvJPlrZjnmoTphY3nva7liJfooahcbiAgICAgICQoJyNwcmVzZXQtbWFuYWdlci1saXN0JykuaHRtbChjb25maWdMaXN0Q2FjaGUpO1xuICAgIH1cblxuICAgIGNvbnN0IHJhbmRvbVRpcCA9IFRJUFNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogVElQUy5sZW5ndGgpXTtcbiAgICAkKCcjcHJlc2V0LW1hbmFnZXItdGlwcy1zZWN0aW9uJykudGV4dCgn5bCP6LS05aOr77yaJyArIHJhbmRvbVRpcCk7XG4gICAgdWkuZmFkZUluKDIwMCk7IC8vIOWHj+WwkeWKqOeUu+aXtumXtFxuICB9XG59XG5cbi8vIOabtOaWsOe8k+WtmFxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNvbmZpZ0xpc3RDYWNoZSgpOiB2b2lkIHtcbiAgY29uZmlnTGlzdENhY2hlID0gJCgnI3ByZXNldC1tYW5hZ2VyLWxpc3QnKS5odG1sKCk7XG4gIGxhc3RDb25maWdVcGRhdGVUaW1lID0gRGF0ZS5ub3coKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/喵喵预设配置管理/界面创建和管理.ts\n\n}");

/***/ }),

/***/ "./src/喵喵预设配置管理/角色绑定功能.ts":
/*!********************************!*\
  !*** ./src/喵喵预设配置管理/角色绑定功能.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   onChatChanged: () => (/* binding */ onChatChanged)\n/* harmony export */ });\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./初始化和配置 */ \"./src/喵喵预设配置管理/初始化和配置.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./配置存储和读取 */ \"./src/喵喵预设配置管理/配置存储和读取.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./配置操作功能 */ \"./src/喵喵预设配置管理/配置操作功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./条目分组功能 */ \"./src/喵喵预设配置管理/条目分组功能.ts\");\n\n\n\n\nasync function onChatChanged() {\n    try {\n        await new Promise(resolve => setTimeout(resolve, 250));\n        const charData = await TavernHelper.getCharData('current');\n        if (!charData || !charData.avatar || charData.avatar === ___WEBPACK_IMPORTED_MODULE_0__.lastProcessedCharAvatar) {\n            if (!charData || !charData.avatar)\n                (0,___WEBPACK_IMPORTED_MODULE_0__.setLastProcessedCharAvatar)(null);\n            return;\n        }\n        (0,___WEBPACK_IMPORTED_MODULE_0__.setLastProcessedCharAvatar)(charData.avatar);\n        const configs = await (0,___WEBPACK_IMPORTED_MODULE_1__.getStoredConfigs)();\n        const boundConfigs = Object.values(configs).filter(config => config.boundCharAvatar === charData.avatar);\n        if (boundConfigs.length === 0)\n            return;\n        let configIdToLoad = null;\n        if (boundConfigs.length === 1) {\n            const singleConfig = boundConfigs[0];\n            const popupText = `角色 \"${charData.name}\" 拥有绑定的配置 \"${singleConfig.name}\"。是否要加载此配置？`;\n            const userChoice = await triggerSlash(`/popup okButton=\"加载\" cancelButton=\"取消\" result=true \"${popupText}\"`);\n            if (userChoice === '1')\n                configIdToLoad = singleConfig.id;\n        }\n        else {\n            const { showConfigSelectionPopup } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./辅助弹窗功能 */ \"./src/喵喵预设配置管理/辅助弹窗功能.ts\"));\n            configIdToLoad = await showConfigSelectionPopup(boundConfigs, charData.name);\n        }\n        if (configIdToLoad) {\n            await (0,___WEBPACK_IMPORTED_MODULE_2__.loadConfig)(configIdToLoad, false);\n            // 角色切换后触发分组恢复\n            setTimeout(() => {\n                (0,___WEBPACK_IMPORTED_MODULE_3__.triggerGroupingRestore)();\n            }, 800);\n        }\n    }\n    catch (error) {\n        console.error('检查绑定配置时出错:', error);\n        toastr.error('检查角色绑定配置时出错。');\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5Za15Za16aKE6K6+6YWN572u566h55CGL+inkuiJsue7keWumuWKn+iDvS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUErRTtBQUNsQztBQUNQO0FBQ1k7QUFFM0MsS0FBSyxVQUFVLGFBQWE7SUFDakMsSUFBSSxDQUFDO1FBQ0gsTUFBTSxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2RCxNQUFNLFFBQVEsR0FBRyxNQUFNLFlBQVksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7UUFFM0QsSUFBSSxDQUFDLFFBQVEsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLElBQUksUUFBUSxDQUFDLE1BQU0sS0FBSyxzREFBdUIsRUFBRSxDQUFDO1lBQ2pGLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTTtnQkFBRSw2REFBMEIsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwRSxPQUFPO1FBQ1QsQ0FBQztRQUVELDZEQUEwQixDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUU1QyxNQUFNLE9BQU8sR0FBRyxNQUFNLG1EQUFnQixFQUFFLENBQUM7UUFDekMsTUFBTSxZQUFZLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsZUFBZSxLQUFLLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUV6RyxJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssQ0FBQztZQUFFLE9BQU87UUFFdEMsSUFBSSxjQUFjLEdBQWtCLElBQUksQ0FBQztRQUV6QyxJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDOUIsTUFBTSxZQUFZLEdBQUcsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JDLE1BQU0sU0FBUyxHQUFHLE9BQU8sUUFBUSxDQUFDLElBQUksY0FBYyxZQUFZLENBQUMsSUFBSSxhQUFhLENBQUM7WUFDbkYsTUFBTSxVQUFVLEdBQUcsTUFBTSxZQUFZLENBQUMsdURBQXVELFNBQVMsR0FBRyxDQUFDLENBQUM7WUFDM0csSUFBSSxVQUFVLEtBQUssR0FBRztnQkFBRSxjQUFjLEdBQUcsWUFBWSxDQUFDLEVBQUUsQ0FBQztRQUMzRCxDQUFDO2FBQU0sQ0FBQztZQUNOLE1BQU0sRUFBRSx3QkFBd0IsRUFBRSxHQUFHLE1BQU0sZ0lBQWtCLENBQUM7WUFDOUQsY0FBYyxHQUFHLE1BQU0sd0JBQXdCLENBQUMsWUFBWSxFQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMvRSxDQUFDO1FBRUQsSUFBSSxjQUFjLEVBQUUsQ0FBQztZQUNuQixNQUFNLDZDQUFVLENBQUMsY0FBYyxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ3hDLGNBQWM7WUFDZCxVQUFVLENBQUMsR0FBRyxFQUFFO2dCQUNkLHlEQUFzQixFQUFFLENBQUM7WUFDM0IsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ1YsQ0FBQztJQUNILENBQUM7SUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1FBQ2YsT0FBTyxDQUFDLEtBQUssQ0FBQyxZQUFZLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDbkMsTUFBTSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUMvQixDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvLi9zcmMv5Za15Za16aKE6K6+6YWN572u566h55CGL+inkuiJsue7keWumuWKn+iDvS50cz8iXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbGFzdFByb2Nlc3NlZENoYXJBdmF0YXIsIHNldExhc3RQcm9jZXNzZWRDaGFyQXZhdGFyIH0gZnJvbSAnLi/liJ3lp4vljJblkozphY3nva4nO1xuaW1wb3J0IHsgZ2V0U3RvcmVkQ29uZmlncyB9IGZyb20gJy4v6YWN572u5a2Y5YKo5ZKM6K+75Y+WJztcbmltcG9ydCB7IGxvYWRDb25maWcgfSBmcm9tICcuL+mFjee9ruaTjeS9nOWKn+iDvSc7XG5pbXBvcnQgeyB0cmlnZ2VyR3JvdXBpbmdSZXN0b3JlIH0gZnJvbSAnLi/mnaHnm67liIbnu4Tlip/og70nO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb25DaGF0Q2hhbmdlZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjUwKSk7XG4gICAgY29uc3QgY2hhckRhdGEgPSBhd2FpdCBUYXZlcm5IZWxwZXIuZ2V0Q2hhckRhdGEoJ2N1cnJlbnQnKTtcblxuICAgIGlmICghY2hhckRhdGEgfHwgIWNoYXJEYXRhLmF2YXRhciB8fCBjaGFyRGF0YS5hdmF0YXIgPT09IGxhc3RQcm9jZXNzZWRDaGFyQXZhdGFyKSB7XG4gICAgICBpZiAoIWNoYXJEYXRhIHx8ICFjaGFyRGF0YS5hdmF0YXIpIHNldExhc3RQcm9jZXNzZWRDaGFyQXZhdGFyKG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldExhc3RQcm9jZXNzZWRDaGFyQXZhdGFyKGNoYXJEYXRhLmF2YXRhcik7XG5cbiAgICBjb25zdCBjb25maWdzID0gYXdhaXQgZ2V0U3RvcmVkQ29uZmlncygpO1xuICAgIGNvbnN0IGJvdW5kQ29uZmlncyA9IE9iamVjdC52YWx1ZXMoY29uZmlncykuZmlsdGVyKGNvbmZpZyA9PiBjb25maWcuYm91bmRDaGFyQXZhdGFyID09PSBjaGFyRGF0YS5hdmF0YXIpO1xuXG4gICAgaWYgKGJvdW5kQ29uZmlncy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIGxldCBjb25maWdJZFRvTG9hZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgICBpZiAoYm91bmRDb25maWdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgY29uc3Qgc2luZ2xlQ29uZmlnID0gYm91bmRDb25maWdzWzBdO1xuICAgICAgY29uc3QgcG9wdXBUZXh0ID0gYOinkuiJsiBcIiR7Y2hhckRhdGEubmFtZX1cIiDmi6XmnInnu5HlrprnmoTphY3nva4gXCIke3NpbmdsZUNvbmZpZy5uYW1lfVwi44CC5piv5ZCm6KaB5Yqg6L295q2k6YWN572u77yfYDtcbiAgICAgIGNvbnN0IHVzZXJDaG9pY2UgPSBhd2FpdCB0cmlnZ2VyU2xhc2goYC9wb3B1cCBva0J1dHRvbj1cIuWKoOi9vVwiIGNhbmNlbEJ1dHRvbj1cIuWPlua2iFwiIHJlc3VsdD10cnVlIFwiJHtwb3B1cFRleHR9XCJgKTtcbiAgICAgIGlmICh1c2VyQ2hvaWNlID09PSAnMScpIGNvbmZpZ0lkVG9Mb2FkID0gc2luZ2xlQ29uZmlnLmlkO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7IHNob3dDb25maWdTZWxlY3Rpb25Qb3B1cCB9ID0gYXdhaXQgaW1wb3J0KCcuL+i+heWKqeW8ueeql+WKn+iDvScpO1xuICAgICAgY29uZmlnSWRUb0xvYWQgPSBhd2FpdCBzaG93Q29uZmlnU2VsZWN0aW9uUG9wdXAoYm91bmRDb25maWdzLCBjaGFyRGF0YS5uYW1lKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnSWRUb0xvYWQpIHtcbiAgICAgIGF3YWl0IGxvYWRDb25maWcoY29uZmlnSWRUb0xvYWQsIGZhbHNlKTtcbiAgICAgIC8vIOinkuiJsuWIh+aNouWQjuinpuWPkeWIhue7hOaBouWkjVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRyaWdnZXJHcm91cGluZ1Jlc3RvcmUoKTtcbiAgICAgIH0sIDgwMCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+ajgOafpee7keWumumFjee9ruaXtuWHuumUmTonLCBlcnJvcik7XG4gICAgdG9hc3RyLmVycm9yKCfmo4Dmn6Xop5LoibLnu5HlrprphY3nva7ml7blh7rplJnjgIInKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/喵喵预设配置管理/角色绑定功能.ts\n\n}");

/***/ }),

/***/ "./src/喵喵预设配置管理/辅助弹窗功能.ts":
/*!********************************!*\
  !*** ./src/喵喵预设配置管理/辅助弹窗功能.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   showBatchImportConfigSelectionPopup: () => (/* binding */ showBatchImportConfigSelectionPopup),\n/* harmony export */   showConfigSelectionPopup: () => (/* binding */ showConfigSelectionPopup),\n/* harmony export */   showHelpPopup: () => (/* binding */ showHelpPopup),\n/* harmony export */   showNewEntriesPopup: () => (/* binding */ showNewEntriesPopup),\n/* harmony export */   showRegexDeletionPopup: () => (/* binding */ showRegexDeletionPopup),\n/* harmony export */   showRegexExportSelectionPopup: () => (/* binding */ showRegexExportSelectionPopup),\n/* harmony export */   showRemarkPopup: () => (/* binding */ showRemarkPopup),\n/* harmony export */   showViewConfigPopup: () => (/* binding */ showViewConfigPopup)\n/* harmony export */ });\nfunction showHelpPopup() {\n    const popupId = 'preset-manager-help-popup';\n    $(`#${popupId}`).remove();\n    const helpContent = `\n        <div style=\"padding: 0 10px; font-size: 14px; line-height: 1.6;\">\n            <h5>主要功能</h5>\n            <ul style=\"list-style: none; padding: 0; margin: 0;\">\n                <li style=\"margin-bottom: 16px; padding: 12px; background-color: #f8f9fa; border-radius: 8px; border-left: 4px solid #4CAF50;\">\n                    <b>保存/更新配置:</b> 保存或更新当前预设中所有\"条目\"的启用/禁用状态。更新时可选择是否同步正则状态。\n                </li>\n                <li style=\"margin-bottom: 16px; padding: 12px; background-color: #f8f9fa; border-radius: 8px; border-left: 4px solid #2196F3;\">\n                    <b>加载配置:</b> 一键切换到指定的预设并将所有\"条目\"恢复到已保存的状态。\n                </li>\n                <li style=\"margin-bottom: 16px; padding: 12px; background-color: #f8f9fa; border-radius: 8px; border-left: 4px solid #FF9800;\">\n                    <b>查看配置:</b> 在\"更多\"菜单中点击\"查看\"，可详细查看配置的基本信息、条目状态统计、启用/禁用的具体条目列表和绑定的正则信息。\n                </li>\n                <li style=\"margin-bottom: 16px; padding: 12px; background-color: #f8f9fa; border-radius: 8px; border-left: 4px solid #9C27B0;\">\n                    <b>预设编辑器:</b> 强大的条目管理工具，支持创建、编辑、删除条目，以及多级分组管理。所有修改会实时保存到浏览器本地存储，分组设置与当前预设绑定。\n                </li>\n                <li style=\"margin-bottom: 16px; padding: 12px; background-color: #f8f9fa; border-radius: 8px; border-left: 4px solid #00BCD4;\">\n                    <b>导入/导出:</b> 以 .json 文件的形式分享单个配置。导出时可以为配置包添加备注，方便分享和识别。整合包可以附带预设本身、绑定的正则和分组配置。\n                </li>\n                <li style=\"margin-bottom: 16px; padding: 12px; background-color: #f8f9fa; border-radius: 8px; border-left: 4px solid #795548;\">\n                    <b>兼容世界书导入:</b> 支持直接导入通过酒馆世界书功能导出的、含有本插件数据的备份文件。\n                </li>\n                <li style=\"margin-bottom: 16px; padding: 12px; background-color: #f8f9fa; border-radius: 8px; border-left: 4px solid #607D8B;\">\n                    <b>批量导入/导出:</b> 一次性分享多个配置、关联的预设和正则脚本，方便备份和迁移。\n                </li>\n                <li style=\"margin-bottom: 16px; padding: 12px; background-color: #f8f9fa; border-radius: 8px; border-left: 4px solid #F44336;\">\n                    <b>批量删除:</b> 在主界面勾选多个配置进行一次性删除，方便清理。\n                </li>\n                <li style=\"margin-bottom: 16px; padding: 12px; background-color: #f8f9fa; border-radius: 8px; border-left: 4px solid #E91E63;\">\n                    <b>角色绑定:</b> 将配置与特定角色关联，切换到该角色时会自动提示加载。\n                </li>\n                <li style=\"margin-bottom: 16px; padding: 12px; background-color: #f8f9fa; border-radius: 8px; border-left: 4px solid #3F51B5;\">\n                    <b>正则绑定:</b> 将配置与一组全局正则的开关状态关联，加载配置时会自动应用。\n                </li>\n                <li style=\"margin-bottom: 16px; padding: 12px; background-color: #f8f9fa; border-radius: 8px; border-left: 4px solid #FF5722;\">\n                    <b>重命名与分组:</b> 您可以重命名任何配置，同名预设的配置会自动折叠在一个分组下，使界面更清晰。\n                </li>\n            </ul>\n        </div>\n    `;\n    const usageNotice = `\n        <div style=\"padding: 12px; font-size: 14px; line-height: 1.6; background-color: #f9f3ea; border-radius: 8px; margin-top: 15px;\">\n            <h5 style=\"color: #c62828; margin-top:0;\">使用须知</h5>\n            <p style=\"font-weight: bold; margin-bottom: 0;\">\n                本脚本免费在旅程、喵喵电波服务器发布，作者MoM小n，不允许某个虐男char预设与该作者另一个梦女预设使用，也不支持鉴抄MoM那位的预设使用。\n            </p>\n        </div>\n    `;\n    const popupHtml = `\n        <div id=\"${popupId}\" style=\"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 10002; display: flex; align-items: center; justify-content: center;\">\n            <div style=\"background-color: #fff8f0; color: #3a2c2c; border-radius: 16px; padding: 20px; width: 90%; max-width: 500px; box-shadow: 0 4px 25px rgba(120,90,60,.25); display: flex; flex-direction: column; max-height: 80vh;\">\n                <h4 style=\"margin-top:0; color:#6a4226; text-align: center; border-bottom: 2px solid #f0d8b6; padding-bottom: 10px; flex-shrink: 0;\">喵喵预设配置管理 - 使用说明</h4>\n                <div style=\"flex: 1; min-height: 0; overflow-y: auto; margin: 15px 0;\">\n                    ${helpContent}\n                </div>\n                ${usageNotice}\n                <div style=\"text-align: right; margin-top: 15px; flex-shrink: 0;\">\n                    <button id=\"help-popup-close\" style=\"padding: 8px 16px; background-color:#f4c78e; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#3a2c2c;\">关闭</button>\n                </div>\n            </div>\n        </div>\n    `;\n    $('body').append(popupHtml);\n    const mobileStyles = `<style>@media (max-width: 600px) { #${popupId} { align-items: flex-start !important; } #${popupId} > div { margin-top: 10vh; max-height: 75vh !important; } }</style>`;\n    $(`#${popupId}`).append(mobileStyles);\n    $('#help-popup-close').on('click', () => $(`#${popupId}`).remove());\n}\nfunction showRemarkPopup(remarkText) {\n    return new Promise(resolve => {\n        const popupId = 'preset-manager-remark-popup';\n        $(`#${popupId}`).remove();\n        // Simple Markdown to HTML converter\n        function convertMarkdown(text) {\n            const sanitize = (s) => $('<div/>').text(s).html();\n            const lines = text.split('\\n');\n            let html = '';\n            let inList = false;\n            const processInline = (line) => {\n                return sanitize(line)\n                    .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n                    .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n                    .replace(/`(.*?)`/g, '<code>$1</code>');\n            };\n            for (const line of lines) {\n                const trimmedLine = line.trim();\n                const isList = trimmedLine.startsWith('* ') || trimmedLine.startsWith('- ');\n                if (inList && !isList && trimmedLine) {\n                    html += '</ul>';\n                    inList = false;\n                }\n                if (trimmedLine.startsWith('# ')) {\n                    html += `<h1>${processInline(trimmedLine.substring(2))}</h1>`;\n                }\n                else if (trimmedLine.startsWith('## ')) {\n                    html += `<h2>${processInline(trimmedLine.substring(3))}</h2>`;\n                }\n                else if (trimmedLine.startsWith('### ')) {\n                    html += `<h3>${processInline(trimmedLine.substring(4))}</h3>`;\n                }\n                else if (isList) {\n                    if (!inList) {\n                        html += '<ul>';\n                        inList = true;\n                    }\n                    html += `<li>${processInline(trimmedLine.substring(2))}</li>`;\n                }\n                else if (trimmedLine) {\n                    html += `<p>${processInline(line)}</p>`;\n                }\n            }\n            if (inList)\n                html += '</ul>';\n            return html;\n        }\n        const contentHtml = convertMarkdown(remarkText);\n        const popupHtml = `\n            <div id=\"${popupId}\" style=\"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 10002; display: flex; align-items: center; justify-content: center;\">\n                <div style=\"background-color: #fff8f0; color: #3a2c2c; border-radius: 16px; padding: 20px; width: 90%; max-width: 600px; box-shadow: 0 4px 25px rgba(120,90,60,.25); display: flex; flex-direction: column; max-height: 80vh;\">\n                    <style>\n                        #${popupId} .remark-content h1, #${popupId} .remark-content h2, #${popupId} .remark-content h3 { margin: 12px 0 6px 0; padding-bottom: 6px; border-bottom: 1px solid #e0c9a6; }\n                        #${popupId} .remark-content h1 { font-size: 1.4em; color: #6a4226; }\n                        #${popupId} .remark-content h2 { font-size: 1.2em; color: #7a5235; }\n                        #${popupId} .remark-content h3 { font-size: 1.1em; color: #7a5235; }\n                        #${popupId} .remark-content p { margin: 0 0 10px 0; }\n                        #${popupId} .remark-content ul { margin: 10px 0; padding-left: 25px; }\n                        #${popupId} .remark-content li { margin-bottom: 5px; }\n                        #${popupId} .remark-content code { background-color: #e0d8cd; padding: 2px 5px; border-radius: 4px; font-family: monospace; color: #3a2c2c; font-size: 0.9em; }\n                    </style>\n                    <h4 style=\"margin-top:0; color:#6a4226; text-align: center; border-bottom: 2px solid #f0d8b6; padding-bottom: 10px;\">导入备注</h4>\n                    <div class=\"remark-content\" style=\"flex: 1; min-height: 200px; overflow-y: auto; margin: 15px 0; background-color: #fdfaf5; border: 1px solid #f0e2d0; border-radius: 8px; padding: 15px; line-height: 1.6; word-wrap: break-word;\">\n                        ${contentHtml}\n                    </div>\n                    <div style=\"text-align: right;\">\n                        <button id=\"remark-popup-continue\" style=\"padding: 8px 16px; background-color:#f4c78e; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#3a2c2c;\">继续导入</button>\n                    </div>\n                </div>\n            </div>\n        `;\n        $('body').append(popupHtml);\n        const mobileStyles = `<style>@media (max-width: 600px) { #${popupId} { align-items: flex-start !important; } #${popupId} > div { margin-top: 5vh; max-height: 85vh !important; } }</style>`;\n        $(`#${popupId}`).append(mobileStyles);\n        $('#remark-popup-continue').on('click', () => {\n            $(`#${popupId}`).remove();\n            resolve(true);\n        });\n    });\n}\nfunction showNewEntriesPopup(newEntries, promptIdToNameMap) {\n    return new Promise(resolve => {\n        const popupId = 'preset-manager-new-entries-popup';\n        $(`#${popupId}`).remove();\n        const entriesHtml = newEntries\n            .map((entry, index) => {\n            const entryName = promptIdToNameMap.get(entry.id) || `未知条目 (ID: ${entry.id})`;\n            const isChecked = entry.enabled ? 'checked' : '';\n            const safeEntryName = $('<div/>').text(entryName).html();\n            return `\n                <div class=\"entry-item\" style=\"display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid #eee;\">\n                    <label for=\"new-entry-toggle-${index}\" style=\"cursor: pointer; flex: 1; margin-right: 10px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\" title=\"${safeEntryName}\">${safeEntryName}</label>\n                    <label class=\"pm-switch\">\n                       <input type=\"checkbox\" id=\"new-entry-toggle-${index}\" data-id=\"${entry.id}\" ${isChecked}/>\n                       <span class=\"pm-slider\"></span>\n                    </label>\n                </div>\n            `;\n        })\n            .join('');\n        const popupHtml = `\n            <div id=\"${popupId}\" style=\"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 10001; display: flex; align-items: center; justify-content: center;\">\n                <div style=\"background-color: #fff8f0; color: #3a2c2c; border-radius: 16px; padding: 20px; width: 90%; max-width: 450px; box-shadow: 0 4px 25px rgba(120,90,60,.25); display: flex; flex-direction: column; max-height: 90vh; box-sizing: border-box;\">\n                    <h4 style=\"margin-top:0; color:#6a4226; text-align: center;\">检测到新条目</h4>\n                    <p style=\"font-size: 14px; color: #6a4226; margin: 10px 0; flex-shrink: 0;\">请选择以下新增条目的默认启用状态(勾选为需要启用)：</p>\n                    <div style=\"flex: 1; min-height: 0; overflow-y: auto; margin-bottom: 20px; border-top: 1px solid #f0e2d0; border-bottom: 1px solid #f0e2d0; padding: 5px 10px;\">\n                        ${entriesHtml}\n                    </div>\n                    <div class=\"button-container\" style=\"text-align: right; margin-top: auto; flex-shrink: 0; display:flex; justify-content:flex-end;\">\n                        <button id=\"new-entries-cancel\" style=\"padding: 8px 16px; background-color:#e0e0e0; border:none; border-radius:6px; cursor:pointer; color:#333; margin-right: 10px;\">取消</button>\n                        <button id=\"new-entries-confirm\" style=\"padding: 8px 16px; background-color:#f4c78e; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#3a2c2c;\">确认</button>\n                    </div>\n                </div>\n            </div>\n        `;\n        $('body').append(popupHtml);\n        const mobileStyles = `<style>@media (max-width: 600px) {#${popupId} { align-items: flex-start !important; } #${popupId} > div{ margin-top: 5vh; width: 95% !important;max-width: none !important;height: auto !important;max-height: 85vh !important;border-radius: 12px !important;padding: 15px !important;}#${popupId} h4{font-size: 18px !important;margin-bottom: 10px !important;}#${popupId} p{font-size: 14px !important;margin: 5px 0 15px 0 !important;}#${popupId} .entry-item{padding: 10px 0 !important;}#${popupId} .button-container{flex-direction: row !important;gap: 10px !important;justify-content: flex-end;}#${popupId} .button-container button{width: auto !important;margin: 0 !important;flex-grow: 1;}}</style>`;\n        $(`#${popupId}`).append(mobileStyles);\n        $('#new-entries-confirm').on('click', () => {\n            const updatedEntries = newEntries.map((entry, index) => ({\n                ...entry,\n                enabled: $(`#new-entry-toggle-${index}`).is(':checked'),\n            }));\n            $(`#${popupId}`).remove();\n            resolve(updatedEntries);\n        });\n        $('#new-entries-cancel').on('click', () => {\n            $(`#${popupId}`).remove();\n            resolve(null);\n        });\n    });\n}\nfunction showConfigSelectionPopup(configs, charName) {\n    return new Promise(resolve => {\n        const popupId = 'preset-manager-config-selection-popup';\n        $(`#${popupId}`).remove();\n        const configsHtml = configs\n            .map((config, index) => {\n            const safeName = $('<div/>').text(config.name).html();\n            return `\n                <div class=\"config-item\" style=\"padding: 10px 5px; border-bottom: 1px solid #eee; cursor: pointer; border-radius: 4px; display: flex; align-items: center;\">\n                    <input type=\"radio\" id=\"config-select-${index}\" name=\"config-selection\" value=\"${config.id}\" style=\"margin-right: 10px; transform: scale(1.2);\">\n                    <label for=\"config-select-${index}\" style=\"cursor: pointer; width: 100%;\">${safeName}</label>\n                </div>\n            `;\n        })\n            .join('');\n        const popupHtml = `\n            <div id=\"${popupId}\" style=\"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 10001; display: flex; align-items: center; justify-content: center;\">\n                <div style=\"background-color: #fff8f0; color: #3a2c2c; border-radius: 16px; padding: 20px; width: 90%; max-width: 400px; box-shadow: 0 4px 25px rgba(120,90,60,.25); display: flex; flex-direction: column; max-height: 90vh;\">\n                    <h4 style=\"margin-top:0; color:#6a4226; text-align: center; border-bottom: 2px solid #f0d8b6; padding-bottom: 10px;\">选择配置</h4>\n                    <p style=\"font-size: 14px; color: #6a4226; margin: 15px 0; text-align: center;\">角色 \"${$('<div/>').text(charName).html()}\" 绑定了多个配置，请选择一个进行加载：</p>\n                    <div style=\"flex: 1; min-height: 0; overflow-y: auto; margin-bottom: 20px; padding: 5px;\">\n                        ${configsHtml}\n                    </div>\n                    <div style=\"text-align: right; display:flex; justify-content:flex-end; gap: 10px;\">\n                        <button id=\"config-select-cancel\" style=\"padding: 8px 16px; background-color:#e0e0e0; border:none; border-radius:6px; cursor:pointer; color:#333;\">取消</button>\n                        <button id=\"config-select-confirm\" style=\"padding: 8px 16px; background-color:#f4c78e; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#3a2c2c;\">加载</button>\n                    </div>\n                </div>\n            </div>\n        `;\n        $('body').append(popupHtml);\n        const mobileStyles = `<style> @media (max-width: 600px) { #${popupId} { align-items: flex-start !important; } #${popupId} > div { margin-top: 5vh; max-height: 85vh !important; } }</style>`;\n        $(`#${popupId}`).append(mobileStyles);\n        if (configs.length > 0)\n            $(`#config-select-0`).prop('checked', true);\n        $(`#${popupId} .config-item`).on('click', function () {\n            $(this).find('input[type=\"radio\"]').prop('checked', true);\n        });\n        $('#config-select-confirm').on('click', () => {\n            const selectedId = $('input[name=\"config-selection\"]:checked').val();\n            if (selectedId) {\n                $(`#${popupId}`).remove();\n                resolve(selectedId);\n            }\n            else {\n                toastr.warning('请选择一个配置。');\n            }\n        });\n        $('#config-select-cancel').on('click', () => {\n            $(`#${popupId}`).remove();\n            resolve(null);\n        });\n    });\n}\nfunction showRegexExportSelectionPopup(boundRegexes) {\n    return new Promise(resolve => {\n        const popupId = 'preset-manager-regex-export-popup';\n        $(`#${popupId}`).remove();\n        const regexesHtml = boundRegexes\n            .map(regex => {\n            const safeName = $('<div/>').text(regex.script_name).html();\n            return `\n                <div style=\"display: flex; justify-content: space-between; align-items: center; padding: 10px 5px; border-bottom: 1px solid #eee;\">\n                    <label for=\"regex-export-toggle-${regex.id}\" style=\"cursor: pointer; flex: 1; margin-right: 10px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\" title=\"${safeName}\">${safeName}</label>\n                    <label class=\"pm-switch\">\n                       <input type=\"checkbox\" class=\"regex-export-checkbox\" id=\"regex-export-toggle-${regex.id}\" data-id=\"${regex.id}\" checked/>\n                       <span class=\"pm-slider\"></span>\n                    </label>\n                </div>\n            `;\n        })\n            .join('');\n        const popupHtml = `\n            <div id=\"${popupId}\" style=\"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 10001; display: flex; align-items: center; justify-content: center;\">\n                <div style=\"background-color: #fff8f0; color: #3a2c2c; border-radius: 16px; padding: 20px; width: 90%; max-width: 450px; box-shadow: 0 4px 25px rgba(120,90,60,.25); display: flex; flex-direction: column; max-height: 80vh;\">\n                    <h4 style=\"margin-top:0; color:#6a4226; text-align: center;\">选择要导出的正则</h4>\n                    <div style=\"margin: 10px 0; display: flex; justify-content: space-around;\">\n                       <button id=\"regex-export-select-all\" style=\"padding: 6px 12px; background-color:#a5d6f9; border:none; border-radius:6px; cursor:pointer;\">全选</button>\n                       <button id=\"regex-export-deselect-all\" style=\"padding: 6px 12px; background-color:#e0e0e0; border:none; border-radius:6px; cursor:pointer;\">全不选</button>\n                    </div>\n                    <div style=\"flex: 1; min-height: 0; overflow-y: auto; margin-bottom: 20px; border-top: 1px solid #f0e2d0; border-bottom: 1px solid #f0e2d0; padding: 5px 10px;\">\n                        ${regexesHtml}\n                    </div>\n                    <div style=\"text-align: right; display:flex; justify-content:flex-end; gap: 10px;\">\n                        <button id=\"regex-export-cancel\" style=\"padding: 8px 16px; background-color:#e0e0e0; border:none; border-radius:6px; cursor:pointer; color:#333;\">取消</button>\n                        <button id=\"regex-export-confirm\" style=\"padding: 8px 16px; background-color:#f4c78e; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#3a2c2c;\">确认导出</button>\n                    </div>\n                </div>\n            </div>\n        `;\n        $('body').append(popupHtml);\n        const mobileStyles = `<style>@media (max-width: 600px) { #${popupId} { align-items: flex-start !important; } #${popupId} > div { margin-top: 5vh; } }</style>`;\n        $(`#${popupId}`).append(mobileStyles);\n        $('#regex-export-select-all').on('click', () => $('.regex-export-checkbox').prop('checked', true));\n        $('#regex-export-deselect-all').on('click', () => $('.regex-export-checkbox').prop('checked', false));\n        $('#regex-export-cancel').on('click', () => {\n            $(`#${popupId}`).remove();\n            resolve(null);\n        });\n        $('#regex-export-confirm').on('click', () => {\n            const selectedIds = new Set();\n            $('.regex-export-checkbox:checked').each(function () {\n                selectedIds.add($(this).data('id'));\n            });\n            const selectedRegexes = boundRegexes.filter(r => selectedIds.has(r.id));\n            $(`#${popupId}`).remove();\n            resolve(selectedRegexes);\n        });\n    });\n}\nfunction showRegexDeletionPopup(existingRegexes) {\n    return new Promise(resolve => {\n        const popupId = 'preset-manager-regex-delete-popup';\n        $(`#${popupId}`).remove();\n        const regexesHtml = existingRegexes\n            .map(regex => {\n            const safeName = $('<div/>').text(regex.script_name).html();\n            return `\n                <div style=\"display: flex; align-items: center; padding: 10px 5px; border-bottom: 1px solid #eee;\">\n                    <input type=\"checkbox\" class=\"regex-delete-checkbox\" id=\"regex-delete-toggle-${regex.id}\" data-id=\"${regex.id}\" style=\"margin-right: 15px; transform: scale(1.3);\">\n                    <label for=\"regex-delete-toggle-${regex.id}\" style=\"cursor: pointer; flex: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\" title=\"${safeName}\">${safeName}</label>\n                </div>\n            `;\n        })\n            .join('');\n        const popupHtml = `\n            <div id=\"${popupId}\" style=\"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 10002; display: flex; align-items: center; justify-content: center;\">\n                <div style=\"background-color: #fff8f0; color: #3a2c2c; border-radius: 16px; padding: 20px; width: 90%; max-width: 450px; box-shadow: 0 4px 25px rgba(120,90,60,.25); display: flex; flex-direction: column; max-height: 80vh;\">\n                    <h4 style=\"margin-top:0; color:#c62828; text-align: center;\">删除已有正则 (可选)</h4>\n                    <p style=\"font-size: 13px; color: #777; text-align: center; margin-bottom: 15px;\">在导入新正则前，你可以选择删除一些不再需要的旧正则。</p>\n                    <div style=\"flex: 1; min-height: 0; overflow-y: auto; margin-bottom: 20px; border-top: 1px solid #f0e2d0; border-bottom: 1px solid #f0e2d0; padding: 5px 10px;\">\n                        ${regexesHtml}\n                    </div>\n                    <div style=\"text-align: right; display:flex; justify-content:flex-end; gap: 10px;\">\n                        <button id=\"regex-delete-skip\" style=\"padding: 8px 16px; background-color:#e0e0e0; border:none; border-radius:6px; cursor:pointer; color:#333;\">跳过并导入</button>\n                        <button id=\"regex-delete-confirm\" style=\"padding: 8px 16px; background-color:#f5a8a0; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#fff;\">删除选中并导入</button>\n                    </div>\n                </div>\n            </div>\n        `;\n        $('body').append(popupHtml);\n        const mobileStyles = `<style>@media (max-width: 600px) { #${popupId} { align-items: flex-start !important; } #${popupId} > div { margin-top: 5vh; } }</style>`;\n        $(`#${popupId}`).append(mobileStyles);\n        $('#regex-delete-skip').on('click', () => {\n            $(`#${popupId}`).remove();\n            resolve(existingRegexes);\n        });\n        $('#regex-delete-confirm').on('click', () => {\n            const idsToDelete = new Set();\n            $('.regex-delete-checkbox:checked').each(function () {\n                idsToDelete.add($(this).data('id'));\n            });\n            const remainingRegexes = existingRegexes.filter(r => !idsToDelete.has(r.id));\n            if (idsToDelete.size > 0) {\n                toastr.info(`已删除 ${idsToDelete.size} 条旧正则。`);\n            }\n            $(`#${popupId}`).remove();\n            resolve(remainingRegexes);\n        });\n    });\n}\nfunction showBatchImportConfigSelectionPopup(configsToImport) {\n    return new Promise(resolve => {\n        const popupId = 'preset-manager-batch-import-popup';\n        $(`#${popupId}`).remove();\n        const configsHtml = configsToImport\n            .map(config => {\n            const safeName = $('<div/>').text(config.name).html();\n            return `\n                <div style=\"padding: 8px 5px; border-bottom: 1px solid #eee; display: flex; align-items: center; gap: 10px;\">\n                    <input type=\"checkbox\" class=\"pm-batch-import-checkbox\" data-original-id=\"${config.id}\" checked style=\"transform: scale(1.2);\">\n                    <label style=\"font-weight: bold; flex-shrink: 0;\" title=\"${safeName}\">${safeName}</label>\n                    <input type=\"text\" class=\"pm-batch-import-newname\" value=\"${safeName}\" style=\"flex: 1; min-width: 100px; background-color: #fff; border: 1px solid #d4b58b; color:#3a2c2c; padding: 4px 6px; border-radius: 4px; font-size:13px;\">\n                </div>\n            `;\n        })\n            .join('');\n        const popupHtml = `\n             <div id=\"${popupId}\" style=\"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 10001; display: flex; align-items: center; justify-content: center;\">\n                <div style=\"background-color: #fff8f0; color: #3a2c2c; border-radius: 16px; padding: 20px; width: 90%; max-width: 500px; box-shadow: 0 4px 25px rgba(120,90,60,.25); display: flex; flex-direction: column; max-height: 80vh;\">\n                    <h4 style=\"margin-top:0; color:#6a4226; text-align: center;\">选择要导入的配置</h4>\n                    <p style=\"font-size: 13px; color: #777; text-align: center; margin-bottom: 15px;\">勾选要导入的配置，可修改导入后的名称。</p>\n                    <div style=\"flex: 1; min-height: 0; overflow-y: auto; margin-bottom: 20px; border-top: 1px solid #f0e2d0; border-bottom: 1px solid #f0e2d0; padding: 5px 10px;\">\n                        ${configsHtml}\n                    </div>\n                    <div style=\"text-align: right; display:flex; justify-content:flex-end; gap: 10px;\">\n                        <button id=\"batch-import-cancel\" style=\"padding: 8px 16px; background-color:#e0e0e0; border:none; border-radius:6px; cursor:pointer; color:#333;\">取消</button>\n                        <button id=\"batch-import-confirm\" style=\"padding: 8px 16px; background-color:#f4c78e; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#3a2c2c;\">导入选中项</button>\n                    </div>\n                </div>\n            </div>\n        `;\n        $('body').append(popupHtml);\n        const mobileStyles = `<style>\n            @media (max-width: 600px) { #${popupId} > div { margin-top: 600px; } }\n        </style>`;\n        $(`#${popupId}`).append(mobileStyles);\n        $('#batch-import-cancel').on('click', () => {\n            $(`#${popupId}`).remove();\n            resolve(null);\n        });\n        $('#batch-import-confirm').on('click', () => {\n            const choices = [];\n            let hasError = false;\n            $('#preset-manager-batch-import-popup .pm-batch-import-checkbox').each(function () {\n                const checkbox = $(this);\n                const newName = checkbox.siblings('.pm-batch-import-newname').val()?.toString().trim();\n                if (!newName && checkbox.is(':checked')) {\n                    toastr.error(`有已勾选的配置新名称为空。`);\n                    hasError = true;\n                    return false;\n                }\n                choices.push({\n                    originalId: checkbox.data('original-id'),\n                    newName: newName,\n                    import: checkbox.is(':checked'),\n                });\n            });\n            if (!hasError) {\n                $(`#${popupId}`).remove();\n                resolve(choices);\n            }\n        });\n    });\n}\n// 显示查看配置弹窗\nasync function showViewConfigPopup(configId) {\n    const { getStoredConfigs } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./配置存储和读取 */ \"./src/喵喵预设配置管理/配置存储和读取.ts\"));\n    const configs = await getStoredConfigs();\n    const configData = configs[configId];\n    if (!configData) {\n        toastr.error('配置不存在');\n        return;\n    }\n    // 获取所有正则信息，用于显示名称\n    let allRegexes = [];\n    try {\n        allRegexes = await TavernHelper.getTavernRegexes({ scope: 'global' });\n    }\n    catch (error) {\n        console.warn('获取正则信息失败:', error);\n    }\n    const popupId = 'preset-manager-view-config-popup';\n    $(`#${popupId}`).remove();\n    // 统计配置信息\n    const totalStates = configData.states.length;\n    const enabledStates = configData.states.filter((state) => state.enabled).length;\n    const disabledStates = totalStates - enabledStates;\n    // 分组显示状态\n    const enabledStatesHtml = configData.states\n        .filter((state) => state.enabled)\n        .map((state) => `<div style=\"padding: 4px 8px; margin: 2px; background-color: #e8f5e8; border-radius: 4px; font-size: 12px;\">${$('<div/>').text(state.name).html()}</div>`)\n        .join('');\n    const disabledStatesHtml = configData.states\n        .filter((state) => !state.enabled)\n        .map((state) => `<div style=\"padding: 4px 8px; margin: 2px; background-color: #ffebee; border-radius: 4px; font-size: 12px;\">${$('<div/>').text(state.name).html()}</div>`)\n        .join('');\n    // 正则绑定信息\n    const regexInfo = configData.regexStates && configData.regexStates.length > 0\n        ? `<div style=\"margin-top: 15px;\">\n         <h5 style=\"color: #6a4226; margin-bottom: 8px;\">绑定正则 (${configData.regexStates.length}个)</h5>\n         <div class=\"item-list\" style=\"max-height: 100px; overflow-y: auto; border: 1px solid #e0c9a6; border-radius: 4px; padding: 8px;\">\n           ${configData.regexStates\n            .map((regex) => {\n            // 从所有正则中查找对应的正则信息\n            const fullRegexInfo = allRegexes.find(r => r.id === regex.id);\n            const regexName = fullRegexInfo?.script_name ||\n                fullRegexInfo?.scriptName ||\n                regex.scriptName ||\n                regex.script_name ||\n                regex.name ||\n                `正则ID: ${regex.id}`;\n            return `<div style=\"padding: 4px 8px; margin: 2px; background-color: ${regex.enabled ? '#e3f2fd' : '#fafafa'}; border-radius: 4px; font-size: 12px;\">\n                ${$('<div/>').text(regexName).html()} ${regex.enabled ? '(启用)' : '(禁用)'}\n              </div>`;\n        })\n            .join('')}\n         </div>\n       </div>`\n        : '';\n    const popupHtml = `\n    <div id=\"${popupId}\" style=\"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 10002; display: flex; align-items: center; justify-content: center;\">\n      <div style=\"background-color: #fff8f0; color: #3a2c2c; border-radius: 16px; padding: 20px; width: 90%; max-width: 600px; box-shadow: 0 4px 25px rgba(120,90,60,.25); display: flex; flex-direction: column; max-height: 80vh;\">\n        <h4 style=\"margin-top:0; color:#6a4226; text-align: center; border-bottom: 2px solid #f0d8b6; padding-bottom: 10px;\">查看配置详情</h4>\n        \n        <div style=\"flex: 1; min-height: 0; overflow-y: auto; margin: 15px 0;\">\n          <div style=\"margin-bottom: 15px;\">\n            <h5 style=\"color: #6a4226; margin-bottom: 8px;\">基本信息</h5>\n            <div style=\"background-color: #f9f3ea; padding: 10px; border-radius: 6px;\">\n              <div><strong>配置名称:</strong> ${$('<div/>').text(configData.name).html()}</div>\n              <div><strong>关联预设:</strong> ${$('<div/>').text(configData.presetName).html()}</div>\n              <div><strong>创建时间:</strong> ${new Date(configData.id).toLocaleString()}</div>\n              ${configData.boundCharName ? `<div><strong>绑定角色:</strong> <span style=\"color: #4CAF50;\">${$('<div/>').text(configData.boundCharName).html()}</span></div>` : ''}\n            </div>\n          </div>\n\n          <div style=\"margin-bottom: 15px;\">\n            <h5 style=\"color: #6a4226; margin-bottom: 8px;\">条目状态统计</h5>\n            <div class=\"stats-container\" style=\"display: flex; gap: 10px; margin-bottom: 10px;\">\n              <div class=\"stats-item\" style=\"background-color: #e8f5e8; padding: 8px; border-radius: 6px; flex: 1; text-align: center;\">\n                <div style=\"font-weight: bold; color: #2e7d32;\">启用</div>\n                <div style=\"font-size: 18px; font-weight: bold;\">${enabledStates}</div>\n              </div>\n              <div class=\"stats-item\" style=\"background-color: #ffebee; padding: 8px; border-radius: 6px; flex: 1; text-align: center;\">\n                <div style=\"font-weight: bold; color: #c62828;\">禁用</div>\n                <div style=\"font-size: 18px; font-weight: bold;\">${disabledStates}</div>\n              </div>\n              <div class=\"stats-item\" style=\"background-color: #f0f4f8; padding: 8px; border-radius: 6px; flex: 1; text-align: center;\">\n                <div style=\"font-weight: bold; color: #546e7a;\">总计</div>\n                <div style=\"font-size: 18px; font-weight: bold;\">${totalStates}</div>\n              </div>\n            </div>\n          </div>\n\n          ${enabledStates > 0\n        ? `\n          <div style=\"margin-bottom: 15px;\">\n            <h5 style=\"color: #6a4226; margin-bottom: 8px;\">启用的条目 (${enabledStates}个)</h5>\n            <div class=\"item-list\" style=\"max-height: 150px; overflow-y: auto; border: 1px solid #e0c9a6; border-radius: 4px; padding: 8px;\">\n              ${enabledStatesHtml}\n            </div>\n          </div>\n          `\n        : ''}\n\n          ${disabledStates > 0\n        ? `\n          <div style=\"margin-bottom: 15px;\">\n            <h5 style=\"color: #6a4226; margin-bottom: 8px;\">禁用的条目 (${disabledStates}个)</h5>\n            <div class=\"item-list\" style=\"max-height: 150px; overflow-y: auto; border: 1px solid #e0c9a6; border-radius: 4px; padding: 8px;\">\n              ${disabledStatesHtml}\n            </div>\n          </div>\n          `\n        : ''}\n\n          ${regexInfo}\n        </div>\n\n        <div style=\"text-align: right; margin-top: 15px; display: flex; gap: 10px; justify-content: flex-end;\">\n          <button id=\"view-config-load\" data-id=\"${configId}\" style=\"padding: 8px 16px; background-color:#4CAF50; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#fff;\">加载此配置</button>\n          <button id=\"view-config-close\" style=\"padding: 8px 16px; background-color:#f4c78e; border:none; border-radius:6px; cursor:pointer; font-weight:bold; color:#3a2c2c;\">关闭</button>\n        </div>\n      </div>\n    </div>\n  `;\n    $('body').append(popupHtml);\n    // 绑定事件\n    $('#view-config-close').on('click', () => {\n        $(`#${popupId}`).remove();\n    });\n    $('#view-config-load').on('click', async () => {\n        const configId = $('#view-config-load').data('id');\n        $(`#${popupId}`).remove();\n        const { loadConfig } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./配置操作功能 */ \"./src/喵喵预设配置管理/配置操作功能.ts\"));\n        await loadConfig(configId);\n    });\n    // 移动端样式\n    const mobileStyles = `<style>\n    @media (max-width: 600px) { \n      #${popupId} { \n        align-items: flex-start !important; \n        padding: 10px;\n      } \n      #${popupId} > div { \n        margin-top: 5vh; \n        max-height: 90vh !important; \n        width: 95% !important;\n        padding: 15px;\n        border-radius: 12px;\n      }\n      #${popupId} h4 {\n        font-size: 18px !important;\n        margin-bottom: 15px !important;\n      }\n      #${popupId} h5 {\n        font-size: 15px !important;\n        margin-bottom: 10px !important;\n      }\n      #${popupId} button {\n        font-size: 14px !important;\n        padding: 10px 16px !important;\n        min-height: 44px;\n      }\n      #${popupId} .stats-container {\n        flex-direction: column !important;\n        gap: 8px !important;\n      }\n      #${popupId} .stats-item {\n        flex: none !important;\n        padding: 12px !important;\n      }\n      #${popupId} .item-list {\n        max-height: 120px !important;\n        font-size: 13px !important;\n      }\n      #${popupId} .item-list div {\n        padding: 6px 10px !important;\n        margin: 3px !important;\n        font-size: 12px !important;\n      }\n    }\n    @media (max-width: 480px) {\n      #${popupId} > div {\n        margin-top: 2vh !important;\n        max-height: 96vh !important;\n        padding: 12px;\n      }\n      #${popupId} h4 {\n        font-size: 16px !important;\n      }\n      #${popupId} .stats-item {\n        padding: 10px !important;\n      }\n      #${popupId} .stats-item div:first-child {\n        font-size: 13px !important;\n      }\n      #${popupId} .stats-item div:last-child {\n        font-size: 16px !important;\n      }\n    }\n  </style>`;\n    $(`#${popupId}`).append(mobileStyles);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5Za15Za16aKE6K6+6YWN572u566h55CGL+i+heWKqeW8ueeql+WKn+iDvS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUVPLFNBQVMsYUFBYTtJQUMzQixNQUFNLE9BQU8sR0FBRywyQkFBMkIsQ0FBQztJQUM1QyxDQUFDLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBRTFCLE1BQU0sV0FBVyxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7S0F1Q2pCLENBQUM7SUFFSixNQUFNLFdBQVcsR0FBRzs7Ozs7OztLQU9qQixDQUFDO0lBRUosTUFBTSxTQUFTLEdBQUc7bUJBQ0QsT0FBTzs7OztzQkFJSixXQUFXOztrQkFFZixXQUFXOzs7Ozs7S0FNeEIsQ0FBQztJQUNKLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDNUIsTUFBTSxZQUFZLEdBQUcsdUNBQXVDLE9BQU8sNkNBQTZDLE9BQU8scUVBQXFFLENBQUM7SUFDN0wsQ0FBQyxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDdEMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7QUFDdEUsQ0FBQztBQUVNLFNBQVMsZUFBZSxDQUFDLFVBQWtCO0lBQ2hELE9BQU8sSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUU7UUFDM0IsTUFBTSxPQUFPLEdBQUcsNkJBQTZCLENBQUM7UUFDOUMsQ0FBQyxDQUFDLElBQUksT0FBTyxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUUxQixvQ0FBb0M7UUFDcEMsU0FBUyxlQUFlLENBQUMsSUFBWTtZQUNuQyxNQUFN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S1AsT0FBTzs7O1NBR1AsT0FBTzs7O1NBR1AsT0FBTzs7O1NBR1AsT0FBTzs7OztXQUlMLENBQUM7SUFDVixDQUFDLENBQUMsSUFBSSxPQUFPLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUN4QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/llrXllrXpooTorr7phY3nva7nrqHnkIYv6L6F5Yqp5by556qX5Yqf6IO9LnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25maWdEYXRhIH0gZnJvbSAnLi/phY3nva7lrZjlgqjlkozor7vlj5YnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2hvd0hlbHBQb3B1cCgpOiB2b2lkIHtcbiAgY29uc3QgcG9wdXBJZCA9ICdwcmVzZXQtbWFuYWdlci1oZWxwLXBvcHVwJztcbiAgJChgIyR7cG9wdXBJZH1gKS5yZW1vdmUoKTtcblxuICBjb25zdCBoZWxwQ29udGVudCA9IGBcbiAgICAgICAgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDAgMTBweDsgZm9udC1zaXplOiAxNHB4OyBsaW5lLWhlaWdodDogMS42O1wiPlxuICAgICAgICAgICAgPGg1PuS4u+imgeWKn+iDvTwvaDU+XG4gICAgICAgICAgICA8dWwgc3R5bGU9XCJsaXN0LXN0eWxlOiBub25lOyBwYWRkaW5nOiAwOyBtYXJnaW46IDA7XCI+XG4gICAgICAgICAgICAgICAgPGxpIHN0eWxlPVwibWFyZ2luLWJvdHRvbTogMTZweDsgcGFkZGluZzogMTJweDsgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsgYm9yZGVyLXJhZGl1czogOHB4OyBib3JkZXItbGVmdDogNHB4IHNvbGlkICM0Q0FGNTA7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxiPuS/neWtmC/mm7TmlrDphY3nva46PC9iPiDkv53lrZjmiJbmm7TmlrDlvZPliY3pooTorr7kuK3miYDmnIlcIuadoeebrlwi55qE5ZCv55SoL+emgeeUqOeKtuaAgeOAguabtOaWsOaXtuWPr+mAieaLqeaYr+WQpuWQjOatpeato+WImeeKtuaAgeOAglxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgPGxpIHN0eWxlPVwibWFyZ2luLWJvdHRvbTogMTZweDsgcGFkZGluZzogMTJweDsgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsgYm9yZGVyLXJhZGl1czogOHB4OyBib3JkZXItbGVmdDogNHB4IHNvbGlkICMyMTk2RjM7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxiPuWKoOi9vemFjee9rjo8L2I+IOS4gOmUruWIh+aNouWIsOaMh+WumueahOmihOiuvuW5tuWwhuaJgOaciVwi5p2h55uuXCLmgaLlpI3liLDlt7Lkv53lrZjnmoTnirbmgIHjgIJcbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDxsaSBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDE2cHg7IHBhZGRpbmc6IDEycHg7IGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7IGJvcmRlci1yYWRpdXM6IDhweDsgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjRkY5ODAwO1wiPlxuICAgICAgICAgICAgICAgICAgICA8Yj7mn6XnnIvphY3nva46PC9iPiDlnKhcIuabtOWkmlwi6I+c5Y2V5Lit54K55Ye7XCLmn6XnnItcIu+8jOWPr+ivpue7huafpeeci+mFjee9rueahOWfuuacrOS/oeaBr+OAgeadoeebrueKtuaAgee7n+iuoeOAgeWQr+eUqC/npoHnlKjnmoTlhbfkvZPmnaHnm67liJfooajlkoznu5HlrprnmoTmraPliJnkv6Hmga/jgIJcbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDxsaSBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDE2cHg7IHBhZGRpbmc6IDEycHg7IGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7IGJvcmRlci1yYWRpdXM6IDhweDsgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjOUMyN0IwO1wiPlxuICAgICAgICAgICAgICAgICAgICA8Yj7pooTorr7nvJbovpHlmag6PC9iPiDlvLrlpKfnmoTmnaHnm67nrqHnkIblt6XlhbfvvIzmlK/mjIHliJvlu7rjgIHnvJbovpHjgIHliKDpmaTmnaHnm67vvIzku6Xlj4rlpJrnuqfliIbnu4TnrqHnkIbjgILmiYDmnInkv67mlLnkvJrlrp7ml7bkv53lrZjliLDmtY/op4jlmajmnKzlnLDlrZjlgqjvvIzliIbnu4Torr7nva7kuI7lvZPliY3pooTorr7nu5HlrprjgIJcbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDxsaSBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDE2cHg7IHBhZGRpbmc6IDEycHg7IGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7IGJvcmRlci1yYWRpdXM6IDhweDsgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjMDBCQ0Q0O1wiPlxuICAgICAgICAgICAgICAgICAgICA8Yj7lr7zlhaUv5a+85Ye6OjwvYj4g5LulIC5qc29uIOaWh+S7tueahOW9ouW8j+WIhuS6q+WNleS4qumFjee9ruOAguWvvOWHuuaXtuWPr+S7peS4uumFjee9ruWMhea3u+WKoOWkh+azqO+8jOaWueS+v+WIhuS6q+WSjOivhuWIq+OAguaVtOWQiOWMheWPr+S7pemZhOW4pumihOiuvuacrOi6q+OAgee7keWumueahOato+WImeWSjOWIhue7hOmFjee9ruOAglxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgPGxpIHN0eWxlPVwibWFyZ2luLWJvdHRvbTogMTZweDsgcGFkZGluZzogMTJweDsgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsgYm9yZGVyLXJhZGl1czogOHB4OyBib3JkZXItbGVmdDogNHB4IHNvbGlkICM3OTU1NDg7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxiPuWFvOWuueS4lueVjOS5puWvvOWFpTo8L2I+IOaUr+aMgeebtOaOpeWvvOWFpemAmui/h+mFkummhuS4lueVjOS5puWKn+iDveWvvOWHuueahOOAgeWQq+acieacrOaPkuS7tuaVsOaNrueahOWkh+S7veaWh+S7tuOAglxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgPGxpIHN0eWxlPVwibWFyZ2luLWJvdHRvbTogMTZweDsgcGFkZGluZzogMTJweDsgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsgYm9yZGVyLXJhZGl1czogOHB4OyBib3JkZXItbGVmdDogNHB4IHNvbGlkICM2MDdEOEI7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxiPuaJuemHj+WvvOWFpS/lr7zlh7o6PC9iPiDkuIDmrKHmgKfliIbkuqvlpJrkuKrphY3nva7jgIHlhbPogZTnmoTpooTorr7lkozmraPliJnohJrmnKzvvIzmlrnkvr/lpIfku73lkozov4Hnp7vjgIJcbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDxsaSBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDE2cHg7IHBhZGRpbmc6IDEycHg7IGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7IGJvcmRlci1yYWRpdXM6IDhweDsgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjRjQ0MzM2O1wiPlxuICAgICAgICAgICAgICAgICAgICA8Yj7mibnph4/liKDpmaQ6PC9iPiDlnKjkuLvnlYzpnaLli77pgInlpJrkuKrphY3nva7ov5vooYzkuIDmrKHmgKfliKDpmaTvvIzmlrnkvr/muIXnkIbjgIJcbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDxsaSBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDE2cHg7IHBhZGRpbmc6IDEycHg7IGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7IGJvcmRlci1yYWRpdXM6IDhweDsgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjRTkxRTYzO1wiPlxuICAgICAgICAgICAgICAgICAgICA8Yj7op5LoibLnu5Hlrpo6PC9iPiDlsIbphY3nva7kuI7nibnlrprop5LoibLlhbPogZTvvIzliIfmjaLliLDor6Xop5LoibLml7bkvJroh6rliqjmj5DnpLrliqDovb3jgIJcbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDxsaSBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDE2cHg7IHBhZGRpbmc6IDEycHg7IGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7IGJvcmRlci1yYWRpdXM6IDhweDsgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjM0Y1MUI1O1wiPlxuICAgICAgICAgICAgICAgICAgICA8Yj7mraPliJnnu5Hlrpo6PC9iPiDlsIbphY3nva7kuI7kuIDnu4TlhajlsYDmraPliJnnmoTlvIDlhbPnirbmgIHlhbPogZTvvIzliqDovb3phY3nva7ml7bkvJroh6rliqjlupTnlKjjgIJcbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDxsaSBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDE2cHg7IHBhZGRpbmc6IDEycHg7IGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7IGJvcmRlci1yYWRpdXM6IDhweDsgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjRkY1NzIyO1wiPlxuICAgICAgICAgICAgICAgICAgICA8Yj7ph43lkb3lkI3kuI7liIbnu4Q6PC9iPiDmgqjlj6/ku6Xph43lkb3lkI3ku7vkvZXphY3nva7vvIzlkIzlkI3pooTorr7nmoTphY3nva7kvJroh6rliqjmipjlj6DlnKjkuIDkuKrliIbnu4TkuIvvvIzkvb/nlYzpnaLmm7TmuIXmmbDjgIJcbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgYDtcblxuICBjb25zdCB1c2FnZU5vdGljZSA9IGBcbiAgICAgICAgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDEycHg7IGZvbnQtc2l6ZTogMTRweDsgbGluZS1oZWlnaHQ6IDEuNjsgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjNlYTsgYm9yZGVyLXJhZGl1czogOHB4OyBtYXJnaW4tdG9wOiAxNXB4O1wiPlxuICAgICAgICAgICAgPGg1IHN0eWxlPVwiY29sb3I6ICNjNjI4Mjg7IG1hcmdpbi10b3A6MDtcIj7kvb/nlKjpobvnn6U8L2g1PlxuICAgICAgICAgICAgPHAgc3R5bGU9XCJmb250LXdlaWdodDogYm9sZDsgbWFyZ2luLWJvdHRvbTogMDtcIj5cbiAgICAgICAgICAgICAgICDmnKzohJrmnKzlhY3otLnlnKjml4XnqIvjgIHllrXllrXnlLXms6LmnI3liqHlmajlj5HluIPvvIzkvZzogIVNb03lsI9u77yM5LiN5YWB6K645p+Q5Liq6JmQ55S3Y2hhcumihOiuvuS4juivpeS9nOiAheWPpuS4gOS4quaipuWls+mihOiuvuS9v+eUqO+8jOS5n+S4jeaUr+aMgemJtOaKhE1vTemCo+S9jeeahOmihOiuvuS9v+eUqOOAglxuICAgICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICBgO1xuXG4gIGNvbnN0IHBvcHVwSHRtbCA9IGBcbiAgICAgICAgPGRpdiBpZD1cIiR7cG9wdXBJZH1cIiBzdHlsZT1cInBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuNSk7IHotaW5kZXg6IDEwMDAyOyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcIj5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOGYwOyBjb2xvcjogIzNhMmMyYzsgYm9yZGVyLXJhZGl1czogMTZweDsgcGFkZGluZzogMjBweDsgd2lkdGg6IDkwJTsgbWF4LXdpZHRoOiA1MDBweDsgYm94LXNoYWRvdzogMCA0cHggMjVweCByZ2JhKDEyMCw5MCw2MCwuMjUpOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBtYXgtaGVpZ2h0OiA4MHZoO1wiPlxuICAgICAgICAgICAgICAgIDxoNCBzdHlsZT1cIm1hcmdpbi10b3A6MDsgY29sb3I6IzZhNDIyNjsgdGV4dC1hbGlnbjogY2VudGVyOyBib3JkZXItYm90dG9tOiAycHggc29saWQgI2YwZDhiNjsgcGFkZGluZy1ib3R0b206IDEwcHg7IGZsZXgtc2hyaW5rOiAwO1wiPuWWteWWtemihOiuvumFjee9rueuoeeQhiAtIOS9v+eUqOivtOaYjjwvaDQ+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZsZXg6IDE7IG1pbi1oZWlnaHQ6IDA7IG92ZXJmbG93LXk6IGF1dG87IG1hcmdpbjogMTVweCAwO1wiPlxuICAgICAgICAgICAgICAgICAgICAke2hlbHBDb250ZW50fVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICR7dXNhZ2VOb3RpY2V9XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0OyBtYXJnaW4tdG9wOiAxNXB4OyBmbGV4LXNocmluazogMDtcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImhlbHAtcG9wdXAtY2xvc2VcIiBzdHlsZT1cInBhZGRpbmc6IDhweCAxNnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiNmNGM3OGU7IGJvcmRlcjpub25lOyBib3JkZXItcmFkaXVzOjZweDsgY3Vyc29yOnBvaW50ZXI7IGZvbnQtd2VpZ2h0OmJvbGQ7IGNvbG9yOiMzYTJjMmM7XCI+5YWz6ZetPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgYDtcbiAgJCgnYm9keScpLmFwcGVuZChwb3B1cEh0bWwpO1xuICBjb25zdCBtb2JpbGVTdHlsZXMgPSBgPHN0eWxlPkBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkgeyAjJHtwb3B1cElkfSB7IGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0ICFpbXBvcnRhbnQ7IH0gIyR7cG9wdXBJZH0gPiBkaXYgeyBtYXJnaW4tdG9wOiAxMHZoOyBtYXgtaGVpZ2h0OiA3NXZoICFpbXBvcnRhbnQ7IH0gfTwvc3R5bGU+YDtcbiAgJChgIyR7cG9wdXBJZH1gKS5hcHBlbmQobW9iaWxlU3R5bGVzKTtcbiAgJCgnI2hlbHAtcG9wdXAtY2xvc2UnKS5vbignY2xpY2snLCAoKSA9PiAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dSZW1hcmtQb3B1cChyZW1hcmtUZXh0OiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIGNvbnN0IHBvcHVwSWQgPSAncHJlc2V0LW1hbmFnZXItcmVtYXJrLXBvcHVwJztcbiAgICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuXG4gICAgLy8gU2ltcGxlIE1hcmtkb3duIHRvIEhUTUwgY29udmVydGVyXG4gICAgZnVuY3Rpb24gY29udmVydE1hcmtkb3duKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICBjb25zdCBzYW5pdGl6ZSA9IChzOiBzdHJpbmcpID0+ICQoJzxkaXYvPicpLnRleHQocykuaHRtbCgpO1xuICAgICAgY29uc3QgbGluZXMgPSB0ZXh0LnNwbGl0KCdcXG4nKTtcbiAgICAgIGxldCBodG1sID0gJyc7XG4gICAgICBsZXQgaW5MaXN0ID0gZmFsc2U7XG5cbiAgICAgIGNvbnN0IHByb2Nlc3NJbmxpbmUgPSAobGluZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZShsaW5lKVxuICAgICAgICAgIC5yZXBsYWNlKC9cXCpcXCooLio/KVxcKlxcKi9nLCAnPHN0cm9uZz4kMTwvc3Ryb25nPicpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcKiguKj8pXFwqL2csICc8ZW0+JDE8L2VtPicpXG4gICAgICAgICAgLnJlcGxhY2UoL2AoLio/KWAvZywgJzxjb2RlPiQxPC9jb2RlPicpO1xuICAgICAgfTtcblxuICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICAgIGNvbnN0IHRyaW1tZWRMaW5lID0gbGluZS50cmltKCk7XG4gICAgICAgIGNvbnN0IGlzTGlzdCA9IHRyaW1tZWRMaW5lLnN0YXJ0c1dpdGgoJyogJykgfHwgdHJpbW1lZExpbmUuc3RhcnRzV2l0aCgnLSAnKTtcblxuICAgICAgICBpZiAoaW5MaXN0ICYmICFpc0xpc3QgJiYgdHJpbW1lZExpbmUpIHtcbiAgICAgICAgICBodG1sICs9ICc8L3VsPic7XG4gICAgICAgICAgaW5MaXN0ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJpbW1lZExpbmUuc3RhcnRzV2l0aCgnIyAnKSkge1xuICAgICAgICAgIGh0bWwgKz0gYDxoMT4ke3Byb2Nlc3NJbmxpbmUodHJpbW1lZExpbmUuc3Vic3RyaW5nKDIpKX08L2gxPmA7XG4gICAgICAgIH0gZWxzZSBpZiAodHJpbW1lZExpbmUuc3RhcnRzV2l0aCgnIyMgJykpIHtcbiAgICAgICAgICBodG1sICs9IGA8aDI+JHtwcm9jZXNzSW5saW5lKHRyaW1tZWRMaW5lLnN1YnN0cmluZygzKSl9PC9oMj5gO1xuICAgICAgICB9IGVsc2UgaWYgKHRyaW1tZWRMaW5lLnN0YXJ0c1dpdGgoJyMjIyAnKSkge1xuICAgICAgICAgIGh0bWwgKz0gYDxoMz4ke3Byb2Nlc3NJbmxpbmUodHJpbW1lZExpbmUuc3Vic3RyaW5nKDQpKX08L2gzPmA7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNMaXN0KSB7XG4gICAgICAgICAgaWYgKCFpbkxpc3QpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzx1bD4nO1xuICAgICAgICAgICAgaW5MaXN0ID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaHRtbCArPSBgPGxpPiR7cHJvY2Vzc0lubGluZSh0cmltbWVkTGluZS5zdWJzdHJpbmcoMikpfTwvbGk+YDtcbiAgICAgICAgfSBlbHNlIGlmICh0cmltbWVkTGluZSkge1xuICAgICAgICAgIGh0bWwgKz0gYDxwPiR7cHJvY2Vzc0lubGluZShsaW5lKX08L3A+YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGluTGlzdCkgaHRtbCArPSAnPC91bD4nO1xuICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgY29uc3QgY29udGVudEh0bWwgPSBjb252ZXJ0TWFya2Rvd24ocmVtYXJrVGV4dCk7XG5cbiAgICBjb25zdCBwb3B1cEh0bWwgPSBgXG4gICAgICAgICAgICA8ZGl2IGlkPVwiJHtwb3B1cElkfVwiIHN0eWxlPVwicG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC41KTsgei1pbmRleDogMTAwMDI7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyO1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOGYwOyBjb2xvcjogIzNhMmMyYzsgYm9yZGVyLXJhZGl1czogMTZweDsgcGFkZGluZzogMjBweDsgd2lkdGg6IDkwJTsgbWF4LXdpZHRoOiA2MDBweDsgYm94LXNoYWRvdzogMCA0cHggMjVweCByZ2JhKDEyMCw5MCw2MCwuMjUpOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBtYXgtaGVpZ2h0OiA4MHZoO1wiPlxuICAgICAgICAgICAgICAgICAgICA8c3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAjJHtwb3B1cElkfSAucmVtYXJrLWNvbnRlbnQgaDEsICMke3BvcHVwSWR9IC5yZW1hcmstY29udGVudCBoMiwgIyR7cG9wdXBJZH0gLnJlbWFyay1jb250ZW50IGgzIHsgbWFyZ2luOiAxMnB4IDAgNnB4IDA7IHBhZGRpbmctYm90dG9tOiA2cHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBjOWE2OyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAjJHtwb3B1cElkfSAucmVtYXJrLWNvbnRlbnQgaDEgeyBmb250LXNpemU6IDEuNGVtOyBjb2xvcjogIzZhNDIyNjsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgIyR7cG9wdXBJZH0gLnJlbWFyay1jb250ZW50IGgyIHsgZm9udC1zaXplOiAxLjJlbTsgY29sb3I6ICM3YTUyMzU7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICMke3BvcHVwSWR9IC5yZW1hcmstY29udGVudCBoMyB7IGZvbnQtc2l6ZTogMS4xZW07IGNvbG9yOiAjN2E1MjM1OyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAjJHtwb3B1cElkfSAucmVtYXJrLWNvbnRlbnQgcCB7IG1hcmdpbjogMCAwIDEwcHggMDsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgIyR7cG9wdXBJZH0gLnJlbWFyay1jb250ZW50IHVsIHsgbWFyZ2luOiAxMHB4IDA7IHBhZGRpbmctbGVmdDogMjVweDsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgIyR7cG9wdXBJZH0gLnJlbWFyay1jb250ZW50IGxpIHsgbWFyZ2luLWJvdHRvbTogNXB4OyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAjJHtwb3B1cElkfSAucmVtYXJrLWNvbnRlbnQgY29kZSB7IGJhY2tncm91bmQtY29sb3I6ICNlMGQ4Y2Q7IHBhZGRpbmc6IDJweCA1cHg7IGJvcmRlci1yYWRpdXM6IDRweDsgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTsgY29sb3I6ICMzYTJjMmM7IGZvbnQtc2l6ZTogMC45ZW07IH1cbiAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgPGg0IHN0eWxlPVwibWFyZ2luLXRvcDowOyBjb2xvcjojNmE0MjI2OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZjBkOGI2OyBwYWRkaW5nLWJvdHRvbTogMTBweDtcIj7lr7zlhaXlpIfms6g8L2g0PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVtYXJrLWNvbnRlbnRcIiBzdHlsZT1cImZsZXg6IDE7IG1pbi1oZWlnaHQ6IDIwMHB4OyBvdmVyZmxvdy15OiBhdXRvOyBtYXJnaW46IDE1cHggMDsgYmFja2dyb3VuZC1jb2xvcjogI2ZkZmFmNTsgYm9yZGVyOiAxcHggc29saWQgI2YwZTJkMDsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiAxNXB4OyBsaW5lLWhlaWdodDogMS42OyB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAke2NvbnRlbnRIdG1sfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0O1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInJlbWFyay1wb3B1cC1jb250aW51ZVwiIHN0eWxlPVwicGFkZGluZzogOHB4IDE2cHg7IGJhY2tncm91bmQtY29sb3I6I2Y0Yzc4ZTsgYm9yZGVyOm5vbmU7IGJvcmRlci1yYWRpdXM6NnB4OyBjdXJzb3I6cG9pbnRlcjsgZm9udC13ZWlnaHQ6Ym9sZDsgY29sb3I6IzNhMmMyYztcIj7nu6fnu63lr7zlhaU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcblxuICAgICQoJ2JvZHknKS5hcHBlbmQocG9wdXBIdG1sKTtcbiAgICBjb25zdCBtb2JpbGVTdHlsZXMgPSBgPHN0eWxlPkBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkgeyAjJHtwb3B1cElkfSB7IGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0ICFpbXBvcnRhbnQ7IH0gIyR7cG9wdXBJZH0gPiBkaXYgeyBtYXJnaW4tdG9wOiA1dmg7IG1heC1oZWlnaHQ6IDg1dmggIWltcG9ydGFudDsgfSB9PC9zdHlsZT5gO1xuICAgICQoYCMke3BvcHVwSWR9YCkuYXBwZW5kKG1vYmlsZVN0eWxlcyk7XG5cbiAgICAkKCcjcmVtYXJrLXBvcHVwLWNvbnRpbnVlJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgJChgIyR7cG9wdXBJZH1gKS5yZW1vdmUoKTtcbiAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd05ld0VudHJpZXNQb3B1cChuZXdFbnRyaWVzOiBhbnlbXSwgcHJvbXB0SWRUb05hbWVNYXA6IE1hcDxzdHJpbmcsIHN0cmluZz4pOiBQcm9taXNlPGFueVtdIHwgbnVsbD4ge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgY29uc3QgcG9wdXBJZCA9ICdwcmVzZXQtbWFuYWdlci1uZXctZW50cmllcy1wb3B1cCc7XG4gICAgJChgIyR7cG9wdXBJZH1gKS5yZW1vdmUoKTtcblxuICAgIGNvbnN0IGVudHJpZXNIdG1sID0gbmV3RW50cmllc1xuICAgICAgLm1hcCgoZW50cnksIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGVudHJ5TmFtZSA9IHByb21wdElkVG9OYW1lTWFwLmdldChlbnRyeS5pZCkgfHwgYOacquefpeadoeebriAoSUQ6ICR7ZW50cnkuaWR9KWA7XG4gICAgICAgIGNvbnN0IGlzQ2hlY2tlZCA9IGVudHJ5LmVuYWJsZWQgPyAnY2hlY2tlZCcgOiAnJztcbiAgICAgICAgY29uc3Qgc2FmZUVudHJ5TmFtZSA9ICQoJzxkaXYvPicpLnRleHQoZW50cnlOYW1lKS5odG1sKCk7XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVudHJ5LWl0ZW1cIiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgcGFkZGluZzogOHB4IDA7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlO1wiPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwibmV3LWVudHJ5LXRvZ2dsZS0ke2luZGV4fVwiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyBmbGV4OiAxOyBtYXJnaW4tcmlnaHQ6IDEwcHg7IG92ZXJmbG93OiBoaWRkZW47IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyB3aGl0ZS1zcGFjZTogbm93cmFwO1wiIHRpdGxlPVwiJHtzYWZlRW50cnlOYW1lfVwiPiR7c2FmZUVudHJ5TmFtZX08L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJwbS1zd2l0Y2hcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwibmV3LWVudHJ5LXRvZ2dsZS0ke2luZGV4fVwiIGRhdGEtaWQ9XCIke2VudHJ5LmlkfVwiICR7aXNDaGVja2VkfS8+XG4gICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicG0tc2xpZGVyXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYDtcbiAgICAgIH0pXG4gICAgICAuam9pbignJyk7XG5cbiAgICBjb25zdCBwb3B1cEh0bWwgPSBgXG4gICAgICAgICAgICA8ZGl2IGlkPVwiJHtwb3B1cElkfVwiIHN0eWxlPVwicG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC41KTsgei1pbmRleDogMTAwMDE7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyO1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOGYwOyBjb2xvcjogIzNhMmMyYzsgYm9yZGVyLXJhZGl1czogMTZweDsgcGFkZGluZzogMjBweDsgd2lkdGg6IDkwJTsgbWF4LXdpZHRoOiA0NTBweDsgYm94LXNoYWRvdzogMCA0cHggMjVweCByZ2JhKDEyMCw5MCw2MCwuMjUpOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBtYXgtaGVpZ2h0OiA5MHZoOyBib3gtc2l6aW5nOiBib3JkZXItYm94O1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDQgc3R5bGU9XCJtYXJnaW4tdG9wOjA7IGNvbG9yOiM2YTQyMjY7IHRleHQtYWxpZ246IGNlbnRlcjtcIj7mo4DmtYvliLDmlrDmnaHnm648L2g0PlxuICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT1cImZvbnQtc2l6ZTogMTRweDsgY29sb3I6ICM2YTQyMjY7IG1hcmdpbjogMTBweCAwOyBmbGV4LXNocmluazogMDtcIj7or7fpgInmi6nku6XkuIvmlrDlop7mnaHnm67nmoTpu5jorqTlkK/nlKjnirbmgIEo5Yu+6YCJ5Li66ZyA6KaB5ZCv55SoKe+8mjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZsZXg6IDE7IG1pbi1oZWlnaHQ6IDA7IG92ZXJmbG93LXk6IGF1dG87IG1hcmdpbi1ib3R0b206IDIwcHg7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjZjBlMmQwOyBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2YwZTJkMDsgcGFkZGluZzogNXB4IDEwcHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAke2VudHJpZXNIdG1sfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1jb250YWluZXJcIiBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0OyBtYXJnaW4tdG9wOiBhdXRvOyBmbGV4LXNocmluazogMDsgZGlzcGxheTpmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwibmV3LWVudHJpZXMtY2FuY2VsXCIgc3R5bGU9XCJwYWRkaW5nOiA4cHggMTZweDsgYmFja2dyb3VuZC1jb2xvcjojZTBlMGUwOyBib3JkZXI6bm9uZTsgYm9yZGVyLXJhZGl1czo2cHg7IGN1cnNvcjpwb2ludGVyOyBjb2xvcjojMzMzOyBtYXJnaW4tcmlnaHQ6IDEwcHg7XCI+5Y+W5raIPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwibmV3LWVudHJpZXMtY29uZmlybVwiIHN0eWxlPVwicGFkZGluZzogOHB4IDE2cHg7IGJhY2tncm91bmQtY29sb3I6I2Y0Yzc4ZTsgYm9yZGVyOm5vbmU7IGJvcmRlci1yYWRpdXM6NnB4OyBjdXJzb3I6cG9pbnRlcjsgZm9udC13ZWlnaHQ6Ym9sZDsgY29sb3I6IzNhMmMyYztcIj7noa7orqQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcblxuICAgICQoJ2JvZHknKS5hcHBlbmQocG9wdXBIdG1sKTtcblxuICAgIGNvbnN0IG1vYmlsZVN0eWxlcyA9IGA8c3R5bGU+QG1lZGlhIChtYXgtd2lkdGg6IDYwMHB4KSB7IyR7cG9wdXBJZH0geyBhbGlnbi1pdGVtczogZmxleC1zdGFydCAhaW1wb3J0YW50OyB9ICMke3BvcHVwSWR9ID4gZGl2eyBtYXJnaW4tdG9wOiA1dmg7IHdpZHRoOiA5NSUgIWltcG9ydGFudDttYXgtd2lkdGg6IG5vbmUgIWltcG9ydGFudDtoZWlnaHQ6IGF1dG8gIWltcG9ydGFudDttYXgtaGVpZ2h0OiA4NXZoICFpbXBvcnRhbnQ7Ym9yZGVyLXJhZGl1czogMTJweCAhaW1wb3J0YW50O3BhZGRpbmc6IDE1cHggIWltcG9ydGFudDt9IyR7cG9wdXBJZH0gaDR7Zm9udC1zaXplOiAxOHB4ICFpbXBvcnRhbnQ7bWFyZ2luLWJvdHRvbTogMTBweCAhaW1wb3J0YW50O30jJHtwb3B1cElkfSBwe2ZvbnQtc2l6ZTogMTRweCAhaW1wb3J0YW50O21hcmdpbjogNXB4IDAgMTVweCAwICFpbXBvcnRhbnQ7fSMke3BvcHVwSWR9IC5lbnRyeS1pdGVte3BhZGRpbmc6IDEwcHggMCAhaW1wb3J0YW50O30jJHtwb3B1cElkfSAuYnV0dG9uLWNvbnRhaW5lcntmbGV4LWRpcmVjdGlvbjogcm93ICFpbXBvcnRhbnQ7Z2FwOiAxMHB4ICFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDt9IyR7cG9wdXBJZH0gLmJ1dHRvbi1jb250YWluZXIgYnV0dG9ue3dpZHRoOiBhdXRvICFpbXBvcnRhbnQ7bWFyZ2luOiAwICFpbXBvcnRhbnQ7ZmxleC1ncm93OiAxO319PC9zdHlsZT5gO1xuICAgICQoYCMke3BvcHVwSWR9YCkuYXBwZW5kKG1vYmlsZVN0eWxlcyk7XG5cbiAgICAkKCcjbmV3LWVudHJpZXMtY29uZmlybScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRFbnRyaWVzID0gbmV3RW50cmllcy5tYXAoKGVudHJ5LCBpbmRleCkgPT4gKHtcbiAgICAgICAgLi4uZW50cnksXG4gICAgICAgIGVuYWJsZWQ6ICQoYCNuZXctZW50cnktdG9nZ2xlLSR7aW5kZXh9YCkuaXMoJzpjaGVja2VkJyksXG4gICAgICB9KSk7XG4gICAgICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuICAgICAgcmVzb2x2ZSh1cGRhdGVkRW50cmllcyk7XG4gICAgfSk7XG5cbiAgICAkKCcjbmV3LWVudHJpZXMtY2FuY2VsJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgJChgIyR7cG9wdXBJZH1gKS5yZW1vdmUoKTtcbiAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd0NvbmZpZ1NlbGVjdGlvblBvcHVwKGNvbmZpZ3M6IENvbmZpZ0RhdGFbXSwgY2hhck5hbWU6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgY29uc3QgcG9wdXBJZCA9ICdwcmVzZXQtbWFuYWdlci1jb25maWctc2VsZWN0aW9uLXBvcHVwJztcbiAgICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuXG4gICAgY29uc3QgY29uZmlnc0h0bWwgPSBjb25maWdzXG4gICAgICAubWFwKChjb25maWcsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHNhZmVOYW1lID0gJCgnPGRpdi8+JykudGV4dChjb25maWcubmFtZSkuaHRtbCgpO1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb25maWctaXRlbVwiIHN0eWxlPVwicGFkZGluZzogMTBweCA1cHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlOyBjdXJzb3I6IHBvaW50ZXI7IGJvcmRlci1yYWRpdXM6IDRweDsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjtcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGlkPVwiY29uZmlnLXNlbGVjdC0ke2luZGV4fVwiIG5hbWU9XCJjb25maWctc2VsZWN0aW9uXCIgdmFsdWU9XCIke2NvbmZpZy5pZH1cIiBzdHlsZT1cIm1hcmdpbi1yaWdodDogMTBweDsgdHJhbnNmb3JtOiBzY2FsZSgxLjIpO1wiPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiY29uZmlnLXNlbGVjdC0ke2luZGV4fVwiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyB3aWR0aDogMTAwJTtcIj4ke3NhZmVOYW1lfTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCcnKTtcblxuICAgIGNvbnN0IHBvcHVwSHRtbCA9IGBcbiAgICAgICAgICAgIDxkaXYgaWQ9XCIke3BvcHVwSWR9XCIgc3R5bGU9XCJwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjUpOyB6LWluZGV4OiAxMDAwMTsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICNmZmY4ZjA7IGNvbG9yOiAjM2EyYzJjOyBib3JkZXItcmFkaXVzOiAxNnB4OyBwYWRkaW5nOiAyMHB4OyB3aWR0aDogOTAlOyBtYXgtd2lkdGg6IDQwMHB4OyBib3gtc2hhZG93OiAwIDRweCAyNXB4IHJnYmEoMTIwLDkwLDYwLC4yNSk7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IG1heC1oZWlnaHQ6IDkwdmg7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxoNCBzdHlsZT1cIm1hcmdpbi10b3A6MDsgY29sb3I6IzZhNDIyNjsgdGV4dC1hbGlnbjogY2VudGVyOyBib3JkZXItYm90dG9tOiAycHggc29saWQgI2YwZDhiNjsgcGFkZGluZy1ib3R0b206IDEwcHg7XCI+6YCJ5oup6YWN572uPC9oND5cbiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9XCJmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjNmE0MjI2OyBtYXJnaW46IDE1cHggMDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPuinkuiJsiBcIiR7JCgnPGRpdi8+JykudGV4dChjaGFyTmFtZSkuaHRtbCgpfVwiIOe7keWumuS6huWkmuS4qumFjee9ru+8jOivt+mAieaLqeS4gOS4qui/m+ihjOWKoOi9ve+8mjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZsZXg6IDE7IG1pbi1oZWlnaHQ6IDA7IG92ZXJmbG93LXk6IGF1dG87IG1hcmdpbi1ib3R0b206IDIwcHg7IHBhZGRpbmc6IDVweDtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7Y29uZmlnc0h0bWx9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogcmlnaHQ7IGRpc3BsYXk6ZmxleDsganVzdGlmeS1jb250ZW50OmZsZXgtZW5kOyBnYXA6IDEwcHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiY29uZmlnLXNlbGVjdC1jYW5jZWxcIiBzdHlsZT1cInBhZGRpbmc6IDhweCAxNnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiNlMGUwZTA7IGJvcmRlcjpub25lOyBib3JkZXItcmFkaXVzOjZweDsgY3Vyc29yOnBvaW50ZXI7IGNvbG9yOiMzMzM7XCI+5Y+W5raIPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiY29uZmlnLXNlbGVjdC1jb25maXJtXCIgc3R5bGU9XCJwYWRkaW5nOiA4cHggMTZweDsgYmFja2dyb3VuZC1jb2xvcjojZjRjNzhlOyBib3JkZXI6bm9uZTsgYm9yZGVyLXJhZGl1czo2cHg7IGN1cnNvcjpwb2ludGVyOyBmb250LXdlaWdodDpib2xkOyBjb2xvcjojM2EyYzJjO1wiPuWKoOi9vTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuXG4gICAgJCgnYm9keScpLmFwcGVuZChwb3B1cEh0bWwpO1xuICAgIGNvbnN0IG1vYmlsZVN0eWxlcyA9IGA8c3R5bGU+IEBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkgeyAjJHtwb3B1cElkfSB7IGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0ICFpbXBvcnRhbnQ7IH0gIyR7cG9wdXBJZH0gPiBkaXYgeyBtYXJnaW4tdG9wOiA1dmg7IG1heC1oZWlnaHQ6IDg1dmggIWltcG9ydGFudDsgfSB9PC9zdHlsZT5gO1xuICAgICQoYCMke3BvcHVwSWR9YCkuYXBwZW5kKG1vYmlsZVN0eWxlcyk7XG5cbiAgICBpZiAoY29uZmlncy5sZW5ndGggPiAwKSAkKGAjY29uZmlnLXNlbGVjdC0wYCkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuXG4gICAgJChgIyR7cG9wdXBJZH0gLmNvbmZpZy1pdGVtYCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgJCh0aGlzKS5maW5kKCdpbnB1dFt0eXBlPVwicmFkaW9cIl0nKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICAkKCcjY29uZmlnLXNlbGVjdC1jb25maXJtJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VsZWN0ZWRJZCA9ICQoJ2lucHV0W25hbWU9XCJjb25maWctc2VsZWN0aW9uXCJdOmNoZWNrZWQnKS52YWwoKSBhcyBzdHJpbmc7XG4gICAgICBpZiAoc2VsZWN0ZWRJZCkge1xuICAgICAgICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuICAgICAgICByZXNvbHZlKHNlbGVjdGVkSWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9hc3RyLndhcm5pbmcoJ+ivt+mAieaLqeS4gOS4qumFjee9ruOAgicpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnI2NvbmZpZy1zZWxlY3QtY2FuY2VsJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgJChgIyR7cG9wdXBJZH1gKS5yZW1vdmUoKTtcbiAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd1JlZ2V4RXhwb3J0U2VsZWN0aW9uUG9wdXAoYm91bmRSZWdleGVzOiBhbnlbXSk6IFByb21pc2U8YW55W10gfCBudWxsPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICBjb25zdCBwb3B1cElkID0gJ3ByZXNldC1tYW5hZ2VyLXJlZ2V4LWV4cG9ydC1wb3B1cCc7XG4gICAgJChgIyR7cG9wdXBJZH1gKS5yZW1vdmUoKTtcblxuICAgIGNvbnN0IHJlZ2V4ZXNIdG1sID0gYm91bmRSZWdleGVzXG4gICAgICAubWFwKHJlZ2V4ID0+IHtcbiAgICAgICAgY29uc3Qgc2FmZU5hbWUgPSAkKCc8ZGl2Lz4nKS50ZXh0KHJlZ2V4LnNjcmlwdF9uYW1lKS5odG1sKCk7XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgcGFkZGluZzogMTBweCA1cHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlO1wiPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwicmVnZXgtZXhwb3J0LXRvZ2dsZS0ke3JlZ2V4LmlkfVwiIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyOyBmbGV4OiAxOyBtYXJnaW4tcmlnaHQ6IDEwcHg7IG92ZXJmbG93OiBoaWRkZW47IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyB3aGl0ZS1zcGFjZTogbm93cmFwO1wiIHRpdGxlPVwiJHtzYWZlTmFtZX1cIj4ke3NhZmVOYW1lfTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInBtLXN3aXRjaFwiPlxuICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJyZWdleC1leHBvcnQtY2hlY2tib3hcIiBpZD1cInJlZ2V4LWV4cG9ydC10b2dnbGUtJHtyZWdleC5pZH1cIiBkYXRhLWlkPVwiJHtyZWdleC5pZH1cIiBjaGVja2VkLz5cbiAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwbS1zbGlkZXJcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCcnKTtcblxuICAgIGNvbnN0IHBvcHVwSHRtbCA9IGBcbiAgICAgICAgICAgIDxkaXYgaWQ9XCIke3BvcHVwSWR9XCIgc3R5bGU9XCJwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjUpOyB6LWluZGV4OiAxMDAwMTsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICNmZmY4ZjA7IGNvbG9yOiAjM2EyYzJjOyBib3JkZXItcmFkaXVzOiAxNnB4OyBwYWRkaW5nOiAyMHB4OyB3aWR0aDogOTAlOyBtYXgtd2lkdGg6IDQ1MHB4OyBib3gtc2hhZG93OiAwIDRweCAyNXB4IHJnYmEoMTIwLDkwLDYwLC4yNSk7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IG1heC1oZWlnaHQ6IDgwdmg7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxoNCBzdHlsZT1cIm1hcmdpbi10b3A6MDsgY29sb3I6IzZhNDIyNjsgdGV4dC1hbGlnbjogY2VudGVyO1wiPumAieaLqeimgeWvvOWHuueahOato+WImTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW46IDEwcHggMDsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJyZWdleC1leHBvcnQtc2VsZWN0LWFsbFwiIHN0eWxlPVwicGFkZGluZzogNnB4IDEycHg7IGJhY2tncm91bmQtY29sb3I6I2E1ZDZmOTsgYm9yZGVyOm5vbmU7IGJvcmRlci1yYWRpdXM6NnB4OyBjdXJzb3I6cG9pbnRlcjtcIj7lhajpgIk8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInJlZ2V4LWV4cG9ydC1kZXNlbGVjdC1hbGxcIiBzdHlsZT1cInBhZGRpbmc6IDZweCAxMnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiNlMGUwZTA7IGJvcmRlcjpub25lOyBib3JkZXItcmFkaXVzOjZweDsgY3Vyc29yOnBvaW50ZXI7XCI+5YWo5LiN6YCJPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZmxleDogMTsgbWluLWhlaWdodDogMDsgb3ZlcmZsb3cteTogYXV0bzsgbWFyZ2luLWJvdHRvbTogMjBweDsgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNmMGUyZDA7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZjBlMmQwOyBwYWRkaW5nOiA1cHggMTBweDtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7cmVnZXhlc0h0bWx9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogcmlnaHQ7IGRpc3BsYXk6ZmxleDsganVzdGlmeS1jb250ZW50OmZsZXgtZW5kOyBnYXA6IDEwcHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwicmVnZXgtZXhwb3J0LWNhbmNlbFwiIHN0eWxlPVwicGFkZGluZzogOHB4IDE2cHg7IGJhY2tncm91bmQtY29sb3I6I2UwZTBlMDsgYm9yZGVyOm5vbmU7IGJvcmRlci1yYWRpdXM6NnB4OyBjdXJzb3I6cG9pbnRlcjsgY29sb3I6IzMzMztcIj7lj5bmtog8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJyZWdleC1leHBvcnQtY29uZmlybVwiIHN0eWxlPVwicGFkZGluZzogOHB4IDE2cHg7IGJhY2tncm91bmQtY29sb3I6I2Y0Yzc4ZTsgYm9yZGVyOm5vbmU7IGJvcmRlci1yYWRpdXM6NnB4OyBjdXJzb3I6cG9pbnRlcjsgZm9udC13ZWlnaHQ6Ym9sZDsgY29sb3I6IzNhMmMyYztcIj7noa7orqTlr7zlh7o8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcblxuICAgICQoJ2JvZHknKS5hcHBlbmQocG9wdXBIdG1sKTtcbiAgICBjb25zdCBtb2JpbGVTdHlsZXMgPSBgPHN0eWxlPkBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkgeyAjJHtwb3B1cElkfSB7IGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0ICFpbXBvcnRhbnQ7IH0gIyR7cG9wdXBJZH0gPiBkaXYgeyBtYXJnaW4tdG9wOiA1dmg7IH0gfTwvc3R5bGU+YDtcbiAgICAkKGAjJHtwb3B1cElkfWApLmFwcGVuZChtb2JpbGVTdHlsZXMpO1xuXG4gICAgJCgnI3JlZ2V4LWV4cG9ydC1zZWxlY3QtYWxsJykub24oJ2NsaWNrJywgKCkgPT4gJCgnLnJlZ2V4LWV4cG9ydC1jaGVja2JveCcpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKSk7XG4gICAgJCgnI3JlZ2V4LWV4cG9ydC1kZXNlbGVjdC1hbGwnKS5vbignY2xpY2snLCAoKSA9PiAkKCcucmVnZXgtZXhwb3J0LWNoZWNrYm94JykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKSk7XG4gICAgJCgnI3JlZ2V4LWV4cG9ydC1jYW5jZWwnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICB9KTtcbiAgICAkKCcjcmVnZXgtZXhwb3J0LWNvbmZpcm0nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZWxlY3RlZElkcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgJCgnLnJlZ2V4LWV4cG9ydC1jaGVja2JveDpjaGVja2VkJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGVjdGVkSWRzLmFkZCgkKHRoaXMpLmRhdGEoJ2lkJykpO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBzZWxlY3RlZFJlZ2V4ZXMgPSBib3VuZFJlZ2V4ZXMuZmlsdGVyKHIgPT4gc2VsZWN0ZWRJZHMuaGFzKHIuaWQpKTtcbiAgICAgICQoYCMke3BvcHVwSWR9YCkucmVtb3ZlKCk7XG4gICAgICByZXNvbHZlKHNlbGVjdGVkUmVnZXhlcyk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd1JlZ2V4RGVsZXRpb25Qb3B1cChleGlzdGluZ1JlZ2V4ZXM6IGFueVtdKTogUHJvbWlzZTxhbnlbXT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgY29uc3QgcG9wdXBJZCA9ICdwcmVzZXQtbWFuYWdlci1yZWdleC1kZWxldGUtcG9wdXAnO1xuICAgICQoYCMke3BvcHVwSWR9YCkucmVtb3ZlKCk7XG5cbiAgICBjb25zdCByZWdleGVzSHRtbCA9IGV4aXN0aW5nUmVnZXhlc1xuICAgICAgLm1hcChyZWdleCA9PiB7XG4gICAgICAgIGNvbnN0IHNhZmVOYW1lID0gJCgnPGRpdi8+JykudGV4dChyZWdleC5zY3JpcHRfbmFtZSkuaHRtbCgpO1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBwYWRkaW5nOiAxMHB4IDVweDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlZWU7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cInJlZ2V4LWRlbGV0ZS1jaGVja2JveFwiIGlkPVwicmVnZXgtZGVsZXRlLXRvZ2dsZS0ke3JlZ2V4LmlkfVwiIGRhdGEtaWQ9XCIke3JlZ2V4LmlkfVwiIHN0eWxlPVwibWFyZ2luLXJpZ2h0OiAxNXB4OyB0cmFuc2Zvcm06IHNjYWxlKDEuMyk7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJyZWdleC1kZWxldGUtdG9nZ2xlLSR7cmVnZXguaWR9XCIgc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXI7IGZsZXg6IDE7IG92ZXJmbG93OiBoaWRkZW47IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyB3aGl0ZS1zcGFjZTogbm93cmFwO1wiIHRpdGxlPVwiJHtzYWZlTmFtZX1cIj4ke3NhZmVOYW1lfTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCcnKTtcblxuICAgIGNvbnN0IHBvcHVwSHRtbCA9IGBcbiAgICAgICAgICAgIDxkaXYgaWQ9XCIke3BvcHVwSWR9XCIgc3R5bGU9XCJwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjUpOyB6LWluZGV4OiAxMDAwMjsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICNmZmY4ZjA7IGNvbG9yOiAjM2EyYzJjOyBib3JkZXItcmFkaXVzOiAxNnB4OyBwYWRkaW5nOiAyMHB4OyB3aWR0aDogOTAlOyBtYXgtd2lkdGg6IDQ1MHB4OyBib3gtc2hhZG93OiAwIDRweCAyNXB4IHJnYmEoMTIwLDkwLDYwLC4yNSk7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IG1heC1oZWlnaHQ6IDgwdmg7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxoNCBzdHlsZT1cIm1hcmdpbi10b3A6MDsgY29sb3I6I2M2MjgyODsgdGV4dC1hbGlnbjogY2VudGVyO1wiPuWIoOmZpOW3suacieato+WImSAo5Y+v6YCJKTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPVwiZm9udC1zaXplOiAxM3B4OyBjb2xvcjogIzc3NzsgdGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW4tYm90dG9tOiAxNXB4O1wiPuWcqOWvvOWFpeaWsOato+WImeWJje+8jOS9oOWPr+S7pemAieaLqeWIoOmZpOS4gOS6m+S4jeWGjemcgOimgeeahOaXp+ato+WImeOAgjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZsZXg6IDE7IG1pbi1oZWlnaHQ6IDA7IG92ZXJmbG93LXk6IGF1dG87IG1hcmdpbi1ib3R0b206IDIwcHg7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjZjBlMmQwOyBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2YwZTJkMDsgcGFkZGluZzogNXB4IDEwcHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAke3JlZ2V4ZXNIdG1sfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0OyBkaXNwbGF5OmZsZXg7IGp1c3RpZnktY29udGVudDpmbGV4LWVuZDsgZ2FwOiAxMHB4O1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInJlZ2V4LWRlbGV0ZS1za2lwXCIgc3R5bGU9XCJwYWRkaW5nOiA4cHggMTZweDsgYmFja2dyb3VuZC1jb2xvcjojZTBlMGUwOyBib3JkZXI6bm9uZTsgYm9yZGVyLXJhZGl1czo2cHg7IGN1cnNvcjpwb2ludGVyOyBjb2xvcjojMzMzO1wiPui3s+i/h+W5tuWvvOWFpTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInJlZ2V4LWRlbGV0ZS1jb25maXJtXCIgc3R5bGU9XCJwYWRkaW5nOiA4cHggMTZweDsgYmFja2dyb3VuZC1jb2xvcjojZjVhOGEwOyBib3JkZXI6bm9uZTsgYm9yZGVyLXJhZGl1czo2cHg7IGN1cnNvcjpwb2ludGVyOyBmb250LXdlaWdodDpib2xkOyBjb2xvcjojZmZmO1wiPuWIoOmZpOmAieS4reW5tuWvvOWFpTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICQoJ2JvZHknKS5hcHBlbmQocG9wdXBIdG1sKTtcblxuICAgIGNvbnN0IG1vYmlsZVN0eWxlcyA9IGA8c3R5bGU+QG1lZGlhIChtYXgtd2lkdGg6IDYwMHB4KSB7ICMke3BvcHVwSWR9IHsgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQgIWltcG9ydGFudDsgfSAjJHtwb3B1cElkfSA+IGRpdiB7IG1hcmdpbi10b3A6IDV2aDsgfSB9PC9zdHlsZT5gO1xuICAgICQoYCMke3BvcHVwSWR9YCkuYXBwZW5kKG1vYmlsZVN0eWxlcyk7XG5cbiAgICAkKCcjcmVnZXgtZGVsZXRlLXNraXAnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuICAgICAgcmVzb2x2ZShleGlzdGluZ1JlZ2V4ZXMpO1xuICAgIH0pO1xuXG4gICAgJCgnI3JlZ2V4LWRlbGV0ZS1jb25maXJtJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaWRzVG9EZWxldGUgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICAgICQoJy5yZWdleC1kZWxldGUtY2hlY2tib3g6Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBpZHNUb0RlbGV0ZS5hZGQoJCh0aGlzKS5kYXRhKCdpZCcpKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZW1haW5pbmdSZWdleGVzID0gZXhpc3RpbmdSZWdleGVzLmZpbHRlcihyID0+ICFpZHNUb0RlbGV0ZS5oYXMoci5pZCkpO1xuICAgICAgaWYgKGlkc1RvRGVsZXRlLnNpemUgPiAwKSB7XG4gICAgICAgIHRvYXN0ci5pbmZvKGDlt7LliKDpmaQgJHtpZHNUb0RlbGV0ZS5zaXplfSDmnaHml6fmraPliJnjgIJgKTtcbiAgICAgIH1cbiAgICAgICQoYCMke3BvcHVwSWR9YCkucmVtb3ZlKCk7XG4gICAgICByZXNvbHZlKHJlbWFpbmluZ1JlZ2V4ZXMpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dCYXRjaEltcG9ydENvbmZpZ1NlbGVjdGlvblBvcHVwKGNvbmZpZ3NUb0ltcG9ydDogQ29uZmlnRGF0YVtdKTogUHJvbWlzZTxhbnlbXSB8IG51bGw+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIGNvbnN0IHBvcHVwSWQgPSAncHJlc2V0LW1hbmFnZXItYmF0Y2gtaW1wb3J0LXBvcHVwJztcbiAgICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuXG4gICAgY29uc3QgY29uZmlnc0h0bWwgPSBjb25maWdzVG9JbXBvcnRcbiAgICAgIC5tYXAoY29uZmlnID0+IHtcbiAgICAgICAgY29uc3Qgc2FmZU5hbWUgPSAkKCc8ZGl2Lz4nKS50ZXh0KGNvbmZpZy5uYW1lKS5odG1sKCk7XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDhweCA1cHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlOyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDEwcHg7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cInBtLWJhdGNoLWltcG9ydC1jaGVja2JveFwiIGRhdGEtb3JpZ2luYWwtaWQ9XCIke2NvbmZpZy5pZH1cIiBjaGVja2VkIHN0eWxlPVwidHJhbnNmb3JtOiBzY2FsZSgxLjIpO1wiPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9XCJmb250LXdlaWdodDogYm9sZDsgZmxleC1zaHJpbms6IDA7XCIgdGl0bGU9XCIke3NhZmVOYW1lfVwiPiR7c2FmZU5hbWV9PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJwbS1iYXRjaC1pbXBvcnQtbmV3bmFtZVwiIHZhbHVlPVwiJHtzYWZlTmFtZX1cIiBzdHlsZT1cImZsZXg6IDE7IG1pbi13aWR0aDogMTAwcHg7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlcjogMXB4IHNvbGlkICNkNGI1OGI7IGNvbG9yOiMzYTJjMmM7IHBhZGRpbmc6IDRweCA2cHg7IGJvcmRlci1yYWRpdXM6IDRweDsgZm9udC1zaXplOjEzcHg7XCI+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCcnKTtcblxuICAgIGNvbnN0IHBvcHVwSHRtbCA9IGBcbiAgICAgICAgICAgICA8ZGl2IGlkPVwiJHtwb3B1cElkfVwiIHN0eWxlPVwicG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC41KTsgei1pbmRleDogMTAwMDE7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyO1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOGYwOyBjb2xvcjogIzNhMmMyYzsgYm9yZGVyLXJhZGl1czogMTZweDsgcGFkZGluZzogMjBweDsgd2lkdGg6IDkwJTsgbWF4LXdpZHRoOiA1MDBweDsgYm94LXNoYWRvdzogMCA0cHggMjVweCByZ2JhKDEyMCw5MCw2MCwuMjUpOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBtYXgtaGVpZ2h0OiA4MHZoO1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDQgc3R5bGU9XCJtYXJnaW4tdG9wOjA7IGNvbG9yOiM2YTQyMjY7IHRleHQtYWxpZ246IGNlbnRlcjtcIj7pgInmi6nopoHlr7zlhaXnmoTphY3nva48L2g0PlxuICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT1cImZvbnQtc2l6ZTogMTNweDsgY29sb3I6ICM3Nzc7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMTVweDtcIj7li77pgInopoHlr7zlhaXnmoTphY3nva7vvIzlj6/kv67mlLnlr7zlhaXlkI7nmoTlkI3np7DjgII8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJmbGV4OiAxOyBtaW4taGVpZ2h0OiAwOyBvdmVyZmxvdy15OiBhdXRvOyBtYXJnaW4tYm90dG9tOiAyMHB4OyBib3JkZXItdG9wOiAxcHggc29saWQgI2YwZTJkMDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmMGUyZDA7IHBhZGRpbmc6IDVweCAxMHB4O1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHtjb25maWdzSHRtbH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiByaWdodDsgZGlzcGxheTpmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7IGdhcDogMTBweDtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJiYXRjaC1pbXBvcnQtY2FuY2VsXCIgc3R5bGU9XCJwYWRkaW5nOiA4cHggMTZweDsgYmFja2dyb3VuZC1jb2xvcjojZTBlMGUwOyBib3JkZXI6bm9uZTsgYm9yZGVyLXJhZGl1czo2cHg7IGN1cnNvcjpwb2ludGVyOyBjb2xvcjojMzMzO1wiPuWPlua2iDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImJhdGNoLWltcG9ydC1jb25maXJtXCIgc3R5bGU9XCJwYWRkaW5nOiA4cHggMTZweDsgYmFja2dyb3VuZC1jb2xvcjojZjRjNzhlOyBib3JkZXI6bm9uZTsgYm9yZGVyLXJhZGl1czo2cHg7IGN1cnNvcjpwb2ludGVyOyBmb250LXdlaWdodDpib2xkOyBjb2xvcjojM2EyYzJjO1wiPuWvvOWFpemAieS4remhuTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICQoJ2JvZHknKS5hcHBlbmQocG9wdXBIdG1sKTtcblxuICAgIGNvbnN0IG1vYmlsZVN0eWxlcyA9IGA8c3R5bGU+XG4gICAgICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHsgIyR7cG9wdXBJZH0gPiBkaXYgeyBtYXJnaW4tdG9wOiA2MDBweDsgfSB9XG4gICAgICAgIDwvc3R5bGU+YDtcbiAgICAkKGAjJHtwb3B1cElkfWApLmFwcGVuZChtb2JpbGVTdHlsZXMpO1xuXG4gICAgJCgnI2JhdGNoLWltcG9ydC1jYW5jZWwnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICB9KTtcblxuICAgICQoJyNiYXRjaC1pbXBvcnQtY29uZmlybScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNob2ljZXM6IGFueVtdID0gW107XG4gICAgICBsZXQgaGFzRXJyb3IgPSBmYWxzZTtcbiAgICAgICQoJyNwcmVzZXQtbWFuYWdlci1iYXRjaC1pbXBvcnQtcG9wdXAgLnBtLWJhdGNoLWltcG9ydC1jaGVja2JveCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBjaGVja2JveCA9ICQodGhpcyk7XG4gICAgICAgIGNvbnN0IG5ld05hbWUgPSBjaGVja2JveC5zaWJsaW5ncygnLnBtLWJhdGNoLWltcG9ydC1uZXduYW1lJykudmFsKCk/LnRvU3RyaW5nKCkudHJpbSgpO1xuICAgICAgICBpZiAoIW5ld05hbWUgJiYgY2hlY2tib3guaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgICB0b2FzdHIuZXJyb3IoYOacieW3suWLvumAieeahOmFjee9ruaWsOWQjeensOS4uuepuuOAgmApO1xuICAgICAgICAgIGhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2hvaWNlcy5wdXNoKHtcbiAgICAgICAgICBvcmlnaW5hbElkOiBjaGVja2JveC5kYXRhKCdvcmlnaW5hbC1pZCcpLFxuICAgICAgICAgIG5ld05hbWU6IG5ld05hbWUsXG4gICAgICAgICAgaW1wb3J0OiBjaGVja2JveC5pcygnOmNoZWNrZWQnKSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFoYXNFcnJvcikge1xuICAgICAgICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuICAgICAgICByZXNvbHZlKGNob2ljZXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxuLy8g5pi+56S65p+l55yL6YWN572u5by556qXXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2hvd1ZpZXdDb25maWdQb3B1cChjb25maWdJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHsgZ2V0U3RvcmVkQ29uZmlncyB9ID0gYXdhaXQgaW1wb3J0KCcuL+mFjee9ruWtmOWCqOWSjOivu+WPlicpO1xuICBjb25zdCBjb25maWdzID0gYXdhaXQgZ2V0U3RvcmVkQ29uZmlncygpO1xuICBjb25zdCBjb25maWdEYXRhID0gY29uZmlnc1tjb25maWdJZF07XG5cbiAgaWYgKCFjb25maWdEYXRhKSB7XG4gICAgdG9hc3RyLmVycm9yKCfphY3nva7kuI3lrZjlnKgnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyDojrflj5bmiYDmnInmraPliJnkv6Hmga/vvIznlKjkuo7mmL7npLrlkI3np7BcbiAgbGV0IGFsbFJlZ2V4ZXM6IGFueVtdID0gW107XG4gIHRyeSB7XG4gICAgYWxsUmVnZXhlcyA9IGF3YWl0IFRhdmVybkhlbHBlci5nZXRUYXZlcm5SZWdleGVzKHsgc2NvcGU6ICdnbG9iYWwnIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2Fybign6I635Y+W5q2j5YiZ5L+h5oGv5aSx6LSlOicsIGVycm9yKTtcbiAgfVxuXG4gIGNvbnN0IHBvcHVwSWQgPSAncHJlc2V0LW1hbmFnZXItdmlldy1jb25maWctcG9wdXAnO1xuICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuXG4gIC8vIOe7n+iuoemFjee9ruS/oeaBr1xuICBjb25zdCB0b3RhbFN0YXRlcyA9IGNvbmZpZ0RhdGEuc3RhdGVzLmxlbmd0aDtcbiAgY29uc3QgZW5hYmxlZFN0YXRlcyA9IGNvbmZpZ0RhdGEuc3RhdGVzLmZpbHRlcigoc3RhdGU6IGFueSkgPT4gc3RhdGUuZW5hYmxlZCkubGVuZ3RoO1xuICBjb25zdCBkaXNhYmxlZFN0YXRlcyA9IHRvdGFsU3RhdGVzIC0gZW5hYmxlZFN0YXRlcztcblxuICAvLyDliIbnu4TmmL7npLrnirbmgIFcbiAgY29uc3QgZW5hYmxlZFN0YXRlc0h0bWwgPSBjb25maWdEYXRhLnN0YXRlc1xuICAgIC5maWx0ZXIoKHN0YXRlOiBhbnkpID0+IHN0YXRlLmVuYWJsZWQpXG4gICAgLm1hcChcbiAgICAgIChzdGF0ZTogYW55KSA9PlxuICAgICAgICBgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDRweCA4cHg7IG1hcmdpbjogMnB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZThmNWU4OyBib3JkZXItcmFkaXVzOiA0cHg7IGZvbnQtc2l6ZTogMTJweDtcIj4keyQoJzxkaXYvPicpLnRleHQoc3RhdGUubmFtZSkuaHRtbCgpfTwvZGl2PmAsXG4gICAgKVxuICAgIC5qb2luKCcnKTtcblxuICBjb25zdCBkaXNhYmxlZFN0YXRlc0h0bWwgPSBjb25maWdEYXRhLnN0YXRlc1xuICAgIC5maWx0ZXIoKHN0YXRlOiBhbnkpID0+ICFzdGF0ZS5lbmFibGVkKVxuICAgIC5tYXAoXG4gICAgICAoc3RhdGU6IGFueSkgPT5cbiAgICAgICAgYDxkaXYgc3R5bGU9XCJwYWRkaW5nOiA0cHggOHB4OyBtYXJnaW46IDJweDsgYmFja2dyb3VuZC1jb2xvcjogI2ZmZWJlZTsgYm9yZGVyLXJhZGl1czogNHB4OyBmb250LXNpemU6IDEycHg7XCI+JHskKCc8ZGl2Lz4nKS50ZXh0KHN0YXRlLm5hbWUpLmh0bWwoKX08L2Rpdj5gLFxuICAgIClcbiAgICAuam9pbignJyk7XG5cbiAgLy8g5q2j5YiZ57uR5a6a5L+h5oGvXG4gIGNvbnN0IHJlZ2V4SW5mbyA9XG4gICAgY29uZmlnRGF0YS5yZWdleFN0YXRlcyAmJiBjb25maWdEYXRhLnJlZ2V4U3RhdGVzLmxlbmd0aCA+IDBcbiAgICAgID8gYDxkaXYgc3R5bGU9XCJtYXJnaW4tdG9wOiAxNXB4O1wiPlxuICAgICAgICAgPGg1IHN0eWxlPVwiY29sb3I6ICM2YTQyMjY7IG1hcmdpbi1ib3R0b206IDhweDtcIj7nu5HlrprmraPliJkgKCR7Y29uZmlnRGF0YS5yZWdleFN0YXRlcy5sZW5ndGh95LiqKTwvaDU+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwiaXRlbS1saXN0XCIgc3R5bGU9XCJtYXgtaGVpZ2h0OiAxMDBweDsgb3ZlcmZsb3cteTogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgI2UwYzlhNjsgYm9yZGVyLXJhZGl1czogNHB4OyBwYWRkaW5nOiA4cHg7XCI+XG4gICAgICAgICAgICR7Y29uZmlnRGF0YS5yZWdleFN0YXRlc1xuICAgICAgICAgICAgIC5tYXAoKHJlZ2V4OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgIC8vIOS7juaJgOacieato+WImeS4reafpeaJvuWvueW6lOeahOato+WImeS/oeaBr1xuICAgICAgICAgICAgICAgY29uc3QgZnVsbFJlZ2V4SW5mbyA9IGFsbFJlZ2V4ZXMuZmluZChyID0+IHIuaWQgPT09IHJlZ2V4LmlkKTtcbiAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4TmFtZSA9XG4gICAgICAgICAgICAgICAgIGZ1bGxSZWdleEluZm8/LnNjcmlwdF9uYW1lIHx8XG4gICAgICAgICAgICAgICAgIGZ1bGxSZWdleEluZm8/LnNjcmlwdE5hbWUgfHxcbiAgICAgICAgICAgICAgICAgcmVnZXguc2NyaXB0TmFtZSB8fFxuICAgICAgICAgICAgICAgICByZWdleC5zY3JpcHRfbmFtZSB8fFxuICAgICAgICAgICAgICAgICByZWdleC5uYW1lIHx8XG4gICAgICAgICAgICAgICAgIGDmraPliJlJRDogJHtyZWdleC5pZH1gO1xuICAgICAgICAgICAgICAgcmV0dXJuIGA8ZGl2IHN0eWxlPVwicGFkZGluZzogNHB4IDhweDsgbWFyZ2luOiAycHg7IGJhY2tncm91bmQtY29sb3I6ICR7cmVnZXguZW5hYmxlZCA/ICcjZTNmMmZkJyA6ICcjZmFmYWZhJ307IGJvcmRlci1yYWRpdXM6IDRweDsgZm9udC1zaXplOiAxMnB4O1wiPlxuICAgICAgICAgICAgICAgICR7JCgnPGRpdi8+JykudGV4dChyZWdleE5hbWUpLmh0bWwoKX0gJHtyZWdleC5lbmFibGVkID8gJyjlkK/nlKgpJyA6ICco56aB55SoKSd9XG4gICAgICAgICAgICAgIDwvZGl2PmA7XG4gICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAuam9pbignJyl9XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICA8L2Rpdj5gXG4gICAgICA6ICcnO1xuXG4gIGNvbnN0IHBvcHVwSHRtbCA9IGBcbiAgICA8ZGl2IGlkPVwiJHtwb3B1cElkfVwiIHN0eWxlPVwicG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC41KTsgei1pbmRleDogMTAwMDI7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyO1wiPlxuICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICNmZmY4ZjA7IGNvbG9yOiAjM2EyYzJjOyBib3JkZXItcmFkaXVzOiAxNnB4OyBwYWRkaW5nOiAyMHB4OyB3aWR0aDogOTAlOyBtYXgtd2lkdGg6IDYwMHB4OyBib3gtc2hhZG93OiAwIDRweCAyNXB4IHJnYmEoMTIwLDkwLDYwLC4yNSk7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IG1heC1oZWlnaHQ6IDgwdmg7XCI+XG4gICAgICAgIDxoNCBzdHlsZT1cIm1hcmdpbi10b3A6MDsgY29sb3I6IzZhNDIyNjsgdGV4dC1hbGlnbjogY2VudGVyOyBib3JkZXItYm90dG9tOiAycHggc29saWQgI2YwZDhiNjsgcGFkZGluZy1ib3R0b206IDEwcHg7XCI+5p+l55yL6YWN572u6K+m5oOFPC9oND5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgc3R5bGU9XCJmbGV4OiAxOyBtaW4taGVpZ2h0OiAwOyBvdmVyZmxvdy15OiBhdXRvOyBtYXJnaW46IDE1cHggMDtcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLWJvdHRvbTogMTVweDtcIj5cbiAgICAgICAgICAgIDxoNSBzdHlsZT1cImNvbG9yOiAjNmE0MjI2OyBtYXJnaW4tYm90dG9tOiA4cHg7XCI+5Z+65pys5L+h5oGvPC9oNT5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmM2VhOyBwYWRkaW5nOiAxMHB4OyBib3JkZXItcmFkaXVzOiA2cHg7XCI+XG4gICAgICAgICAgICAgIDxkaXY+PHN0cm9uZz7phY3nva7lkI3np7A6PC9zdHJvbmc+ICR7JCgnPGRpdi8+JykudGV4dChjb25maWdEYXRhLm5hbWUpLmh0bWwoKX08L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdj48c3Ryb25nPuWFs+iBlOmihOiuvjo8L3N0cm9uZz4gJHskKCc8ZGl2Lz4nKS50ZXh0KGNvbmZpZ0RhdGEucHJlc2V0TmFtZSkuaHRtbCgpfTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2PjxzdHJvbmc+5Yib5bu65pe26Ze0Ojwvc3Ryb25nPiAke25ldyBEYXRlKGNvbmZpZ0RhdGEuaWQpLnRvTG9jYWxlU3RyaW5nKCl9PC9kaXY+XG4gICAgICAgICAgICAgICR7Y29uZmlnRGF0YS5ib3VuZENoYXJOYW1lID8gYDxkaXY+PHN0cm9uZz7nu5Hlrprop5LoibI6PC9zdHJvbmc+IDxzcGFuIHN0eWxlPVwiY29sb3I6ICM0Q0FGNTA7XCI+JHskKCc8ZGl2Lz4nKS50ZXh0KGNvbmZpZ0RhdGEuYm91bmRDaGFyTmFtZSkuaHRtbCgpfTwvc3Bhbj48L2Rpdj5gIDogJyd9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW4tYm90dG9tOiAxNXB4O1wiPlxuICAgICAgICAgICAgPGg1IHN0eWxlPVwiY29sb3I6ICM2YTQyMjY7IG1hcmdpbi1ib3R0b206IDhweDtcIj7mnaHnm67nirbmgIHnu5/orqE8L2g1PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRzLWNvbnRhaW5lclwiIHN0eWxlPVwiZGlzcGxheTogZmxleDsgZ2FwOiAxMHB4OyBtYXJnaW4tYm90dG9tOiAxMHB4O1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHMtaXRlbVwiIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogI2U4ZjVlODsgcGFkZGluZzogOHB4OyBib3JkZXItcmFkaXVzOiA2cHg7IGZsZXg6IDE7IHRleHQtYWxpZ246IGNlbnRlcjtcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjMmU3ZDMyO1wiPuWQr+eUqDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiBib2xkO1wiPiR7ZW5hYmxlZFN0YXRlc308L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0cy1pdGVtXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjZmZlYmVlOyBwYWRkaW5nOiA4cHg7IGJvcmRlci1yYWRpdXM6IDZweDsgZmxleDogMTsgdGV4dC1hbGlnbjogY2VudGVyO1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICNjNjI4Mjg7XCI+56aB55SoPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7XCI+JHtkaXNhYmxlZFN0YXRlc308L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0cy1pdGVtXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmNGY4OyBwYWRkaW5nOiA4cHg7IGJvcmRlci1yYWRpdXM6IDZweDsgZmxleDogMTsgdGV4dC1hbGlnbjogY2VudGVyO1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICM1NDZlN2E7XCI+5oC76K6hPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7XCI+JHt0b3RhbFN0YXRlc308L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICR7XG4gICAgICAgICAgICBlbmFibGVkU3RhdGVzID4gMFxuICAgICAgICAgICAgICA/IGBcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLWJvdHRvbTogMTVweDtcIj5cbiAgICAgICAgICAgIDxoNSBzdHlsZT1cImNvbG9yOiAjNmE0MjI2OyBtYXJnaW4tYm90dG9tOiA4cHg7XCI+5ZCv55So55qE5p2h55uuICgke2VuYWJsZWRTdGF0ZXN95LiqKTwvaDU+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaXRlbS1saXN0XCIgc3R5bGU9XCJtYXgtaGVpZ2h0OiAxNTBweDsgb3ZlcmZsb3cteTogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgI2UwYzlhNjsgYm9yZGVyLXJhZGl1czogNHB4OyBwYWRkaW5nOiA4cHg7XCI+XG4gICAgICAgICAgICAgICR7ZW5hYmxlZFN0YXRlc0h0bWx9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgXG4gICAgICAgICAgICAgIDogJydcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAke1xuICAgICAgICAgICAgZGlzYWJsZWRTdGF0ZXMgPiAwXG4gICAgICAgICAgICAgID8gYFxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW4tYm90dG9tOiAxNXB4O1wiPlxuICAgICAgICAgICAgPGg1IHN0eWxlPVwiY29sb3I6ICM2YTQyMjY7IG1hcmdpbi1ib3R0b206IDhweDtcIj7npoHnlKjnmoTmnaHnm64gKCR7ZGlzYWJsZWRTdGF0ZXN95LiqKTwvaDU+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaXRlbS1saXN0XCIgc3R5bGU9XCJtYXgtaGVpZ2h0OiAxNTBweDsgb3ZlcmZsb3cteTogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgI2UwYzlhNjsgYm9yZGVyLXJhZGl1czogNHB4OyBwYWRkaW5nOiA4cHg7XCI+XG4gICAgICAgICAgICAgICR7ZGlzYWJsZWRTdGF0ZXNIdG1sfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYFxuICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJHtyZWdleEluZm99XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiByaWdodDsgbWFyZ2luLXRvcDogMTVweDsgZGlzcGxheTogZmxleDsgZ2FwOiAxMHB4OyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1wiPlxuICAgICAgICAgIDxidXR0b24gaWQ9XCJ2aWV3LWNvbmZpZy1sb2FkXCIgZGF0YS1pZD1cIiR7Y29uZmlnSWR9XCIgc3R5bGU9XCJwYWRkaW5nOiA4cHggMTZweDsgYmFja2dyb3VuZC1jb2xvcjojNENBRjUwOyBib3JkZXI6bm9uZTsgYm9yZGVyLXJhZGl1czo2cHg7IGN1cnNvcjpwb2ludGVyOyBmb250LXdlaWdodDpib2xkOyBjb2xvcjojZmZmO1wiPuWKoOi9veatpOmFjee9rjwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gaWQ9XCJ2aWV3LWNvbmZpZy1jbG9zZVwiIHN0eWxlPVwicGFkZGluZzogOHB4IDE2cHg7IGJhY2tncm91bmQtY29sb3I6I2Y0Yzc4ZTsgYm9yZGVyOm5vbmU7IGJvcmRlci1yYWRpdXM6NnB4OyBjdXJzb3I6cG9pbnRlcjsgZm9udC13ZWlnaHQ6Ym9sZDsgY29sb3I6IzNhMmMyYztcIj7lhbPpl608L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcblxuICAkKCdib2R5JykuYXBwZW5kKHBvcHVwSHRtbCk7XG5cbiAgLy8g57uR5a6a5LqL5Lu2XG4gICQoJyN2aWV3LWNvbmZpZy1jbG9zZScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuICB9KTtcblxuICAkKCcjdmlldy1jb25maWctbG9hZCcpLm9uKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBjb25maWdJZCA9ICQoJyN2aWV3LWNvbmZpZy1sb2FkJykuZGF0YSgnaWQnKTtcbiAgICAkKGAjJHtwb3B1cElkfWApLnJlbW92ZSgpO1xuICAgIGNvbnN0IHsgbG9hZENvbmZpZyB9ID0gYXdhaXQgaW1wb3J0KCcuL+mFjee9ruaTjeS9nOWKn+iDvScpO1xuICAgIGF3YWl0IGxvYWRDb25maWcoY29uZmlnSWQpO1xuICB9KTtcblxuICAvLyDnp7vliqjnq6/moLflvI9cbiAgY29uc3QgbW9iaWxlU3R5bGVzID0gYDxzdHlsZT5cbiAgICBAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHsgXG4gICAgICAjJHtwb3B1cElkfSB7IFxuICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydCAhaW1wb3J0YW50OyBcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgIH0gXG4gICAgICAjJHtwb3B1cElkfSA+IGRpdiB7IFxuICAgICAgICBtYXJnaW4tdG9wOiA1dmg7IFxuICAgICAgICBtYXgtaGVpZ2h0OiA5MHZoICFpbXBvcnRhbnQ7IFxuICAgICAgICB3aWR0aDogOTUlICFpbXBvcnRhbnQ7XG4gICAgICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSBoNCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweCAhaW1wb3J0YW50O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSBoNSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTVweCAhaW1wb3J0YW50O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSBidXR0b24ge1xuICAgICAgICBmb250LXNpemU6IDE0cHggIWltcG9ydGFudDtcbiAgICAgICAgcGFkZGluZzogMTBweCAxNnB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDQ0cHg7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSAuc3RhdHMtY29udGFpbmVyIHtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbiAhaW1wb3J0YW50O1xuICAgICAgICBnYXA6IDhweCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgIyR7cG9wdXBJZH0gLnN0YXRzLWl0ZW0ge1xuICAgICAgICBmbGV4OiBub25lICFpbXBvcnRhbnQ7XG4gICAgICAgIHBhZGRpbmc6IDEycHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9IC5pdGVtLWxpc3Qge1xuICAgICAgICBtYXgtaGVpZ2h0OiAxMjBweCAhaW1wb3J0YW50O1xuICAgICAgICBmb250LXNpemU6IDEzcHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9IC5pdGVtLWxpc3QgZGl2IHtcbiAgICAgICAgcGFkZGluZzogNnB4IDEwcHggIWltcG9ydGFudDtcbiAgICAgICAgbWFyZ2luOiAzcHggIWltcG9ydGFudDtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkge1xuICAgICAgIyR7cG9wdXBJZH0gPiBkaXYge1xuICAgICAgICBtYXJnaW4tdG9wOiAydmggIWltcG9ydGFudDtcbiAgICAgICAgbWF4LWhlaWdodDogOTZ2aCAhaW1wb3J0YW50O1xuICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgfVxuICAgICAgIyR7cG9wdXBJZH0gaDQge1xuICAgICAgICBmb250LXNpemU6IDE2cHggIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgICMke3BvcHVwSWR9IC5zdGF0cy1pdGVtIHtcbiAgICAgICAgcGFkZGluZzogMTBweCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgIyR7cG9wdXBJZH0gLnN0YXRzLWl0ZW0gZGl2OmZpcnN0LWNoaWxkIHtcbiAgICAgICAgZm9udC1zaXplOiAxM3B4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAjJHtwb3B1cElkfSAuc3RhdHMtaXRlbSBkaXY6bGFzdC1jaGlsZCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgIH1cbiAgPC9zdHlsZT5gO1xuICAkKGAjJHtwb3B1cElkfWApLmFwcGVuZChtb2JpbGVTdHlsZXMpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/喵喵预设配置管理/辅助弹窗功能.ts\n\n}");

/***/ }),

/***/ "./src/喵喵预设配置管理/配置存储和读取.ts":
/*!*********************************!*\
  !*** ./src/喵喵预设配置管理/配置存储和读取.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearConfigCache: () => (/* binding */ clearConfigCache),\n/* harmony export */   getPresetNameByIdentifier: () => (/* binding */ getPresetNameByIdentifier),\n/* harmony export */   getStoredConfigs: () => (/* binding */ getStoredConfigs),\n/* harmony export */   renderConfigsList: () => (/* binding */ renderConfigsList),\n/* harmony export */   setStoredConfigs: () => (/* binding */ setStoredConfigs)\n/* harmony export */ });\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./初始化和配置 */ \"./src/喵喵预设配置管理/初始化和配置.ts\");\n\n// 添加配置缓存\nlet configCache = null;\nlet lastCacheTime = 0;\nconst CONFIG_CACHE_DURATION = 10000; // 10秒缓存\nasync function getStoredConfigs() {\n    // 检查缓存是否有效\n    const now = Date.now();\n    if (configCache && now - lastCacheTime < CONFIG_CACHE_DURATION) {\n        return configCache;\n    }\n    let worldbookEntries;\n    try {\n        worldbookEntries = await TavernHelper.getWorldbook(___WEBPACK_IMPORTED_MODULE_0__.CONFIG_LOREBOOK_NAME);\n    }\n    catch (error) {\n        return {};\n    }\n    const v2Entry = worldbookEntries.find((entry) => entry.strategy?.keys?.includes(___WEBPACK_IMPORTED_MODULE_0__.V2_MIGRATION_KEY));\n    if (v2Entry) {\n        console.log('喵喵预设配置管理: 检测到旧版合并数据，正在迁移...');\n        try {\n            const configsArray = JSON.parse(v2Entry.content);\n            const migratedEntries = configsArray.map((config) => ({\n                name: config.name || config.id,\n                strategy: { type: 'constant', keys: [config.id] },\n                content: JSON.stringify(config),\n                enabled: false,\n            }));\n            const otherEntries = worldbookEntries.filter((entry) => !entry.strategy?.keys?.includes(___WEBPACK_IMPORTED_MODULE_0__.V2_MIGRATION_KEY));\n            await TavernHelper.createOrReplaceWorldbook(___WEBPACK_IMPORTED_MODULE_0__.CONFIG_LOREBOOK_NAME, [...otherEntries, ...migratedEntries]);\n            toastr.info('喵喵预设配置管理：已自动升级数据格式。');\n            worldbookEntries = await TavernHelper.getWorldbook(___WEBPACK_IMPORTED_MODULE_0__.CONFIG_LOREBOOK_NAME);\n        }\n        catch (e) {\n            console.error('迁移配置失败:', e);\n            toastr.error('自动迁移配置数据失败，请检查控制台。');\n        }\n    }\n    const configs = {};\n    for (const entry of worldbookEntries) {\n        try {\n            const configData = JSON.parse(entry.content);\n            if (configData.id && configData.name && Array.isArray(configData.states)) {\n                configs[configData.id] = configData;\n            }\n        }\n        catch (e) {\n            // 忽略解析失败的条目\n        }\n    }\n    // 更新缓存\n    configCache = configs;\n    lastCacheTime = now;\n    return configs;\n}\n// 清除配置缓存\nfunction clearConfigCache() {\n    configCache = null;\n    lastCacheTime = 0;\n}\n// 通过识别条目ID获取预设名称\nasync function getPresetNameByIdentifier(identifierId) {\n    try {\n        console.log(`正在查找识别条目ID: ${identifierId}`);\n        const presetNames = TavernHelper.getPresetNames();\n        console.log(`可用预设列表:`, presetNames);\n        for (const presetName of presetNames) {\n            const preset = TavernHelper.getPreset(presetName);\n            if (preset && preset.prompts) {\n                // 检查 prompts 和 prompts_unused 两个数组\n                const allPrompts = [...preset.prompts, ...(preset.prompts_unused || [])];\n                const hasIdentifier = allPrompts.some((p) => p.id === identifierId);\n                if (hasIdentifier) {\n                    console.log(`在预设 \"${presetName}\" 中找到识别条目ID: ${identifierId}`);\n                    return presetName;\n                }\n            }\n        }\n        console.warn(`未找到识别条目ID: ${identifierId}`);\n        return null;\n    }\n    catch (error) {\n        console.error('通过识别条目获取预设名称失败:', error);\n        return null;\n    }\n}\nasync function setStoredConfigs(configsObject) {\n    try {\n        const nameCounts = {};\n        const entries = Object.values(configsObject).map(config => {\n            let entryName = config.name;\n            nameCounts[entryName] = (nameCounts[entryName] || 0) + 1;\n            if (nameCounts[entryName] > 1) {\n                entryName = `${entryName} (${config.id.slice(-5)})`;\n            }\n            return {\n                name: entryName,\n                strategy: { type: 'constant', keys: [config.id] },\n                content: JSON.stringify(config),\n                enabled: false,\n                comment: `MiaoMiao Preset Config: ${config.name} (ID: ${config.id})`,\n            };\n        });\n        await TavernHelper.createOrReplaceWorldbook(___WEBPACK_IMPORTED_MODULE_0__.CONFIG_LOREBOOK_NAME, entries);\n    }\n    catch (error) {\n        console.error('写入配置到世界书失败:', error);\n        toastr.error('配置保存/更新失败，请检查控制台日志。');\n    }\n}\nasync function renderConfigsList() {\n    const configsObject = await getStoredConfigs();\n    const configs = Object.values(configsObject);\n    const listElement = $('#preset-manager-list');\n    listElement.empty();\n    if (configs.length === 0) {\n        listElement.append('<li style=\"color:#888; padding:10px;\">暂无已保存的配置。</li>');\n        return;\n    }\n    // 使用异步分组，优先通过识别条目ID获取预设名称\n    const groupedConfigs = {};\n    for (const config of configs) {\n        let groupName = '未分类';\n        if (config.identifierId) {\n            // 优先使用识别条目ID获取预设名称\n            const presetName = await getPresetNameByIdentifier(config.identifierId);\n            if (presetName) {\n                // 如果找到的是\"in_use\"，需要转换为当前正在使用的实际预设名称\n                if (presetName === 'in_use') {\n                    const currentPresetName = TavernHelper.getLoadedPresetName();\n                    groupName = currentPresetName !== 'in_use' ? currentPresetName : 'in_use';\n                    console.log(`配置 \"${config.name}\" 找到in_use，转换为当前预设: ${groupName}`);\n                }\n                else {\n                    groupName = presetName;\n                    console.log(`配置 \"${config.name}\" 通过识别条目ID找到预设: ${presetName}`);\n                }\n            }\n            else if (config.presetName && config.presetName !== 'in_use') {\n                // 回退到预设名称，但排除\"in_use\"\n                groupName = config.presetName;\n                console.log(`配置 \"${config.name}\" 使用预设名称: ${config.presetName}`);\n            }\n            else {\n                console.warn(`配置 \"${config.name}\" 无法找到有效预设名称，使用默认分组`);\n            }\n        }\n        else if (config.presetName && config.presetName !== 'in_use') {\n            // 向后兼容：使用预设名称，但排除\"in_use\"\n            groupName = config.presetName;\n            console.log(`配置 \"${config.name}\" 使用预设名称（向后兼容）: ${config.presetName}`);\n        }\n        else {\n            console.warn(`配置 \"${config.name}\" 没有有效的预设信息，使用默认分组`);\n        }\n        if (!groupedConfigs[groupName])\n            groupedConfigs[groupName] = [];\n        groupedConfigs[groupName].push(config);\n    }\n    const sortedGroupNames = Object.keys(groupedConfigs).sort((a, b) => {\n        if (a === '未分类')\n            return 1;\n        if (b === '未分类')\n            return -1;\n        return a.localeCompare(b);\n    });\n    for (const groupName of sortedGroupNames) {\n        const configsInGroup = groupedConfigs[groupName];\n        const safeGroupName = $('<div/>').text(groupName).html();\n        const isUncategorized = groupName === '未分类';\n        const groupElement = $(`\n            <details class=\"pm-config-group\" ${isUncategorized ? 'open' : ''}>\n                <summary class=\"pm-config-group-summary\">${safeGroupName} <span class=\"pm-config-count\">(${configsInGroup.length})</span></summary>\n                <ul class=\"pm-config-sublist\"></ul>\n            </details>\n        `);\n        const sublist = groupElement.find('.pm-config-sublist');\n        for (const configData of configsInGroup) {\n            const boundCharDisplay = configData.boundCharName\n                ? `<span style=\"color:#4CAF50; margin-left: 8px; font-weight:bold;\">(绑定: ${configData.boundCharName})</span>`\n                : '';\n            const listItem = $(`\n                <li style=\"display:flex; justify-content:space-between; align-items:center; padding:10px; border-bottom: 1px solid #f0e2d0; font-size:14px;\">\n                    <div style=\"display:flex; flex-direction:column; align-items:flex-start; overflow:hidden; margin-right: 10px; flex: 1; min-width: 0;\">\n                        <span style=\"font-weight:bold; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width: 100%;\" title=\"${$('<div/>').text(configData.name).html()}\">${$('<div/>').text(configData.name).html()}${boundCharDisplay}</span>\n                    </div>\n                    <div class=\"pm-actions-container\">\n                        <button data-id=\"${configData.id}\" name=\"load-config\" style=\"background-color:#f9d6a5; color:#3a2c2c;\">加载</button>\n                        <button data-id=\"${configData.id}\" name=\"delete-config\" style=\"background-color:#f5a8a0; color:#fff;\">删除</button>\n                        <div class=\"pm-more-btn-wrapper\">\n                            <button name=\"more-actions\" style=\"background-color:#b0bec5; color:#fff;\">更多</button>\n                            <div class=\"pm-submenu\">\n                                <button data-id=\"${configData.id}\" name=\"view-config\">查看</button>\n                                <button data-id=\"${configData.id}\" name=\"update-config\">更新</button>\n                                <button data-id=\"${configData.id}\" name=\"rename-config\">重命名</button>\n                                <button data-id=\"${configData.id}\" name=\"bind-regex\">正则</button>\n                                <button data-id=\"${configData.id}\" name=\"export-config\">导出</button>\n                                <div style=\"border-top: 1px solid #eee; margin: 5px 0;\"></div>\n                                <button name=\"close-submenu\" style=\"color: #888; text-align: center;\">关闭</button>\n                            </div>\n                        </div>\n                    </div>\n                </li>\n            `);\n            sublist.append(listItem);\n        }\n        listElement.append(groupElement);\n    }\n    // 绑定按钮事件\n    // 使用动态导入避免循环引用，添加延迟确保DOM完全更新\n    setTimeout(() => {\n        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./事件绑定 */ \"./src/喵喵预设配置管理/事件绑定.ts\"))\n            .then(({ bindConfigListEvents }) => {\n            bindConfigListEvents();\n        })\n            .catch(error => {\n            console.error('绑定按钮事件失败:', error);\n        });\n    }, 100);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5Za15Za16aKE6K6+6YWN572u566h55CGL+mFjee9ruWtmOWCqOWSjOivu+WPli50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBa0U7QUFhbEUsU0FBUztBQUNULElBQUksV0FBVyxHQUFzQyxJQUFJLENBQUM7QUFDMUQsSUFBSSxhQUFhLEdBQUcsQ0FBQyxDQUFDO0FBQ3RCLE1BQU0scUJBQXFCLEdBQUcsS0FBSyxDQUFDLENBQUMsUUFBUTtBQUV0QyxLQUFLLFVBQVUsZ0JBQWdCO0lBQ3BDLFdBQVc7SUFDWCxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDdkIsSUFBSSxXQUFXLElBQUksR0FBRyxHQUFHLGFBQWEsR0FBRyxxQkFBcUIsRUFBRSxDQUFDO1FBQy9ELE9BQU8sV0FBVyxDQUFDO0lBQ3JCLENBQUM7SUFFRCxJQUFJLGdCQUFnQixDQUFDO0lBQ3JCLElBQUksQ0FBQztRQUNILGdCQUFnQixHQUFHLE1BQU0sWUFBWSxDQUFDLFlBQVksQ0FBQyxtREFBb0IsQ0FBQyxDQUFDO0lBQzNFLENBQUM7SUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1FBQ2YsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDO0lBRUQsTUFBTSxPQUFPLEdBQUcsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBcUIsRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsUUFBUSxDQUFDLCtDQUFnQixDQUFDLENBQUMsQ0FBQztJQUNuSCxJQUFJLE9BQU8sRUFBRSxDQUFDO1FBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQztZQUNILE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ2pELE1BQU0sZUFBZSxHQUFHLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFxQyxFQUFFLEVBQUUsQ0FBQyxD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QyxXQUFXLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDcEMsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDVixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/llrXllrXpooTorr7phY3nva7nrqHnkIYv6YWN572u5a2Y5YKo5ZKM6K+75Y+WLnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDT05GSUdfTE9SRUJPT0tfTkFNRSwgVjJfTUlHUkFUSU9OX0tFWSB9IGZyb20gJy4v5Yid5aeL5YyW5ZKM6YWN572uJztcblxuZXhwb3J0IGludGVyZmFjZSBDb25maWdEYXRhIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBwcmVzZXROYW1lPzogc3RyaW5nOyAvLyDkv53nlZnnlKjkuo7lkJHlkI7lhbzlrrlcbiAgaWRlbnRpZmllcklkPzogc3RyaW5nOyAvLyDor4bliKvmnaHnm67nmoRJRO+8jOeUqOS6juabtOWPr+mdoOeahOmihOiuvuivhuWIq1xuICBzdGF0ZXM6IEFycmF5PHsgaWQ6IHN0cmluZzsgZW5hYmxlZDogYm9vbGVhbjsgbmFtZTogc3RyaW5nIH0+O1xuICByZWdleFN0YXRlcz86IEFycmF5PHsgaWQ6IHN0cmluZzsgZW5hYmxlZDogYm9vbGVhbiB9PjtcbiAgYm91bmRDaGFyQXZhdGFyPzogc3RyaW5nO1xuICBib3VuZENoYXJOYW1lPzogc3RyaW5nO1xufVxuXG4vLyDmt7vliqDphY3nva7nvJPlrZhcbmxldCBjb25maWdDYWNoZTogUmVjb3JkPHN0cmluZywgQ29uZmlnRGF0YT4gfCBudWxsID0gbnVsbDtcbmxldCBsYXN0Q2FjaGVUaW1lID0gMDtcbmNvbnN0IENPTkZJR19DQUNIRV9EVVJBVElPTiA9IDEwMDAwOyAvLyAxMOenkue8k+WtmFxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U3RvcmVkQ29uZmlncygpOiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIENvbmZpZ0RhdGE+PiB7XG4gIC8vIOajgOafpee8k+WtmOaYr+WQpuacieaViFxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICBpZiAoY29uZmlnQ2FjaGUgJiYgbm93IC0gbGFzdENhY2hlVGltZSA8IENPTkZJR19DQUNIRV9EVVJBVElPTikge1xuICAgIHJldHVybiBjb25maWdDYWNoZTtcbiAgfVxuXG4gIGxldCB3b3JsZGJvb2tFbnRyaWVzO1xuICB0cnkge1xuICAgIHdvcmxkYm9va0VudHJpZXMgPSBhd2FpdCBUYXZlcm5IZWxwZXIuZ2V0V29ybGRib29rKENPTkZJR19MT1JFQk9PS19OQU1FKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICBjb25zdCB2MkVudHJ5ID0gd29ybGRib29rRW50cmllcy5maW5kKChlbnRyeTogV29ybGRib29rRW50cnkpID0+IGVudHJ5LnN0cmF0ZWd5Py5rZXlzPy5pbmNsdWRlcyhWMl9NSUdSQVRJT05fS0VZKSk7XG4gIGlmICh2MkVudHJ5KSB7XG4gICAgY29uc29sZS5sb2coJ+WWteWWtemihOiuvumFjee9rueuoeeQhjog5qOA5rWL5Yiw5pen54mI5ZCI5bm25pWw5o2u77yM5q2j5Zyo6L+B56e7Li4uJyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbmZpZ3NBcnJheSA9IEpTT04ucGFyc2UodjJFbnRyeS5jb250ZW50KTtcbiAgICAgIGNvbnN0IG1pZ3JhdGVkRW50cmllcyA9IGNvbmZpZ3NBcnJheS5tYXAoKGNvbmZpZzogeyBuYW1lPzogc3RyaW5nOyBpZDogc3RyaW5nIH0pID0+ICh7XG4gICAgICAgIG5hbWU6IGNvbmZpZy5uYW1lIHx8IGNvbmZpZy5pZCxcbiAgICAgICAgc3RyYXRlZ3k6IHsgdHlwZTogJ2NvbnN0YW50Jywga2V5czogW2NvbmZpZy5pZF0gfSxcbiAgICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkoY29uZmlnKSxcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICB9KSk7XG5cbiAgICAgIGNvbnN0IG90aGVyRW50cmllcyA9IHdvcmxkYm9va0VudHJpZXMuZmlsdGVyKFxuICAgICAgICAoZW50cnk6IFdvcmxkYm9va0VudHJ5KSA9PiAhZW50cnkuc3RyYXRlZ3k/LmtleXM/LmluY2x1ZGVzKFYyX01JR1JBVElPTl9LRVkpLFxuICAgICAgKTtcbiAgICAgIGF3YWl0IFRhdmVybkhlbHBlci5jcmVhdGVPclJlcGxhY2VXb3JsZGJvb2soQ09ORklHX0xPUkVCT09LX05BTUUsIFsuLi5vdGhlckVudHJpZXMsIC4uLm1pZ3JhdGVkRW50cmllc10pO1xuICAgICAgdG9hc3RyLmluZm8oJ+WWteWWtemihOiuvumFjee9rueuoeeQhu+8muW3suiHquWKqOWNh+e6p+aVsOaNruagvOW8j+OAgicpO1xuICAgICAgd29ybGRib29rRW50cmllcyA9IGF3YWl0IFRhdmVybkhlbHBlci5nZXRXb3JsZGJvb2soQ09ORklHX0xPUkVCT09LX05BTUUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+i/geenu+mFjee9ruWksei0pTonLCBlKTtcbiAgICAgIHRvYXN0ci5lcnJvcign6Ieq5Yqo6L+B56e76YWN572u5pWw5o2u5aSx6LSl77yM6K+35qOA5p+l5o6n5Yi25Y+w44CCJyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgY29uZmlnczogUmVjb3JkPHN0cmluZywgQ29uZmlnRGF0YT4gPSB7fTtcbiAgZm9yIChjb25zdCBlbnRyeSBvZiB3b3JsZGJvb2tFbnRyaWVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbmZpZ0RhdGEgPSBKU09OLnBhcnNlKGVudHJ5LmNvbnRlbnQpO1xuICAgICAgaWYgKGNvbmZpZ0RhdGEuaWQgJiYgY29uZmlnRGF0YS5uYW1lICYmIEFycmF5LmlzQXJyYXkoY29uZmlnRGF0YS5zdGF0ZXMpKSB7XG4gICAgICAgIGNvbmZpZ3NbY29uZmlnRGF0YS5pZF0gPSBjb25maWdEYXRhO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIOW/veeVpeino+aekOWksei0peeahOadoeebrlxuICAgIH1cbiAgfVxuXG4gIC8vIOabtOaWsOe8k+WtmFxuICBjb25maWdDYWNoZSA9IGNvbmZpZ3M7XG4gIGxhc3RDYWNoZVRpbWUgPSBub3c7XG5cbiAgcmV0dXJuIGNvbmZpZ3M7XG59XG5cbi8vIOa4hemZpOmFjee9rue8k+WtmFxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQ29uZmlnQ2FjaGUoKTogdm9pZCB7XG4gIGNvbmZpZ0NhY2hlID0gbnVsbDtcbiAgbGFzdENhY2hlVGltZSA9IDA7XG59XG5cbi8vIOmAmui/h+ivhuWIq+adoeebrklE6I635Y+W6aKE6K6+5ZCN56ewXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJlc2V0TmFtZUJ5SWRlbnRpZmllcihpZGVudGlmaWVySWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKGDmraPlnKjmn6Xmib7or4bliKvmnaHnm65JRDogJHtpZGVudGlmaWVySWR9YCk7XG4gICAgY29uc3QgcHJlc2V0TmFtZXMgPSBUYXZlcm5IZWxwZXIuZ2V0UHJlc2V0TmFtZXMoKTtcbiAgICBjb25zb2xlLmxvZyhg5Y+v55So6aKE6K6+5YiX6KGoOmAsIHByZXNldE5hbWVzKTtcblxuICAgIGZvciAoY29uc3QgcHJlc2V0TmFtZSBvZiBwcmVzZXROYW1lcykge1xuICAgICAgY29uc3QgcHJlc2V0ID0gVGF2ZXJuSGVscGVyLmdldFByZXNldChwcmVzZXROYW1lKTtcbiAgICAgIGlmIChwcmVzZXQgJiYgcHJlc2V0LnByb21wdHMpIHtcbiAgICAgICAgLy8g5qOA5p+lIHByb21wdHMg5ZKMIHByb21wdHNfdW51c2VkIOS4pOS4quaVsOe7hFxuICAgICAgICBjb25zdCBhbGxQcm9tcHRzID0gWy4uLnByZXNldC5wcm9tcHRzLCAuLi4ocHJlc2V0LnByb21wdHNfdW51c2VkIHx8IFtdKV07XG4gICAgICAgIGNvbnN0IGhhc0lkZW50aWZpZXIgPSBhbGxQcm9tcHRzLnNvbWUoKHA6IFByZXNldFByb21wdCkgPT4gcC5pZCA9PT0gaWRlbnRpZmllcklkKTtcbiAgICAgICAgaWYgKGhhc0lkZW50aWZpZXIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg5Zyo6aKE6K6+IFwiJHtwcmVzZXROYW1lfVwiIOS4reaJvuWIsOivhuWIq+adoeebrklEOiAke2lkZW50aWZpZXJJZH1gKTtcbiAgICAgICAgICByZXR1cm4gcHJlc2V0TmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUud2Fybihg5pyq5om+5Yiw6K+G5Yir5p2h55uuSUQ6ICR7aWRlbnRpZmllcklkfWApO1xuICAgIHJldHVybiBudWxsO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+mAmui/h+ivhuWIq+adoeebruiOt+WPlumihOiuvuWQjeensOWksei0pTonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNldFN0b3JlZENvbmZpZ3MoY29uZmlnc09iamVjdDogUmVjb3JkPHN0cmluZywgQ29uZmlnRGF0YT4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBuYW1lQ291bnRzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gICAgY29uc3QgZW50cmllcyA9IE9iamVjdC52YWx1ZXMoY29uZmlnc09iamVjdCkubWFwKGNvbmZpZyA9PiB7XG4gICAgICBsZXQgZW50cnlOYW1lID0gY29uZmlnLm5hbWU7XG4gICAgICBuYW1lQ291bnRzW2VudHJ5TmFtZV0gPSAobmFtZUNvdW50c1tlbnRyeU5hbWVdIHx8IDApICsgMTtcbiAgICAgIGlmIChuYW1lQ291bnRzW2VudHJ5TmFtZV0gPiAxKSB7XG4gICAgICAgIGVudHJ5TmFtZSA9IGAke2VudHJ5TmFtZX0gKCR7Y29uZmlnLmlkLnNsaWNlKC01KX0pYDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IGVudHJ5TmFtZSxcbiAgICAgICAgc3RyYXRlZ3k6IHsgdHlwZTogJ2NvbnN0YW50Jywga2V5czogW2NvbmZpZy5pZF0gfSxcbiAgICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkoY29uZmlnKSxcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgIGNvbW1lbnQ6IGBNaWFvTWlhbyBQcmVzZXQgQ29uZmlnOiAke2NvbmZpZy5uYW1lfSAoSUQ6ICR7Y29uZmlnLmlkfSlgLFxuICAgICAgfTtcbiAgICB9KTtcbiAgICBhd2FpdCBUYXZlcm5IZWxwZXIuY3JlYXRlT3JSZXBsYWNlV29ybGRib29rKENPTkZJR19MT1JFQk9PS19OQU1FLCBlbnRyaWVzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCflhpnlhaXphY3nva7liLDkuJbnlYzkuablpLHotKU6JywgZXJyb3IpO1xuICAgIHRvYXN0ci5lcnJvcign6YWN572u5L+d5a2YL+abtOaWsOWksei0pe+8jOivt+ajgOafpeaOp+WItuWPsOaXpeW/l+OAgicpO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW5kZXJDb25maWdzTGlzdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgY29uZmlnc09iamVjdCA9IGF3YWl0IGdldFN0b3JlZENvbmZpZ3MoKTtcbiAgY29uc3QgY29uZmlncyA9IE9iamVjdC52YWx1ZXMoY29uZmlnc09iamVjdCk7XG4gIGNvbnN0IGxpc3RFbGVtZW50ID0gJCgnI3ByZXNldC1tYW5hZ2VyLWxpc3QnKTtcbiAgbGlzdEVsZW1lbnQuZW1wdHkoKTtcblxuICBpZiAoY29uZmlncy5sZW5ndGggPT09IDApIHtcbiAgICBsaXN0RWxlbWVudC5hcHBlbmQoJzxsaSBzdHlsZT1cImNvbG9yOiM4ODg7IHBhZGRpbmc6MTBweDtcIj7mmoLml6Dlt7Lkv53lrZjnmoTphY3nva7jgII8L2xpPicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIOS9v+eUqOW8guatpeWIhue7hO+8jOS8mOWFiOmAmui/h+ivhuWIq+adoeebrklE6I635Y+W6aKE6K6+5ZCN56ewXG4gIGNvbnN0IGdyb3VwZWRDb25maWdzOiBSZWNvcmQ8c3RyaW5nLCBDb25maWdEYXRhW10+ID0ge307XG5cbiAgZm9yIChjb25zdCBjb25maWcgb2YgY29uZmlncykge1xuICAgIGxldCBncm91cE5hbWUgPSAn5pyq5YiG57G7JztcblxuICAgIGlmIChjb25maWcuaWRlbnRpZmllcklkKSB7XG4gICAgICAvLyDkvJjlhYjkvb/nlKjor4bliKvmnaHnm65JROiOt+WPlumihOiuvuWQjeensFxuICAgICAgY29uc3QgcHJlc2V0TmFtZSA9IGF3YWl0IGdldFByZXNldE5hbWVCeUlkZW50aWZpZXIoY29uZmlnLmlkZW50aWZpZXJJZCk7XG4gICAgICBpZiAocHJlc2V0TmFtZSkge1xuICAgICAgICAvLyDlpoLmnpzmib7liLDnmoTmmK9cImluX3VzZVwi77yM6ZyA6KaB6L2s5o2i5Li65b2T5YmN5q2j5Zyo5L2/55So55qE5a6e6ZmF6aKE6K6+5ZCN56ewXG4gICAgICAgIGlmIChwcmVzZXROYW1lID09PSAnaW5fdXNlJykge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRQcmVzZXROYW1lID0gVGF2ZXJuSGVscGVyLmdldExvYWRlZFByZXNldE5hbWUoKTtcbiAgICAgICAgICBncm91cE5hbWUgPSBjdXJyZW50UHJlc2V0TmFtZSAhPT0gJ2luX3VzZScgPyBjdXJyZW50UHJlc2V0TmFtZSA6ICdpbl91c2UnO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDphY3nva4gXCIke2NvbmZpZy5uYW1lfVwiIOaJvuWIsGluX3VzZe+8jOi9rOaNouS4uuW9k+WJjemihOiuvjogJHtncm91cE5hbWV9YCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ3JvdXBOYW1lID0gcHJlc2V0TmFtZTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg6YWN572uIFwiJHtjb25maWcubmFtZX1cIiDpgJrov4for4bliKvmnaHnm65JROaJvuWIsOmihOiuvjogJHtwcmVzZXROYW1lfWApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNvbmZpZy5wcmVzZXROYW1lICYmIGNvbmZpZy5wcmVzZXROYW1lICE9PSAnaW5fdXNlJykge1xuICAgICAgICAvLyDlm57pgIDliLDpooTorr7lkI3np7DvvIzkvYbmjpLpmaRcImluX3VzZVwiXG4gICAgICAgIGdyb3VwTmFtZSA9IGNvbmZpZy5wcmVzZXROYW1lO1xuICAgICAgICBjb25zb2xlLmxvZyhg6YWN572uIFwiJHtjb25maWcubmFtZX1cIiDkvb/nlKjpooTorr7lkI3np7A6ICR7Y29uZmlnLnByZXNldE5hbWV9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oYOmFjee9riBcIiR7Y29uZmlnLm5hbWV9XCIg5peg5rOV5om+5Yiw5pyJ5pWI6aKE6K6+5ZCN56ew77yM5L2/55So6buY6K6k5YiG57uEYCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjb25maWcucHJlc2V0TmFtZSAmJiBjb25maWcucHJlc2V0TmFtZSAhPT0gJ2luX3VzZScpIHtcbiAgICAgIC8vIOWQkeWQjuWFvOWuue+8muS9v+eUqOmihOiuvuWQjeensO+8jOS9huaOkumZpFwiaW5fdXNlXCJcbiAgICAgIGdyb3VwTmFtZSA9IGNvbmZpZy5wcmVzZXROYW1lO1xuICAgICAgY29uc29sZS5sb2coYOmFjee9riBcIiR7Y29uZmlnLm5hbWV9XCIg5L2/55So6aKE6K6+5ZCN56ew77yI5ZCR5ZCO5YW85a6577yJOiAke2NvbmZpZy5wcmVzZXROYW1lfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oYOmFjee9riBcIiR7Y29uZmlnLm5hbWV9XCIg5rKh5pyJ5pyJ5pWI55qE6aKE6K6+5L+h5oGv77yM5L2/55So6buY6K6k5YiG57uEYCk7XG4gICAgfVxuXG4gICAgaWYgKCFncm91cGVkQ29uZmlnc1tncm91cE5hbWVdKSBncm91cGVkQ29uZmlnc1tncm91cE5hbWVdID0gW107XG4gICAgZ3JvdXBlZENvbmZpZ3NbZ3JvdXBOYW1lXS5wdXNoKGNvbmZpZyk7XG4gIH1cblxuICBjb25zdCBzb3J0ZWRHcm91cE5hbWVzID0gT2JqZWN0LmtleXMoZ3JvdXBlZENvbmZpZ3MpLnNvcnQoKGEsIGIpID0+IHtcbiAgICBpZiAoYSA9PT0gJ+acquWIhuexuycpIHJldHVybiAxO1xuICAgIGlmIChiID09PSAn5pyq5YiG57G7JykgcmV0dXJuIC0xO1xuICAgIHJldHVybiBhLmxvY2FsZUNvbXBhcmUoYik7XG4gIH0pO1xuXG4gIGZvciAoY29uc3QgZ3JvdXBOYW1lIG9mIHNvcnRlZEdyb3VwTmFtZXMpIHtcbiAgICBjb25zdCBjb25maWdzSW5Hcm91cCA9IGdyb3VwZWRDb25maWdzW2dyb3VwTmFtZV07XG4gICAgY29uc3Qgc2FmZUdyb3VwTmFtZSA9ICQoJzxkaXYvPicpLnRleHQoZ3JvdXBOYW1lKS5odG1sKCk7XG4gICAgY29uc3QgaXNVbmNhdGVnb3JpemVkID0gZ3JvdXBOYW1lID09PSAn5pyq5YiG57G7JztcblxuICAgIGNvbnN0IGdyb3VwRWxlbWVudCA9ICQoYFxuICAgICAgICAgICAgPGRldGFpbHMgY2xhc3M9XCJwbS1jb25maWctZ3JvdXBcIiAke2lzVW5jYXRlZ29yaXplZCA/ICdvcGVuJyA6ICcnfT5cbiAgICAgICAgICAgICAgICA8c3VtbWFyeSBjbGFzcz1cInBtLWNvbmZpZy1ncm91cC1zdW1tYXJ5XCI+JHtzYWZlR3JvdXBOYW1lfSA8c3BhbiBjbGFzcz1cInBtLWNvbmZpZy1jb3VudFwiPigke2NvbmZpZ3NJbkdyb3VwLmxlbmd0aH0pPC9zcGFuPjwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJwbS1jb25maWctc3VibGlzdFwiPjwvdWw+XG4gICAgICAgICAgICA8L2RldGFpbHM+XG4gICAgICAgIGApO1xuICAgIGNvbnN0IHN1Ymxpc3QgPSBncm91cEVsZW1lbnQuZmluZCgnLnBtLWNvbmZpZy1zdWJsaXN0Jyk7XG5cbiAgICBmb3IgKGNvbnN0IGNvbmZpZ0RhdGEgb2YgY29uZmlnc0luR3JvdXApIHtcbiAgICAgIGNvbnN0IGJvdW5kQ2hhckRpc3BsYXkgPSBjb25maWdEYXRhLmJvdW5kQ2hhck5hbWVcbiAgICAgICAgPyBgPHNwYW4gc3R5bGU9XCJjb2xvcjojNENBRjUwOyBtYXJnaW4tbGVmdDogOHB4OyBmb250LXdlaWdodDpib2xkO1wiPijnu5Hlrpo6ICR7Y29uZmlnRGF0YS5ib3VuZENoYXJOYW1lfSk8L3NwYW4+YFxuICAgICAgICA6ICcnO1xuXG4gICAgICBjb25zdCBsaXN0SXRlbSA9ICQoYFxuICAgICAgICAgICAgICAgIDxsaSBzdHlsZT1cImRpc3BsYXk6ZmxleDsganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOmNlbnRlcjsgcGFkZGluZzoxMHB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2YwZTJkMDsgZm9udC1zaXplOjE0cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsgYWxpZ24taXRlbXM6ZmxleC1zdGFydDsgb3ZlcmZsb3c6aGlkZGVuOyBtYXJnaW4tcmlnaHQ6IDEwcHg7IGZsZXg6IDE7IG1pbi13aWR0aDogMDtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiZm9udC13ZWlnaHQ6Ym9sZDsgd2hpdGUtc3BhY2U6bm93cmFwOyBvdmVyZmxvdzpoaWRkZW47IHRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7IG1heC13aWR0aDogMTAwJTtcIiB0aXRsZT1cIiR7JCgnPGRpdi8+JykudGV4dChjb25maWdEYXRhLm5hbWUpLmh0bWwoKX1cIj4keyQoJzxkaXYvPicpLnRleHQoY29uZmlnRGF0YS5uYW1lKS5odG1sKCl9JHtib3VuZENoYXJEaXNwbGF5fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwbS1hY3Rpb25zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBkYXRhLWlkPVwiJHtjb25maWdEYXRhLmlkfVwiIG5hbWU9XCJsb2FkLWNvbmZpZ1wiIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjojZjlkNmE1OyBjb2xvcjojM2EyYzJjO1wiPuWKoOi9vTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBkYXRhLWlkPVwiJHtjb25maWdEYXRhLmlkfVwiIG5hbWU9XCJkZWxldGUtY29uZmlnXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiNmNWE4YTA7IGNvbG9yOiNmZmY7XCI+5Yig6ZmkPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG0tbW9yZS1idG4td3JhcHBlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gbmFtZT1cIm1vcmUtYWN0aW9uc1wiIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjojYjBiZWM1OyBjb2xvcjojZmZmO1wiPuabtOWkmjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwbS1zdWJtZW51XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gZGF0YS1pZD1cIiR7Y29uZmlnRGF0YS5pZH1cIiBuYW1lPVwidmlldy1jb25maWdcIj7mn6XnnIs8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBkYXRhLWlkPVwiJHtjb25maWdEYXRhLmlkfVwiIG5hbWU9XCJ1cGRhdGUtY29uZmlnXCI+5pu05pawPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gZGF0YS1pZD1cIiR7Y29uZmlnRGF0YS5pZH1cIiBuYW1lPVwicmVuYW1lLWNvbmZpZ1wiPumHjeWRveWQjTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtaWQ9XCIke2NvbmZpZ0RhdGEuaWR9XCIgbmFtZT1cImJpbmQtcmVnZXhcIj7mraPliJk8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBkYXRhLWlkPVwiJHtjb25maWdEYXRhLmlkfVwiIG5hbWU9XCJleHBvcnQtY29uZmlnXCI+5a+85Ye6PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJib3JkZXItdG9wOiAxcHggc29saWQgI2VlZTsgbWFyZ2luOiA1cHggMDtcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBuYW1lPVwiY2xvc2Utc3VibWVudVwiIHN0eWxlPVwiY29sb3I6ICM4ODg7IHRleHQtYWxpZ246IGNlbnRlcjtcIj7lhbPpl608L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgYCk7XG4gICAgICBzdWJsaXN0LmFwcGVuZChsaXN0SXRlbSk7XG4gICAgfVxuICAgIGxpc3RFbGVtZW50LmFwcGVuZChncm91cEVsZW1lbnQpO1xuICB9XG5cbiAgLy8g57uR5a6a5oyJ6ZKu5LqL5Lu2XG4gIC8vIOS9v+eUqOWKqOaAgeWvvOWFpemBv+WFjeW+queOr+W8leeUqO+8jOa3u+WKoOW7tui/n+ehruS/nURPTeWujOWFqOabtOaWsFxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBpbXBvcnQoJy4v5LqL5Lu257uR5a6aJylcbiAgICAgIC50aGVuKCh7IGJpbmRDb25maWdMaXN0RXZlbnRzIH0pID0+IHtcbiAgICAgICAgYmluZENvbmZpZ0xpc3RFdmVudHMoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfnu5HlrprmjInpkq7kuovku7blpLHotKU6JywgZXJyb3IpO1xuICAgICAgfSk7XG4gIH0sIDEwMCk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/喵喵预设配置管理/配置存储和读取.ts\n\n}");

/***/ }),

/***/ "./src/喵喵预设配置管理/配置操作功能.ts":
/*!********************************!*\
  !*** ./src/喵喵预设配置管理/配置操作功能.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   autoCreateIdentifiersForAllPresets: () => (/* binding */ autoCreateIdentifiersForAllPresets),\n/* harmony export */   createIdentifierForCurrentPreset: () => (/* binding */ createIdentifierForCurrentPreset),\n/* harmony export */   deleteConfig: () => (/* binding */ deleteConfig),\n/* harmony export */   loadConfig: () => (/* binding */ loadConfig),\n/* harmony export */   renameConfig: () => (/* binding */ renameConfig),\n/* harmony export */   saveCurrentConfig: () => (/* binding */ saveCurrentConfig),\n/* harmony export */   updateConfig: () => (/* binding */ updateConfig)\n/* harmony export */ });\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./初始化和配置 */ \"./src/喵喵预设配置管理/初始化和配置.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./条目分组功能 */ \"./src/喵喵预设配置管理/条目分组功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./界面创建和管理 */ \"./src/喵喵预设配置管理/界面创建和管理.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./辅助弹窗功能 */ \"./src/喵喵预设配置管理/辅助弹窗功能.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./配置存储和读取 */ \"./src/喵喵预设配置管理/配置存储和读取.ts\");\n\n\n\n\n\n// 特殊识别条目的名称和内容\nconst IDENTIFIER_PROMPT_NAME = '*喵喵脚本识别*';\nconst IDENTIFIER_PROMPT_CONTENT = '';\n// 触发一次预设保存，避免条目更改丢失\nfunction triggerPresetSave() {\n    try {\n        const $btn = $('#update_oai_preset');\n        if ($btn.length) {\n            $btn.trigger('click');\n            console.log('已触发预设保存');\n        }\n        else {\n            console.warn('未找到预设保存按钮 #update_oai_preset');\n        }\n    }\n    catch (err) {\n        console.error('触发预设保存时出错:', err);\n    }\n}\n// 创建或获取识别条目\nasync function createOrGetIdentifierPrompt() {\n    try {\n        // 获取当前预设的所有条目\n        const preset = TavernHelper.getPreset('in_use');\n        const prompts = [...preset.prompts, ...preset.prompts_unused];\n        // 查找是否已存在识别条目\n        const existingPrompt = prompts.find(p => p.name === IDENTIFIER_PROMPT_NAME);\n        if (existingPrompt) {\n            console.log('找到现有识别条目:', existingPrompt.id);\n            return existingPrompt.id;\n        }\n        // 创建新的识别条目\n        console.log('创建新的识别条目...');\n        await TavernHelper.updatePresetWith('in_use', preset => {\n            const newPrompt = {\n                id: (0,___WEBPACK_IMPORTED_MODULE_0__.generateUniqueId)(),\n                name: IDENTIFIER_PROMPT_NAME,\n                enabled: false, // 不启用\n                position: {\n                    type: 'relative',\n                },\n                role: 'system',\n                content: IDENTIFIER_PROMPT_CONTENT,\n            };\n            // 添加到预设的prompts数组末尾\n            preset.prompts.push(newPrompt);\n            return preset;\n        }, { render: 'immediate' });\n        // 触发保存\n        triggerPresetSave();\n        // 重新获取条目列表以获取新创建的ID\n        const updatedPreset = TavernHelper.getPreset('in_use');\n        const updatedPrompts = [...updatedPreset.prompts, ...updatedPreset.prompts_unused];\n        const newPrompt = updatedPrompts.find(p => p.name === IDENTIFIER_PROMPT_NAME);\n        if (newPrompt) {\n            console.log('识别条目创建成功，ID:', newPrompt.id);\n            return newPrompt.id;\n        }\n        else {\n            console.error('无法找到新创建的识别条目');\n            return null;\n        }\n    }\n    catch (error) {\n        console.error('创建识别条目失败:', error);\n        return null;\n    }\n}\n// 确保当前预设中有指定的识别条目\nasync function ensureIdentifierInCurrentPreset(identifierId) {\n    try {\n        const preset = TavernHelper.getPreset('in_use');\n        const prompts = [...preset.prompts, ...preset.prompts_unused];\n        // 检查是否已存在该识别条目\n        const existingPrompt = prompts.find(p => p.id === identifierId);\n        if (existingPrompt) {\n            console.log('当前预设中已存在识别条目:', identifierId);\n            return;\n        }\n        // 如果不存在，创建该识别条目\n        console.log('在当前预设中创建识别条目:', identifierId);\n        await TavernHelper.updatePresetWith('in_use', preset => {\n            const newPrompt = {\n                id: identifierId,\n                name: IDENTIFIER_PROMPT_NAME,\n                enabled: false, // 不启用\n                position: {\n                    type: 'relative',\n                },\n                role: 'system',\n                content: IDENTIFIER_PROMPT_CONTENT,\n            };\n            // 添加到预设的prompts数组末尾\n            preset.prompts.push(newPrompt);\n            return preset;\n        }, { render: 'immediate' });\n        // 触发保存\n        triggerPresetSave();\n        console.log('识别条目已添加到当前预设');\n    }\n    catch (error) {\n        console.error('确保识别条目存在失败:', error);\n    }\n}\n// 为指定预设创建识别条目\nasync function createIdentifierForPreset(presetName) {\n    try {\n        // 切换到目标预设\n        if (!TavernHelper.loadPreset(presetName)) {\n            console.warn(`无法加载预设: ${presetName}`);\n            return null;\n        }\n        // 等待预设切换完成\n        await new Promise(resolve => setTimeout(resolve, 500));\n        // 检查预设是否已有识别条目\n        const preset = TavernHelper.getPreset('in_use');\n        const prompts = [...preset.prompts, ...preset.prompts_unused];\n        const existingIdentifier = prompts.find(p => p.name === IDENTIFIER_PROMPT_NAME);\n        if (existingIdentifier) {\n            console.log(`预设 \"${presetName}\" 已存在识别条目:`, existingIdentifier.id);\n            return existingIdentifier.id;\n        }\n        // 创建新的识别条目\n        const identifierId = (0,___WEBPACK_IMPORTED_MODULE_0__.generateUniqueId)();\n        console.log(`为预设 \"${presetName}\" 创建识别条目，ID:`, identifierId);\n        await TavernHelper.updatePresetWith('in_use', preset => {\n            const newPrompt = {\n                id: identifierId,\n                name: IDENTIFIER_PROMPT_NAME,\n                enabled: false, // 不启用\n                position: {\n                    type: 'relative',\n                },\n                role: 'system',\n                content: IDENTIFIER_PROMPT_CONTENT,\n            };\n            // 添加到预设的prompts数组末尾\n            preset.prompts.push(newPrompt);\n            return preset;\n        }, { render: 'immediate' });\n        // 触发保存\n        triggerPresetSave();\n        console.log(`预设 \"${presetName}\" 识别条目创建完成，ID:`, identifierId);\n        return identifierId;\n    }\n    catch (error) {\n        console.error(`为预设 \"${presetName}\" 创建识别条目失败:`, error);\n        return null;\n    }\n}\n// 为当前预设创建识别条目并更新所有相关配置\nasync function createIdentifierForCurrentPreset() {\n    try {\n        // 检查当前预设是否已有识别条目\n        const preset = TavernHelper.getPreset('in_use');\n        const prompts = [...preset.prompts, ...preset.prompts_unused];\n        const existingIdentifier = prompts.find(p => p.name === IDENTIFIER_PROMPT_NAME);\n        if (existingIdentifier) {\n            toastr.warning('当前预设已存在识别条目，无需重复创建');\n            return;\n        }\n        // 创建新的识别条目\n        const identifierId = (0,___WEBPACK_IMPORTED_MODULE_0__.generateUniqueId)();\n        console.log('为当前预设创建识别条目，ID:', identifierId);\n        await TavernHelper.updatePresetWith('in_use', preset => {\n            const newPrompt = {\n                id: identifierId,\n                name: IDENTIFIER_PROMPT_NAME,\n                enabled: false, // 不启用\n                position: {\n                    type: 'relative',\n                },\n                role: 'system',\n                content: IDENTIFIER_PROMPT_CONTENT,\n            };\n            // 添加到预设的prompts数组末尾\n            preset.prompts.push(newPrompt);\n            return preset;\n        }, { render: 'immediate' });\n        // 触发保存\n        triggerPresetSave();\n        // 获取当前预设名称\n        const currentPresetName = TavernHelper.getLoadedPresetName();\n        console.log('当前预设名称:', currentPresetName);\n        // 更新所有使用当前预设名称的旧配置，添加识别条目ID\n        const configs = await (0,___WEBPACK_IMPORTED_MODULE_4__.getStoredConfigs)();\n        let updatedCount = 0;\n        for (const configId in configs) {\n            const config = configs[configId];\n            // 如果配置没有identifierId且presetName匹配当前预设\n            if (!config.identifierId && config.presetName === currentPresetName) {\n                config.identifierId = identifierId;\n                updatedCount++;\n                console.log(`更新配置 \"${config.name}\" 添加识别条目ID`);\n            }\n        }\n        if (updatedCount > 0) {\n            // 保存更新后的配置\n            await (0,___WEBPACK_IMPORTED_MODULE_4__.setStoredConfigs)(configs);\n            // 清除缓存并重新渲染\n            (0,___WEBPACK_IMPORTED_MODULE_4__.clearConfigCache)();\n            await (0,___WEBPACK_IMPORTED_MODULE_4__.renderConfigsList)();\n            toastr.success(`已为当前预设创建识别条目，并更新了 ${updatedCount} 个相关配置`);\n        }\n        else {\n            toastr.success('已为当前预设创建识别条目');\n        }\n        console.log('识别条目创建完成，ID:', identifierId);\n    }\n    catch (error) {\n        console.error('创建识别条目失败:', error);\n        toastr.error('创建识别条目失败，请检查控制台日志');\n    }\n}\n// 自动为所有预设创建识别条目并更新配置\nasync function autoCreateIdentifiersForAllPresets() {\n    try {\n        console.log('开始自动为所有预设创建识别条目...');\n        // 获取所有预设名称\n        const presetNames = TavernHelper.getPresetNames();\n        console.log('找到预设列表:', presetNames);\n        // 获取所有配置\n        const configs = await (0,___WEBPACK_IMPORTED_MODULE_4__.getStoredConfigs)();\n        console.log('找到配置数量:', Object.keys(configs).length);\n        // 统计需要处理的预设\n        const presetToProcess = new Set();\n        for (const configId in configs) {\n            const config = configs[configId];\n            if (!config.identifierId && config.presetName) {\n                presetToProcess.add(config.presetName);\n            }\n        }\n        console.log('需要处理的预设:', Array.from(presetToProcess));\n        if (presetToProcess.size === 0) {\n            console.log('所有配置都已有关联的识别条目，无需处理');\n            return;\n        }\n        // 记录当前预设，稍后恢复\n        const originalPreset = TavernHelper.getLoadedPresetName();\n        console.log('当前预设:', originalPreset);\n        let totalUpdated = 0;\n        const presetIdentifierMap = new Map();\n        // 为每个需要处理的预设创建识别条目\n        for (const presetName of presetToProcess) {\n            if (presetNames.includes(presetName)) {\n                console.log(`处理预设: ${presetName}`);\n                const identifierId = await createIdentifierForPreset(presetName);\n                if (identifierId) {\n                    presetIdentifierMap.set(presetName, identifierId);\n                    console.log(`预设 \"${presetName}\" 识别条目ID: ${identifierId}`);\n                }\n            }\n            else {\n                console.warn(`预设 \"${presetName}\" 不存在，跳过`);\n            }\n        }\n        // 更新所有相关配置\n        for (const configId in configs) {\n            const config = configs[configId];\n            if (!config.identifierId && config.presetName && presetIdentifierMap.has(config.presetName)) {\n                config.identifierId = presetIdentifierMap.get(config.presetName);\n                totalUpdated++;\n                console.log(`更新配置 \"${config.name}\" 关联预设 \"${config.presetName}\"`);\n            }\n        }\n        // 保存更新后的配置\n        if (totalUpdated > 0) {\n            await (0,___WEBPACK_IMPORTED_MODULE_4__.setStoredConfigs)(configs);\n            console.log(`已更新 ${totalUpdated} 个配置`);\n        }\n        // 恢复原始预设\n        if (originalPreset && presetNames.includes(originalPreset)) {\n            TavernHelper.loadPreset(originalPreset);\n            console.log(`已恢复原始预设: ${originalPreset}`);\n        }\n        // 清除缓存并重新渲染\n        (0,___WEBPACK_IMPORTED_MODULE_4__.clearConfigCache)();\n        await (0,___WEBPACK_IMPORTED_MODULE_4__.renderConfigsList)();\n        toastr.success(`自动创建完成！为 ${presetIdentifierMap.size} 个预设创建了识别条目，更新了 ${totalUpdated} 个配置`);\n        console.log('自动创建识别条目完成');\n    }\n    catch (error) {\n        console.error('自动创建识别条目失败:', error);\n        toastr.error('自动创建识别条目失败，请检查控制台日志');\n    }\n}\nasync function renameConfig(configId) {\n    const configs = await (0,___WEBPACK_IMPORTED_MODULE_4__.getStoredConfigs)();\n    const configToRename = configs[configId];\n    if (!configToRename) {\n        toastr.error('找不到要重命名的配置。');\n        return;\n    }\n    const oldName = configToRename.name;\n    const newName = await triggerSlash(`/input default=\"${oldName}\" \"请输入新的配置名称\"`);\n    if (newName && newName.trim() !== '') {\n        configs[configId].name = newName.trim();\n        await (0,___WEBPACK_IMPORTED_MODULE_4__.setStoredConfigs)(configs);\n        (0,___WEBPACK_IMPORTED_MODULE_4__.clearConfigCache)(); // 清除配置缓存\n        toastr.success(`配置已从 \"${oldName}\" 重命名为 \"${newName.trim()}\"。`);\n        await (0,___WEBPACK_IMPORTED_MODULE_4__.renderConfigsList)();\n        (0,___WEBPACK_IMPORTED_MODULE_2__.updateConfigListCache)(); // 更新UI缓存\n    }\n    else {\n        toastr.info('重命名操作已取消。');\n    }\n}\nasync function updateConfig(configId) {\n    try {\n        const configs = await (0,___WEBPACK_IMPORTED_MODULE_4__.getStoredConfigs)();\n        const oldConfig = configs[configId];\n        if (!oldConfig) {\n            toastr.error(`配置不存在，无法更新。`);\n            return;\n        }\n        const loadedPresetName = TavernHelper.getLoadedPresetName();\n        const preset = TavernHelper.getPreset('in_use');\n        const allPrompts = [...preset.prompts, ...preset.prompts_unused];\n        const currentPromptStates = allPrompts.map((p) => ({\n            id: p.id,\n            enabled: p.enabled,\n            name: p.name,\n        }));\n        const configToSave = {\n            ...oldConfig,\n            presetName: loadedPresetName,\n            states: currentPromptStates,\n        };\n        const updateRegexChoice = await triggerSlash(`/popup okButton=\"是\" cancelButton=\"否\" result=true \"是否要同时更新此配置的正则开关状态？\"`);\n        if (updateRegexChoice === '1') {\n            const allRegexes = await TavernHelper.getTavernRegexes({ scope: 'global' });\n            const newRegexStates = allRegexes.map((regex) => ({\n                id: regex.id,\n                enabled: regex.enabled,\n            }));\n            configToSave.regexStates = newRegexStates;\n            toastr.info('已同步更新正则状态。');\n        }\n        const oldStateIds = new Set(oldConfig.states.map(s => s.id));\n        const newEntries = configToSave.states.filter(s => !oldStateIds.has(s.id));\n        if (newEntries.length > 0) {\n            const promptIdToNameMap = new Map(currentPromptStates.map((p) => [p.id, p.name]));\n            const userChoices = await (0,___WEBPACK_IMPORTED_MODULE_3__.showNewEntriesPopup)(newEntries, promptIdToNameMap);\n            if (userChoices !== null) {\n                const choicesMap = new Map(userChoices.map((choice) => [choice.id, choice.enabled]));\n                configToSave.states.forEach(state => {\n                    if (choicesMap.has(state.id))\n                        state.enabled = choicesMap.get(state.id);\n                });\n            }\n            else {\n                toastr.info('已为新条目保留默认状态。');\n            }\n        }\n        configs[configId] = configToSave;\n        await (0,___WEBPACK_IMPORTED_MODULE_4__.setStoredConfigs)(configs);\n        (0,___WEBPACK_IMPORTED_MODULE_4__.clearConfigCache)(); // 清除配置缓存\n        toastr.success(`配置 \"${configToSave.name}\" 已更新。`);\n        await (0,___WEBPACK_IMPORTED_MODULE_4__.renderConfigsList)();\n        (0,___WEBPACK_IMPORTED_MODULE_2__.updateConfigListCache)(); // 更新UI缓存\n    }\n    catch (error) {\n        console.error('更新预设配置失败:', error);\n        toastr.error('更新预设配置失败，请检查控制台获取更多信息。');\n    }\n}\nasync function saveCurrentConfig() {\n    // 先创建识别条目，然后通过识别条目ID获取正确的预设名称\n    const identifierId = await createOrGetIdentifierPrompt();\n    if (!identifierId) {\n        toastr.error('无法创建识别条目，配置保存失败');\n        return;\n    }\n    // 获取当前预设名称（用于显示和向后兼容）\n    const currentPresetName = await (0,___WEBPACK_IMPORTED_MODULE_4__.getPresetNameByIdentifier)(identifierId);\n    if (!currentPresetName) {\n        toastr.error('无法识别当前预设，配置保存失败');\n        return;\n    }\n    const blacklist = ['恶灵低语', 'deepspay', 'spaymale', '深阉', '小骡之神', '小猫之神', 'kemini'];\n    if (blacklist.some(keyword => currentPresetName.toLowerCase().includes(keyword))) {\n        toastr.warning('*你使用了作者黑名单的预设哦（盯）*');\n        return;\n    }\n    const nameInput = $('#preset-manager-name-input');\n    const configName = nameInput.val()?.toString().trim();\n    if (!configName) {\n        toastr.error('请输入配置名称。');\n        return;\n    }\n    try {\n        console.log('当前预设名称:', currentPresetName);\n        console.log('识别条目ID:', identifierId);\n        const preset = TavernHelper.getPreset('in_use');\n        const allPrompts = [...preset.prompts, ...preset.prompts_unused];\n        const promptStates = allPrompts.map((p) => ({\n            id: p.id,\n            enabled: p.enabled,\n            name: p.name,\n        }));\n        const configToSave = {\n            id: (0,___WEBPACK_IMPORTED_MODULE_0__.generateUniqueId)(),\n            name: configName,\n            presetName: currentPresetName, // 使用实际的预设名称而不是\"in_use\"\n            identifierId: identifierId, // 使用识别条目ID进行可靠的预设识别\n            states: promptStates,\n        };\n        if ($('#preset-manager-bind-char').is(':checked')) {\n            const charData = await TavernHelper.getCharData('current');\n            if (charData && charData.avatar) {\n                configToSave.boundCharAvatar = charData.avatar;\n                configToSave.boundCharName = charData.name;\n            }\n            else {\n                toastr.warning('无法获取当前角色信息，配置未绑定。');\n            }\n        }\n        const configs = await (0,___WEBPACK_IMPORTED_MODULE_4__.getStoredConfigs)();\n        configs[configToSave.id] = configToSave;\n        await (0,___WEBPACK_IMPORTED_MODULE_4__.setStoredConfigs)(configs);\n        (0,___WEBPACK_IMPORTED_MODULE_4__.clearConfigCache)(); // 清除配置缓存\n        toastr.success(`配置 \"${configName}\" 已保存。`);\n        nameInput.val('');\n        $('#preset-manager-bind-char').prop('checked', false);\n        await (0,___WEBPACK_IMPORTED_MODULE_4__.renderConfigsList)();\n        (0,___WEBPACK_IMPORTED_MODULE_2__.updateConfigListCache)(); // 更新UI缓存\n    }\n    catch (error) {\n        console.error('保存预设配置失败:', error);\n        toastr.error('保存预设配置失败，请检查控制台获取更多信息。');\n    }\n}\nasync function loadConfig(configId, shouldToggleUI = true) {\n    try {\n        const configs = await (0,___WEBPACK_IMPORTED_MODULE_4__.getStoredConfigs)();\n        const configToLoad = configs[configId];\n        if (!configToLoad) {\n            toastr.error(`配置不存在。`);\n            return;\n        }\n        // 优先使用识别条目ID查找预设，如果没有则回退到预设名称\n        let targetPresetName = null;\n        if (configToLoad.identifierId) {\n            // 使用识别条目ID查找预设\n            targetPresetName = await (0,___WEBPACK_IMPORTED_MODULE_4__.getPresetNameByIdentifier)(configToLoad.identifierId);\n            if (targetPresetName) {\n                // 如果找到的是\"in_use\"，需要转换为当前正在使用的实际预设名称\n                if (targetPresetName === 'in_use') {\n                    const currentPresetName = TavernHelper.getLoadedPresetName();\n                    targetPresetName = currentPresetName !== 'in_use' ? currentPresetName : 'in_use';\n                    console.log('通过识别条目ID找到in_use，转换为当前预设:', targetPresetName);\n                }\n                else {\n                    console.log('通过识别条目ID找到预设:', targetPresetName);\n                }\n            }\n            else {\n                console.warn('无法通过识别条目ID找到预设，尝试使用预设名称');\n            }\n        }\n        // 如果通过识别条目ID没找到，尝试使用预设名称（向后兼容）\n        if (!targetPresetName && configToLoad.presetName) {\n            if (TavernHelper.getPresetNames().includes(configToLoad.presetName)) {\n                targetPresetName = configToLoad.presetName;\n                console.log('通过预设名称找到预设:', targetPresetName);\n            }\n            else {\n                console.warn(`预设 \"${configToLoad.presetName}\" 不存在，尝试扫描所有预设查找识别条目`);\n                // 如果预设名称也不存在，尝试扫描所有预设查找识别条目\n                if (configToLoad.identifierId) {\n                    targetPresetName = await (0,___WEBPACK_IMPORTED_MODULE_4__.getPresetNameByIdentifier)(configToLoad.identifierId);\n                }\n            }\n        }\n        if (targetPresetName) {\n            // 加载预设\n            if (TavernHelper.loadPreset(targetPresetName)) {\n                toastr.info(`已切换到预设 \"${targetPresetName}\"。`);\n                await new Promise(resolve => setTimeout(resolve, 500));\n                // 确保目标预设中有识别条目\n                if (configToLoad.identifierId) {\n                    await ensureIdentifierInCurrentPreset(configToLoad.identifierId);\n                }\n            }\n            else {\n                toastr.error(`加载预设 \"${targetPresetName}\" 失败。`);\n                return;\n            }\n        }\n        else {\n            toastr.warning(`无法找到对应的预设，将仅对当前预设应用条目状态。`);\n        }\n        const promptStates = configToLoad.states;\n        if (!promptStates || !Array.isArray(promptStates)) {\n            toastr.error(`配置 \"${configToLoad.name}\" 数据格式不正确或为空。`);\n            return;\n        }\n        const statesMap = new Map(promptStates.map(s => [s.id, s.enabled]));\n        await TavernHelper.updatePresetWith('in_use', preset => {\n            [...preset.prompts, ...preset.prompts_unused].forEach((prompt) => {\n                if (statesMap.has(prompt.id))\n                    prompt.enabled = statesMap.get(prompt.id);\n            });\n            return preset;\n        });\n        if (configToLoad.regexStates && Array.isArray(configToLoad.regexStates)) {\n            const statesToApply = new Map(configToLoad.regexStates.map(r => [r.id, r.enabled]));\n            if (statesToApply.size > 0) {\n                await TavernHelper.updateTavernRegexesWith(regexes => {\n                    regexes.forEach((regex) => {\n                        if (regex.scope === 'global' && statesToApply.has(regex.id)) {\n                            regex.enabled = statesToApply.get(regex.id);\n                        }\n                    });\n                    return regexes;\n                }, { scope: 'global' });\n                toastr.success(`已应用配置 \"${configToLoad.name}\" 绑定的全局正则。`);\n            }\n        }\n        toastr.success(`已加载配置 \"${configToLoad.name}\"。`);\n        // 加载配置后触发分组恢复\n        setTimeout(() => {\n            (0,___WEBPACK_IMPORTED_MODULE_1__.triggerGroupingRestore)();\n        }, 500);\n        if (shouldToggleUI) {\n            (0,___WEBPACK_IMPORTED_MODULE_2__.toggleUI)();\n        }\n    }\n    catch (error) {\n        console.error('加载预设配置失败:', error);\n        toastr.error('加载预设配置失败，请检查控制台获取更多信息。');\n    }\n}\nasync function deleteConfig(configId) {\n    try {\n        const configs = await (0,___WEBPACK_IMPORTED_MODULE_4__.getStoredConfigs)();\n        const configToDelete = configs[configId];\n        if (configToDelete) {\n            delete configs[configId];\n            await (0,___WEBPACK_IMPORTED_MODULE_4__.setStoredConfigs)(configs);\n            (0,___WEBPACK_IMPORTED_MODULE_4__.clearConfigCache)(); // 清除配置缓存\n            toastr.success(`已删除配置 \"${configToDelete.name}\"。`);\n            await (0,___WEBPACK_IMPORTED_MODULE_4__.renderConfigsList)();\n            (0,___WEBPACK_IMPORTED_MODULE_2__.updateConfigListCache)(); // 更新UI缓存\n        }\n        else {\n            toastr.warning(`配置不存在。`);\n        }\n    }\n    catch (error) {\n        console.error('删除配置失败:', error);\n        toastr.error('删除配置失败，请检查控制台获取更多信息。');\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMv5Za15Za16aKE6K6+6YWN572u566h55CGL+mFjee9ruaTjeS9nOWKn+iDvS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBNEM7QUFDTTtBQUNVO0FBQ2I7QUFRNUI7QUFFbkIsZUFBZTtBQUNmLE1BQU0sc0JBQXNCLEdBQUcsVUFBVSxDQUFDO0FBQzFDLE1BQU0seUJBQXlCLEdBQUcsRUFBRSxDQUFDO0FBRXJDLG9CQUFvQjtBQUNwQixTQUFTLGlCQUFpQjtJQUN4QixJQUFJLENBQUM7UUFDSCxNQUFNLElBQUksR0FBRyxDQUFDLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUNyQyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNoQixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3RCLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDekIsQ0FBQzthQUFNLENBQUM7WUFDTixPQUFPLENBQUMsSUFBSSxDQUFDLDhCQUE4QixDQUFDLENBQUM7UUFDL0MsQ0FBQztJQUNILENBQUM7SUFBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ2IsT0FBTyxDQUFDLEtBQUssQ0FBQyxZQUFZLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDbkMsQ0FBQztBQUNILENBQUM7QUFFRCxZQUFZO0FBQ1osS0FBSyxVQUFVLDJCQUEyQjtJQUN4QyxJQUFJLENBQUM7UUFDSCxjQUFjO1FBQ2QsTUFBTSxNQUFNLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNoRCxNQUFNLE9BQU8sR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLE9BQU8sRUFBRSxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUU5RCxjQUFjO1FBQ2QsTUFBTSxjQUFjLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssc0JBQXNCLENBQUMsQ0FBQztR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QXdCLENBQUMsQ0FBQztJQUN6QyxDQUFDO0FBQ0gsQ0FBQztBQUVNLEtBQUssVUFBVSxZQUFZLENBQUMsUUFBZ0I7SUFDakQsSUFBSSxDQUFDO1FBQ0gsTUFBTSxPQUFPLEdBQUcsTUFBTSxtREFBZ0IsRUFBRSxDQUFDO1FBQ3pDLE1BQU0sY0FBYyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN6QyxJQUFJLGNBQWMsRUFBRSxDQUFDO1lBQ25CLE9BQU8sT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3pCLE1BQU0sbURBQWdCLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDaEMsbURBQWdCLEVBQUUsQ0FBQyxDQUFDLFNBQVM7WUFDN0IsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLGNBQWMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDO1lBQ2xELE1BQU0sb0RBQWlCLEVBQUUsQ0FBQztZQUMxQix3REFBcUIsRUFBRSxDQUFDLENBQUMsU0FBUztRQUNwQyxDQUFDO2FBQU0sQ0FBQztZQUNOLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDM0IsQ0FBQztJQUNILENBQUM7SUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1FBQ2YsT0FBTyxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDaEMsTUFBTSxDQUFDLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS8uL3NyYy/llrXllrXpooTorr7phY3nva7nrqHnkIYv6YWN572u5pON5L2c5Yqf6IO9LnRzPyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZW5lcmF0ZVVuaXF1ZUlkIH0gZnJvbSAnLi/liJ3lp4vljJblkozphY3nva4nO1xuaW1wb3J0IHsgdHJpZ2dlckdyb3VwaW5nUmVzdG9yZSB9IGZyb20gJy4v5p2h55uu5YiG57uE5Yqf6IO9JztcbmltcG9ydCB7IHRvZ2dsZVVJLCB1cGRhdGVDb25maWdMaXN0Q2FjaGUgfSBmcm9tICcuL+eVjOmdouWIm+W7uuWSjOeuoeeQhic7XG5pbXBvcnQgeyBzaG93TmV3RW50cmllc1BvcHVwIH0gZnJvbSAnLi/ovoXliqnlvLnnqpflip/og70nO1xuaW1wb3J0IHtcbiAgY2xlYXJDb25maWdDYWNoZSxcbiAgQ29uZmlnRGF0YSxcbiAgZ2V0UHJlc2V0TmFtZUJ5SWRlbnRpZmllcixcbiAgZ2V0U3RvcmVkQ29uZmlncyxcbiAgcmVuZGVyQ29uZmlnc0xpc3QsXG4gIHNldFN0b3JlZENvbmZpZ3MsXG59IGZyb20gJy4v6YWN572u5a2Y5YKo5ZKM6K+75Y+WJztcblxuLy8g54m55q6K6K+G5Yir5p2h55uu55qE5ZCN56ew5ZKM5YaF5a65XG5jb25zdCBJREVOVElGSUVSX1BST01QVF9OQU1FID0gJyrllrXllrXohJrmnKzor4bliKsqJztcbmNvbnN0IElERU5USUZJRVJfUFJPTVBUX0NPTlRFTlQgPSAnJztcblxuLy8g6Kem5Y+R5LiA5qyh6aKE6K6+5L+d5a2Y77yM6YG/5YWN5p2h55uu5pu05pS55Lii5aSxXG5mdW5jdGlvbiB0cmlnZ2VyUHJlc2V0U2F2ZSgpOiB2b2lkIHtcbiAgdHJ5IHtcbiAgICBjb25zdCAkYnRuID0gJCgnI3VwZGF0ZV9vYWlfcHJlc2V0Jyk7XG4gICAgaWYgKCRidG4ubGVuZ3RoKSB7XG4gICAgICAkYnRuLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgICBjb25zb2xlLmxvZygn5bey6Kem5Y+R6aKE6K6+5L+d5a2YJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2Fybign5pyq5om+5Yiw6aKE6K6+5L+d5a2Y5oyJ6ZKuICN1cGRhdGVfb2FpX3ByZXNldCcpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcign6Kem5Y+R6aKE6K6+5L+d5a2Y5pe25Ye66ZSZOicsIGVycik7XG4gIH1cbn1cblxuLy8g5Yib5bu65oiW6I635Y+W6K+G5Yir5p2h55uuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVPckdldElkZW50aWZpZXJQcm9tcHQoKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgLy8g6I635Y+W5b2T5YmN6aKE6K6+55qE5omA5pyJ5p2h55uuXG4gICAgY29uc3QgcHJlc2V0ID0gVGF2ZXJuSGVscGVyLmdldFByZXNldCgnaW5fdXNlJyk7XG4gICAgY29uc3QgcHJvbXB0cyA9IFsuLi5wcmVzZXQucHJvbXB0cywgLi4ucHJlc2V0LnByb21wdHNfdW51c2VkXTtcblxuICAgIC8vIOafpeaJvuaYr+WQpuW3suWtmOWcqOivhuWIq+adoeebrlxuICAgIGNvbnN0IGV4aXN0aW5nUHJvbXB0ID0gcHJvbXB0cy5maW5kKHAgPT4gcC5uYW1lID09PSBJREVOVElGSUVSX1BST01QVF9OQU1FKTtcbiAgICBpZiAoZXhpc3RpbmdQcm9tcHQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfmib7liLDnjrDmnInor4bliKvmnaHnm646JywgZXhpc3RpbmdQcm9tcHQuaWQpO1xuICAgICAgcmV0dXJuIGV4aXN0aW5nUHJvbXB0LmlkO1xuICAgIH1cblxuICAgIC8vIOWIm+W7uuaWsOeahOivhuWIq+adoeebrlxuICAgIGNvbnNvbGUubG9nKCfliJvlu7rmlrDnmoTor4bliKvmnaHnm64uLi4nKTtcbiAgICBhd2FpdCBUYXZlcm5IZWxwZXIudXBkYXRlUHJlc2V0V2l0aChcbiAgICAgICdpbl91c2UnLFxuICAgICAgcHJlc2V0ID0+IHtcbiAgICAgICAgY29uc3QgbmV3UHJvbXB0OiBQcmVzZXRQcm9tcHQgPSB7XG4gICAgICAgICAgaWQ6IGdlbmVyYXRlVW5pcXVlSWQoKSxcbiAgICAgICAgICBuYW1lOiBJREVOVElGSUVSX1BST01QVF9OQU1FLFxuICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLCAvLyDkuI3lkK/nlKhcbiAgICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgICAgdHlwZTogJ3JlbGF0aXZlJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJvbGU6ICdzeXN0ZW0nLFxuICAgICAgICAgIGNvbnRlbnQ6IElERU5USUZJRVJfUFJPTVBUX0NPTlRFTlQsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8g5re75Yqg5Yiw6aKE6K6+55qEcHJvbXB0c+aVsOe7hOacq+WwvlxuICAgICAgICBwcmVzZXQucHJvbXB0cy5wdXNoKG5ld1Byb21wdCk7XG4gICAgICAgIHJldHVybiBwcmVzZXQ7XG4gICAgICB9LFxuICAgICAgeyByZW5kZXI6ICdpbW1lZGlhdGUnIH0sXG4gICAgKTtcblxuICAgIC8vIOinpuWPkeS/neWtmFxuICAgIHRyaWdnZXJQcmVzZXRTYXZlKCk7XG5cbiAgICAvLyDph43mlrDojrflj5bmnaHnm67liJfooajku6Xojrflj5bmlrDliJvlu7rnmoRJRFxuICAgIGNvbnN0IHVwZGF0ZWRQcmVzZXQgPSBUYXZlcm5IZWxwZXIuZ2V0UHJlc2V0KCdpbl91c2UnKTtcbiAgICBjb25zdCB1cGRhdGVkUHJvbXB0cyA9IFsuLi51cGRhdGVkUHJlc2V0LnByb21wdHMsIC4uLnVwZGF0ZWRQcmVzZXQucHJvbXB0c191bnVzZWRdO1xuICAgIGNvbnN0IG5ld1Byb21wdCA9IHVwZGF0ZWRQcm9tcHRzLmZpbmQocCA9PiBwLm5hbWUgPT09IElERU5USUZJRVJfUFJPTVBUX05BTUUpO1xuXG4gICAgaWYgKG5ld1Byb21wdCkge1xuICAgICAgY29uc29sZS5sb2coJ+ivhuWIq+adoeebruWIm+W7uuaIkOWKn++8jElEOicsIG5ld1Byb21wdC5pZCk7XG4gICAgICByZXR1cm4gbmV3UHJvbXB0LmlkO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfml6Dms5Xmib7liLDmlrDliJvlu7rnmoTor4bliKvmnaHnm64nKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfliJvlu7ror4bliKvmnaHnm67lpLHotKU6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8vIOehruS/neW9k+WJjemihOiuvuS4reacieaMh+WumueahOivhuWIq+adoeebrlxuYXN5bmMgZnVuY3Rpb24gZW5zdXJlSWRlbnRpZmllckluQ3VycmVudFByZXNldChpZGVudGlmaWVySWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICB0cnkge1xuICAgIGNvbnN0IHByZXNldCA9IFRhdmVybkhlbHBlci5nZXRQcmVzZXQoJ2luX3VzZScpO1xuICAgIGNvbnN0IHByb21wdHMgPSBbLi4ucHJlc2V0LnByb21wdHMsIC4uLnByZXNldC5wcm9tcHRzX3VudXNlZF07XG5cbiAgICAvLyDmo4Dmn6XmmK/lkKblt7LlrZjlnKjor6Xor4bliKvmnaHnm65cbiAgICBjb25zdCBleGlzdGluZ1Byb21wdCA9IHByb21wdHMuZmluZChwID0+IHAuaWQgPT09IGlkZW50aWZpZXJJZCk7XG4gICAgaWYgKGV4aXN0aW5nUHJvbXB0KSB7XG4gICAgICBjb25zb2xlLmxvZygn5b2T5YmN6aKE6K6+5Lit5bey5a2Y5Zyo6K+G5Yir5p2h55uuOicsIGlkZW50aWZpZXJJZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8g5aaC5p6c5LiN5a2Y5Zyo77yM5Yib5bu66K+l6K+G5Yir5p2h55uuXG4gICAgY29uc29sZS5sb2coJ+WcqOW9k+WJjemihOiuvuS4reWIm+W7uuivhuWIq+adoeebrjonLCBpZGVudGlmaWVySWQpO1xuICAgIGF3YWl0IFRhdmVybkhlbHBlci51cGRhdGVQcmVzZXRXaXRoKFxuICAgICAgJ2luX3VzZScsXG4gICAgICBwcmVzZXQgPT4ge1xuICAgICAgICBjb25zdCBuZXdQcm9tcHQ6IFByZXNldFByb21wdCA9IHtcbiAgICAgICAgICBpZDogaWRlbnRpZmllcklkLFxuICAgICAgICAgIG5hbWU6IElERU5USUZJRVJfUFJPTVBUX05BTUUsXG4gICAgICAgICAgZW5hYmxlZDogZmFsc2UsIC8vIOS4jeWQr+eUqFxuICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICB0eXBlOiAncmVsYXRpdmUnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgICAgY29udGVudDogSURFTlRJRklFUl9QUk9NUFRfQ09OVEVOVCxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyDmt7vliqDliLDpooTorr7nmoRwcm9tcHRz5pWw57uE5pyr5bC+XG4gICAgICAgIHByZXNldC5wcm9tcHRzLnB1c2gobmV3UHJvbXB0KTtcbiAgICAgICAgcmV0dXJuIHByZXNldDtcbiAgICAgIH0sXG4gICAgICB7IHJlbmRlcjogJ2ltbWVkaWF0ZScgfSxcbiAgICApO1xuXG4gICAgLy8g6Kem5Y+R5L+d5a2YXG4gICAgdHJpZ2dlclByZXNldFNhdmUoKTtcbiAgICBjb25zb2xlLmxvZygn6K+G5Yir5p2h55uu5bey5re75Yqg5Yiw5b2T5YmN6aKE6K6+Jyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign56Gu5L+d6K+G5Yir5p2h55uu5a2Y5Zyo5aSx6LSlOicsIGVycm9yKTtcbiAgfVxufVxuXG4vLyDkuLrmjIflrprpooTorr7liJvlu7ror4bliKvmnaHnm65cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUlkZW50aWZpZXJGb3JQcmVzZXQocHJlc2V0TmFtZTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgLy8g5YiH5o2i5Yiw55uu5qCH6aKE6K6+XG4gICAgaWYgKCFUYXZlcm5IZWxwZXIubG9hZFByZXNldChwcmVzZXROYW1lKSkge1xuICAgICAgY29uc29sZS53YXJuKGDml6Dms5XliqDovb3pooTorr46ICR7cHJlc2V0TmFtZX1gKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIOetieW+hemihOiuvuWIh+aNouWujOaIkFxuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcblxuICAgIC8vIOajgOafpemihOiuvuaYr+WQpuW3suacieivhuWIq+adoeebrlxuICAgIGNvbnN0IHByZXNldCA9IFRhdmVybkhlbHBlci5nZXRQcmVzZXQoJ2luX3VzZScpO1xuICAgIGNvbnN0IHByb21wdHMgPSBbLi4ucHJlc2V0LnByb21wdHMsIC4uLnByZXNldC5wcm9tcHRzX3VudXNlZF07XG4gICAgY29uc3QgZXhpc3RpbmdJZGVudGlmaWVyID0gcHJvbXB0cy5maW5kKHAgPT4gcC5uYW1lID09PSBJREVOVElGSUVSX1BST01QVF9OQU1FKTtcblxuICAgIGlmIChleGlzdGluZ0lkZW50aWZpZXIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGDpooTorr4gXCIke3ByZXNldE5hbWV9XCIg5bey5a2Y5Zyo6K+G5Yir5p2h55uuOmAsIGV4aXN0aW5nSWRlbnRpZmllci5pZCk7XG4gICAgICByZXR1cm4gZXhpc3RpbmdJZGVudGlmaWVyLmlkO1xuICAgIH1cblxuICAgIC8vIOWIm+W7uuaWsOeahOivhuWIq+adoeebrlxuICAgIGNvbnN0IGlkZW50aWZpZXJJZCA9IGdlbmVyYXRlVW5pcXVlSWQoKTtcbiAgICBjb25zb2xlLmxvZyhg5Li66aKE6K6+IFwiJHtwcmVzZXROYW1lfVwiIOWIm+W7uuivhuWIq+adoeebru+8jElEOmAsIGlkZW50aWZpZXJJZCk7XG5cbiAgICBhd2FpdCBUYXZlcm5IZWxwZXIudXBkYXRlUHJlc2V0V2l0aChcbiAgICAgICdpbl91c2UnLFxuICAgICAgcHJlc2V0ID0+IHtcbiAgICAgICAgY29uc3QgbmV3UHJvbXB0OiBQcmVzZXRQcm9tcHQgPSB7XG4gICAgICAgICAgaWQ6IGlkZW50aWZpZXJJZCxcbiAgICAgICAgICBuYW1lOiBJREVOVElGSUVSX1BST01QVF9OQU1FLFxuICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLCAvLyDkuI3lkK/nlKhcbiAgICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgICAgdHlwZTogJ3JlbGF0aXZlJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJvbGU6ICdzeXN0ZW0nLFxuICAgICAgICAgIGNvbnRlbnQ6IElERU5USUZJRVJfUFJPTVBUX0NPTlRFTlQsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8g5re75Yqg5Yiw6aKE6K6+55qEcHJvbXB0c+aVsOe7hOacq+WwvlxuICAgICAgICBwcmVzZXQucHJvbXB0cy5wdXNoKG5ld1Byb21wdCk7XG4gICAgICAgIHJldHVybiBwcmVzZXQ7XG4gICAgICB9LFxuICAgICAgeyByZW5kZXI6ICdpbW1lZGlhdGUnIH0sXG4gICAgKTtcblxuICAgIC8vIOinpuWPkeS/neWtmFxuICAgIHRyaWdnZXJQcmVzZXRTYXZlKCk7XG4gICAgY29uc29sZS5sb2coYOmihOiuviBcIiR7cHJlc2V0TmFtZX1cIiDor4bliKvmnaHnm67liJvlu7rlrozmiJDvvIxJRDpgLCBpZGVudGlmaWVySWQpO1xuICAgIHJldHVybiBpZGVudGlmaWVySWQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihg5Li66aKE6K6+IFwiJHtwcmVzZXROYW1lfVwiIOWIm+W7uuivhuWIq+adoeebruWksei0pTpgLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLy8g5Li65b2T5YmN6aKE6K6+5Yib5bu66K+G5Yir5p2h55uu5bm25pu05paw5omA5pyJ55u45YWz6YWN572uXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlSWRlbnRpZmllckZvckN1cnJlbnRQcmVzZXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gIHRyeSB7XG4gICAgLy8g5qOA5p+l5b2T5YmN6aKE6K6+5piv5ZCm5bey5pyJ6K+G5Yir5p2h55uuXG4gICAgY29uc3QgcHJlc2V0ID0gVGF2ZXJuSGVscGVyLmdldFByZXNldCgnaW5fdXNlJyk7XG4gICAgY29uc3QgcHJvbXB0cyA9IFsuLi5wcmVzZXQucHJvbXB0cywgLi4ucHJlc2V0LnByb21wdHNfdW51c2VkXTtcbiAgICBjb25zdCBleGlzdGluZ0lkZW50aWZpZXIgPSBwcm9tcHRzLmZpbmQocCA9PiBwLm5hbWUgPT09IElERU5USUZJRVJfUFJPTVBUX05BTUUpO1xuXG4gICAgaWYgKGV4aXN0aW5nSWRlbnRpZmllcikge1xuICAgICAgdG9hc3RyLndhcm5pbmcoJ+W9k+WJjemihOiuvuW3suWtmOWcqOivhuWIq+adoeebru+8jOaXoOmcgOmHjeWkjeWIm+W7uicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIOWIm+W7uuaWsOeahOivhuWIq+adoeebrlxuICAgIGNvbnN0IGlkZW50aWZpZXJJZCA9IGdlbmVyYXRlVW5pcXVlSWQoKTtcbiAgICBjb25zb2xlLmxvZygn5Li65b2T5YmN6aKE6K6+5Yib5bu66K+G5Yir5p2h55uu77yMSUQ6JywgaWRlbnRpZmllcklkKTtcblxuICAgIGF3YWl0IFRhdmVybkhlbHBlci51cGRhdGVQcmVzZXRXaXRoKFxuICAgICAgJ2luX3VzZScsXG4gICAgICBwcmVzZXQgPT4ge1xuICAgICAgICBjb25zdCBuZXdQcm9tcHQ6IFByZXNldFByb21wdCA9IHtcbiAgICAgICAgICBpZDogaWRlbnRpZmllcklkLFxuICAgICAgICAgIG5hbWU6IElERU5USUZJRVJfUFJPTVBUX05BTUUsXG4gICAgICAgICAgZW5hYmxlZDogZmFsc2UsIC8vIOS4jeWQr+eUqFxuICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICB0eXBlOiAncmVsYXRpdmUnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgICAgY29udGVudDogSURFTlRJRklFUl9QUk9NUFRfQ09OVEVOVCxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyDmt7vliqDliLDpooTorr7nmoRwcm9tcHRz5pWw57uE5pyr5bC+XG4gICAgICAgIHByZXNldC5wcm9tcHRzLnB1c2gobmV3UHJvbXB0KTtcbiAgICAgICAgcmV0dXJuIHByZXNldDtcbiAgICAgIH0sXG4gICAgICB7IHJlbmRlcjogJ2ltbWVkaWF0ZScgfSxcbiAgICApO1xuXG4gICAgLy8g6Kem5Y+R5L+d5a2YXG4gICAgdHJpZ2dlclByZXNldFNhdmUoKTtcblxuICAgIC8vIOiOt+WPluW9k+WJjemihOiuvuWQjeensFxuICAgIGNvbnN0IGN1cnJlbnRQcmVzZXROYW1lID0gVGF2ZXJuSGVscGVyLmdldExvYWRlZFByZXNldE5hbWUoKTtcbiAgICBjb25zb2xlLmxvZygn5b2T5YmN6aKE6K6+5ZCN56ewOicsIGN1cnJlbnRQcmVzZXROYW1lKTtcblxuICAgIC8vIOabtOaWsOaJgOacieS9v+eUqOW9k+WJjemihOiuvuWQjeensOeahOaXp+mFjee9ru+8jOa3u+WKoOivhuWIq+adoeebrklEXG4gICAgY29uc3QgY29uZmlncyA9IGF3YWl0IGdldFN0b3JlZENvbmZpZ3MoKTtcbiAgICBsZXQgdXBkYXRlZENvdW50ID0gMDtcblxuICAgIGZvciAoY29uc3QgY29uZmlnSWQgaW4gY29uZmlncykge1xuICAgICAgY29uc3QgY29uZmlnID0gY29uZmlnc1tjb25maWdJZF07XG4gICAgICAvLyDlpoLmnpzphY3nva7msqHmnIlpZGVudGlmaWVySWTkuJRwcmVzZXROYW1l5Yy56YWN5b2T5YmN6aKE6K6+XG4gICAgICBpZiAoIWNvbmZpZy5pZGVudGlmaWVySWQgJiYgY29uZmlnLnByZXNldE5hbWUgPT09IGN1cnJlbnRQcmVzZXROYW1lKSB7XG4gICAgICAgIGNvbmZpZy5pZGVudGlmaWVySWQgPSBpZGVudGlmaWVySWQ7XG4gICAgICAgIHVwZGF0ZWRDb3VudCsrO1xuICAgICAgICBjb25zb2xlLmxvZyhg5pu05paw6YWN572uIFwiJHtjb25maWcubmFtZX1cIiDmt7vliqDor4bliKvmnaHnm65JRGApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1cGRhdGVkQ291bnQgPiAwKSB7XG4gICAgICAvLyDkv53lrZjmm7TmlrDlkI7nmoTphY3nva5cbiAgICAgIGF3YWl0IHNldFN0b3JlZENvbmZpZ3MoY29uZmlncyk7XG5cbiAgICAgIC8vIOa4hemZpOe8k+WtmOW5tumHjeaWsOa4suafk1xuICAgICAgY2xlYXJDb25maWdDYWNoZSgpO1xuICAgICAgYXdhaXQgcmVuZGVyQ29uZmlnc0xpc3QoKTtcblxuICAgICAgdG9hc3RyLnN1Y2Nlc3MoYOW3suS4uuW9k+WJjemihOiuvuWIm+W7uuivhuWIq+adoeebru+8jOW5tuabtOaWsOS6hiAke3VwZGF0ZWRDb3VudH0g5Liq55u45YWz6YWN572uYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvYXN0ci5zdWNjZXNzKCflt7LkuLrlvZPliY3pooTorr7liJvlu7ror4bliKvmnaHnm64nKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygn6K+G5Yir5p2h55uu5Yib5bu65a6M5oiQ77yMSUQ6JywgaWRlbnRpZmllcklkKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfliJvlu7ror4bliKvmnaHnm67lpLHotKU6JywgZXJyb3IpO1xuICAgIHRvYXN0ci5lcnJvcign5Yib5bu66K+G5Yir5p2h55uu5aSx6LSl77yM6K+35qOA5p+l5o6n5Yi25Y+w5pel5b+XJyk7XG4gIH1cbn1cblxuLy8g6Ieq5Yqo5Li65omA5pyJ6aKE6K6+5Yib5bu66K+G5Yir5p2h55uu5bm25pu05paw6YWN572uXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXV0b0NyZWF0ZUlkZW50aWZpZXJzRm9yQWxsUHJlc2V0cygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygn5byA5aeL6Ieq5Yqo5Li65omA5pyJ6aKE6K6+5Yib5bu66K+G5Yir5p2h55uuLi4uJyk7XG5cbiAgICAvLyDojrflj5bmiYDmnInpooTorr7lkI3np7BcbiAgICBjb25zdCBwcmVzZXROYW1lcyA9IFRhdmVybkhlbHBlci5nZXRQcmVzZXROYW1lcygpO1xuICAgIGNvbnNvbGUubG9nKCfmib7liLDpooTorr7liJfooag6JywgcHJlc2V0TmFtZXMpO1xuXG4gICAgLy8g6I635Y+W5omA5pyJ6YWN572uXG4gICAgY29uc3QgY29uZmlncyA9IGF3YWl0IGdldFN0b3JlZENvbmZpZ3MoKTtcbiAgICBjb25zb2xlLmxvZygn5om+5Yiw6YWN572u5pWw6YePOicsIE9iamVjdC5rZXlzKGNvbmZpZ3MpLmxlbmd0aCk7XG5cbiAgICAvLyDnu5/orqHpnIDopoHlpITnkIbnmoTpooTorr5cbiAgICBjb25zdCBwcmVzZXRUb1Byb2Nlc3MgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICBmb3IgKGNvbnN0IGNvbmZpZ0lkIGluIGNvbmZpZ3MpIHtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGNvbmZpZ3NbY29uZmlnSWRdO1xuICAgICAgaWYgKCFjb25maWcuaWRlbnRpZmllcklkICYmIGNvbmZpZy5wcmVzZXROYW1lKSB7XG4gICAgICAgIHByZXNldFRvUHJvY2Vzcy5hZGQoY29uZmlnLnByZXNldE5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCfpnIDopoHlpITnkIbnmoTpooTorr46JywgQXJyYXkuZnJvbShwcmVzZXRUb1Byb2Nlc3MpKTtcblxuICAgIGlmIChwcmVzZXRUb1Byb2Nlc3Muc2l6ZSA9PT0gMCkge1xuICAgICAgY29uc29sZS5sb2coJ+aJgOaciemFjee9rumDveW3suacieWFs+iBlOeahOivhuWIq+adoeebru+8jOaXoOmcgOWkhOeQhicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIOiusOW9leW9k+WJjemihOiuvu+8jOeojeWQjuaBouWkjVxuICAgIGNvbnN0IG9yaWdpbmFsUHJlc2V0ID0gVGF2ZXJuSGVscGVyLmdldExvYWRlZFByZXNldE5hbWUoKTtcbiAgICBjb25zb2xlLmxvZygn5b2T5YmN6aKE6K6+OicsIG9yaWdpbmFsUHJlc2V0KTtcblxuICAgIGxldCB0b3RhbFVwZGF0ZWQgPSAwO1xuICAgIGNvbnN0IHByZXNldElkZW50aWZpZXJNYXAgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpO1xuXG4gICAgLy8g5Li65q+P5Liq6ZyA6KaB5aSE55CG55qE6aKE6K6+5Yib5bu66K+G5Yir5p2h55uuXG4gICAgZm9yIChjb25zdCBwcmVzZXROYW1lIG9mIHByZXNldFRvUHJvY2Vzcykge1xuICAgICAgaWYgKHByZXNldE5hbWVzLmluY2x1ZGVzKHByZXNldE5hbWUpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDlpITnkIbpooTorr46ICR7cHJlc2V0TmFtZX1gKTtcbiAgICAgICAgY29uc3QgaWRlbnRpZmllcklkID0gYXdhaXQgY3JlYXRlSWRlbnRpZmllckZvclByZXNldChwcmVzZXROYW1lKTtcbiAgICAgICAgaWYgKGlkZW50aWZpZXJJZCkge1xuICAgICAgICAgIHByZXNldElkZW50aWZpZXJNYXAuc2V0KHByZXNldE5hbWUsIGlkZW50aWZpZXJJZCk7XG4gICAgICAgICAgY29uc29sZS5sb2coYOmihOiuviBcIiR7cHJlc2V0TmFtZX1cIiDor4bliKvmnaHnm65JRDogJHtpZGVudGlmaWVySWR9YCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2Fybihg6aKE6K6+IFwiJHtwcmVzZXROYW1lfVwiIOS4jeWtmOWcqO+8jOi3s+i/h2ApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIOabtOaWsOaJgOacieebuOWFs+mFjee9rlxuICAgIGZvciAoY29uc3QgY29uZmlnSWQgaW4gY29uZmlncykge1xuICAgICAgY29uc3QgY29uZmlnID0gY29uZmlnc1tjb25maWdJZF07XG4gICAgICBpZiAoIWNvbmZpZy5pZGVudGlmaWVySWQgJiYgY29uZmlnLnByZXNldE5hbWUgJiYgcHJlc2V0SWRlbnRpZmllck1hcC5oYXMoY29uZmlnLnByZXNldE5hbWUpKSB7XG4gICAgICAgIGNvbmZpZy5pZGVudGlmaWVySWQgPSBwcmVzZXRJZGVudGlmaWVyTWFwLmdldChjb25maWcucHJlc2V0TmFtZSk7XG4gICAgICAgIHRvdGFsVXBkYXRlZCsrO1xuICAgICAgICBjb25zb2xlLmxvZyhg5pu05paw6YWN572uIFwiJHtjb25maWcubmFtZX1cIiDlhbPogZTpooTorr4gXCIke2NvbmZpZy5wcmVzZXROYW1lfVwiYCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8g5L+d5a2Y5pu05paw5ZCO55qE6YWN572uXG4gICAgaWYgKHRvdGFsVXBkYXRlZCA+IDApIHtcbiAgICAgIGF3YWl0IHNldFN0b3JlZENvbmZpZ3MoY29uZmlncyk7XG4gICAgICBjb25zb2xlLmxvZyhg5bey5pu05pawICR7dG90YWxVcGRhdGVkfSDkuKrphY3nva5gKTtcbiAgICB9XG5cbiAgICAvLyDmgaLlpI3ljp/lp4vpooTorr5cbiAgICBpZiAob3JpZ2luYWxQcmVzZXQgJiYgcHJlc2V0TmFtZXMuaW5jbHVkZXMob3JpZ2luYWxQcmVzZXQpKSB7XG4gICAgICBUYXZlcm5IZWxwZXIubG9hZFByZXNldChvcmlnaW5hbFByZXNldCk7XG4gICAgICBjb25zb2xlLmxvZyhg5bey5oGi5aSN5Y6f5aeL6aKE6K6+OiAke29yaWdpbmFsUHJlc2V0fWApO1xuICAgIH1cblxuICAgIC8vIOa4hemZpOe8k+WtmOW5tumHjeaWsOa4suafk1xuICAgIGNsZWFyQ29uZmlnQ2FjaGUoKTtcbiAgICBhd2FpdCByZW5kZXJDb25maWdzTGlzdCgpO1xuXG4gICAgdG9hc3RyLnN1Y2Nlc3MoYOiHquWKqOWIm+W7uuWujOaIkO+8geS4uiAke3ByZXNldElkZW50aWZpZXJNYXAuc2l6ZX0g5Liq6aKE6K6+5Yib5bu65LqG6K+G5Yir5p2h55uu77yM5pu05paw5LqGICR7dG90YWxVcGRhdGVkfSDkuKrphY3nva5gKTtcbiAgICBjb25zb2xlLmxvZygn6Ieq5Yqo5Yib5bu66K+G5Yir5p2h55uu5a6M5oiQJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign6Ieq5Yqo5Yib5bu66K+G5Yir5p2h55uu5aSx6LSlOicsIGVycm9yKTtcbiAgICB0b2FzdHIuZXJyb3IoJ+iHquWKqOWIm+W7uuivhuWIq+adoeebruWksei0pe+8jOivt+ajgOafpeaOp+WItuWPsOaXpeW/lycpO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW5hbWVDb25maWcoY29uZmlnSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBjb25maWdzID0gYXdhaXQgZ2V0U3RvcmVkQ29uZmlncygpO1xuICBjb25zdCBjb25maWdUb1JlbmFtZSA9IGNvbmZpZ3NbY29uZmlnSWRdO1xuICBpZiAoIWNvbmZpZ1RvUmVuYW1lKSB7XG4gICAgdG9hc3RyLmVycm9yKCfmib7kuI3liLDopoHph43lkb3lkI3nmoTphY3nva7jgIInKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBvbGROYW1lID0gY29uZmlnVG9SZW5hbWUubmFtZTtcbiAgY29uc3QgbmV3TmFtZSA9IGF3YWl0IHRyaWdnZXJTbGFzaChgL2lucHV0IGRlZmF1bHQ9XCIke29sZE5hbWV9XCIgXCLor7fovpPlhaXmlrDnmoTphY3nva7lkI3np7BcImApO1xuXG4gIGlmIChuZXdOYW1lICYmIG5ld05hbWUudHJpbSgpICE9PSAnJykge1xuICAgIGNvbmZpZ3NbY29uZmlnSWRdLm5hbWUgPSBuZXdOYW1lLnRyaW0oKTtcbiAgICBhd2FpdCBzZXRTdG9yZWRDb25maWdzKGNvbmZpZ3MpO1xuICAgIGNsZWFyQ29uZmlnQ2FjaGUoKTsgLy8g5riF6Zmk6YWN572u57yT5a2YXG4gICAgdG9hc3RyLnN1Y2Nlc3MoYOmFjee9ruW3suS7jiBcIiR7b2xkTmFtZX1cIiDph43lkb3lkI3kuLogXCIke25ld05hbWUudHJpbSgpfVwi44CCYCk7XG4gICAgYXdhaXQgcmVuZGVyQ29uZmlnc0xpc3QoKTtcbiAgICB1cGRhdGVDb25maWdMaXN0Q2FjaGUoKTsgLy8g5pu05pawVUnnvJPlrZhcbiAgfSBlbHNlIHtcbiAgICB0b2FzdHIuaW5mbygn6YeN5ZG95ZCN5pON5L2c5bey5Y+W5raI44CCJyk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUNvbmZpZyhjb25maWdJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29uZmlncyA9IGF3YWl0IGdldFN0b3JlZENvbmZpZ3MoKTtcbiAgICBjb25zdCBvbGRDb25maWcgPSBjb25maWdzW2NvbmZpZ0lkXTtcbiAgICBpZiAoIW9sZENvbmZpZykge1xuICAgICAgdG9hc3RyLmVycm9yKGDphY3nva7kuI3lrZjlnKjvvIzml6Dms5Xmm7TmlrDjgIJgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsb2FkZWRQcmVzZXROYW1lID0gVGF2ZXJuSGVscGVyLmdldExvYWRlZFByZXNldE5hbWUoKTtcbiAgICBjb25zdCBwcmVzZXQgPSBUYXZlcm5IZWxwZXIuZ2V0UHJlc2V0KCdpbl91c2UnKTtcbiAgICBjb25zdCBhbGxQcm9tcHRzID0gWy4uLnByZXNldC5wcm9tcHRzLCAuLi5wcmVzZXQucHJvbXB0c191bnVzZWRdO1xuICAgIGNvbnN0IGN1cnJlbnRQcm9tcHRTdGF0ZXMgPSBhbGxQcm9tcHRzLm1hcCgocDogeyBpZDogc3RyaW5nOyBlbmFibGVkOiBib29sZWFuOyBuYW1lOiBzdHJpbmcgfSkgPT4gKHtcbiAgICAgIGlkOiBwLmlkLFxuICAgICAgZW5hYmxlZDogcC5lbmFibGVkLFxuICAgICAgbmFtZTogcC5uYW1lLFxuICAgIH0pKTtcblxuICAgIGNvbnN0IGNvbmZpZ1RvU2F2ZTogQ29uZmlnRGF0YSA9IHtcbiAgICAgIC4uLm9sZENvbmZpZyxcbiAgICAgIHByZXNldE5hbWU6IGxvYWRlZFByZXNldE5hbWUsXG4gICAgICBzdGF0ZXM6IGN1cnJlbnRQcm9tcHRTdGF0ZXMsXG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZVJlZ2V4Q2hvaWNlID0gYXdhaXQgdHJpZ2dlclNsYXNoKFxuICAgICAgYC9wb3B1cCBva0J1dHRvbj1cIuaYr1wiIGNhbmNlbEJ1dHRvbj1cIuWQplwiIHJlc3VsdD10cnVlIFwi5piv5ZCm6KaB5ZCM5pe25pu05paw5q2k6YWN572u55qE5q2j5YiZ5byA5YWz54q25oCB77yfXCJgLFxuICAgICk7XG4gICAgaWYgKHVwZGF0ZVJlZ2V4Q2hvaWNlID09PSAnMScpIHtcbiAgICAgIGNvbnN0IGFsbFJlZ2V4ZXMgPSBhd2FpdCBUYXZlcm5IZWxwZXIuZ2V0VGF2ZXJuUmVnZXhlcyh7IHNjb3BlOiAnZ2xvYmFsJyB9KTtcbiAgICAgIGNvbnN0IG5ld1JlZ2V4U3RhdGVzID0gYWxsUmVnZXhlcy5tYXAoKHJlZ2V4OiB7IGlkOiBzdHJpbmc7IGVuYWJsZWQ6IGJvb2xlYW4gfSkgPT4gKHtcbiAgICAgICAgaWQ6IHJlZ2V4LmlkLFxuICAgICAgICBlbmFibGVkOiByZWdleC5lbmFibGVkLFxuICAgICAgfSkpO1xuICAgICAgY29uZmlnVG9TYXZlLnJlZ2V4U3RhdGVzID0gbmV3UmVnZXhTdGF0ZXM7XG4gICAgICB0b2FzdHIuaW5mbygn5bey5ZCM5q2l5pu05paw5q2j5YiZ54q25oCB44CCJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkU3RhdGVJZHMgPSBuZXcgU2V0KG9sZENvbmZpZy5zdGF0ZXMubWFwKHMgPT4gcy5pZCkpO1xuICAgIGNvbnN0IG5ld0VudHJpZXMgPSBjb25maWdUb1NhdmUuc3RhdGVzLmZpbHRlcihzID0+ICFvbGRTdGF0ZUlkcy5oYXMocy5pZCkpO1xuXG4gICAgaWYgKG5ld0VudHJpZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgcHJvbXB0SWRUb05hbWVNYXAgPSBuZXcgTWFwKGN1cnJlbnRQcm9tcHRTdGF0ZXMubWFwKChwOiB7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZyB9KSA9PiBbcC5pZCwgcC5uYW1lXSkpO1xuICAgICAgY29uc3QgdXNlckNob2ljZXMgPSBhd2FpdCBzaG93TmV3RW50cmllc1BvcHVwKG5ld0VudHJpZXMsIHByb21wdElkVG9OYW1lTWFwKTtcblxuICAgICAgaWYgKHVzZXJDaG9pY2VzICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGNob2ljZXNNYXAgPSBuZXcgTWFwKFxuICAgICAgICAgIHVzZXJDaG9pY2VzLm1hcCgoY2hvaWNlOiB7IGlkOiBzdHJpbmc7IGVuYWJsZWQ6IGJvb2xlYW4gfSkgPT4gW2Nob2ljZS5pZCwgY2hvaWNlLmVuYWJsZWRdKSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uZmlnVG9TYXZlLnN0YXRlcy5mb3JFYWNoKHN0YXRlID0+IHtcbiAgICAgICAgICBpZiAoY2hvaWNlc01hcC5oYXMoc3RhdGUuaWQpKSBzdGF0ZS5lbmFibGVkID0gY2hvaWNlc01hcC5nZXQoc3RhdGUuaWQpIGFzIGJvb2xlYW47XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9hc3RyLmluZm8oJ+W3suS4uuaWsOadoeebruS/neeVmem7mOiupOeKtuaAgeOAgicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbmZpZ3NbY29uZmlnSWRdID0gY29uZmlnVG9TYXZlO1xuICAgIGF3YWl0IHNldFN0b3JlZENvbmZpZ3MoY29uZmlncyk7XG4gICAgY2xlYXJDb25maWdDYWNoZSgpOyAvLyDmuIXpmaTphY3nva7nvJPlrZhcblxuICAgIHRvYXN0ci5zdWNjZXNzKGDphY3nva4gXCIke2NvbmZpZ1RvU2F2ZS5uYW1lfVwiIOW3suabtOaWsOOAgmApO1xuICAgIGF3YWl0IHJlbmRlckNvbmZpZ3NMaXN0KCk7XG4gICAgdXBkYXRlQ29uZmlnTGlzdENhY2hlKCk7IC8vIOabtOaWsFVJ57yT5a2YXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign5pu05paw6aKE6K6+6YWN572u5aSx6LSlOicsIGVycm9yKTtcbiAgICB0b2FzdHIuZXJyb3IoJ+abtOaWsOmihOiuvumFjee9ruWksei0pe+8jOivt+ajgOafpeaOp+WItuWPsOiOt+WPluabtOWkmuS/oeaBr+OAgicpO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlQ3VycmVudENvbmZpZygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8g5YWI5Yib5bu66K+G5Yir5p2h55uu77yM54S25ZCO6YCa6L+H6K+G5Yir5p2h55uuSUTojrflj5bmraPnoa7nmoTpooTorr7lkI3np7BcbiAgY29uc3QgaWRlbnRpZmllcklkID0gYXdhaXQgY3JlYXRlT3JHZXRJZGVudGlmaWVyUHJvbXB0KCk7XG4gIGlmICghaWRlbnRpZmllcklkKSB7XG4gICAgdG9hc3RyLmVycm9yKCfml6Dms5XliJvlu7ror4bliKvmnaHnm67vvIzphY3nva7kv53lrZjlpLHotKUnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyDojrflj5blvZPliY3pooTorr7lkI3np7DvvIjnlKjkuo7mmL7npLrlkozlkJHlkI7lhbzlrrnvvIlcbiAgY29uc3QgY3VycmVudFByZXNldE5hbWUgPSBhd2FpdCBnZXRQcmVzZXROYW1lQnlJZGVudGlmaWVyKGlkZW50aWZpZXJJZCk7XG4gIGlmICghY3VycmVudFByZXNldE5hbWUpIHtcbiAgICB0b2FzdHIuZXJyb3IoJ+aXoOazleivhuWIq+W9k+WJjemihOiuvu+8jOmFjee9ruS/neWtmOWksei0pScpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGJsYWNrbGlzdCA9IFsn5oG254G15L2O6K+tJywgJ2RlZXBzcGF5JywgJ3NwYXltYWxlJywgJ+a3semYiScsICflsI/pqqHkuYvnpZ4nLCAn5bCP54yr5LmL56WeJywgJ2tlbWluaSddO1xuICBpZiAoYmxhY2tsaXN0LnNvbWUoa2V5d29yZCA9PiBjdXJyZW50UHJlc2V0TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGtleXdvcmQpKSkge1xuICAgIHRvYXN0ci53YXJuaW5nKCcq5L2g5L2/55So5LqG5L2c6ICF6buR5ZCN5Y2V55qE6aKE6K6+5ZOm77yI55uv77yJKicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG5hbWVJbnB1dCA9ICQoJyNwcmVzZXQtbWFuYWdlci1uYW1lLWlucHV0Jyk7XG4gIGNvbnN0IGNvbmZpZ05hbWUgPSBuYW1lSW5wdXQudmFsKCk/LnRvU3RyaW5nKCkudHJpbSgpO1xuICBpZiAoIWNvbmZpZ05hbWUpIHtcbiAgICB0b2FzdHIuZXJyb3IoJ+ivt+i+k+WFpemFjee9ruWQjeensOOAgicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ+W9k+WJjemihOiuvuWQjeensDonLCBjdXJyZW50UHJlc2V0TmFtZSk7XG4gICAgY29uc29sZS5sb2coJ+ivhuWIq+adoeebrklEOicsIGlkZW50aWZpZXJJZCk7XG5cbiAgICBjb25zdCBwcmVzZXQgPSBUYXZlcm5IZWxwZXIuZ2V0UHJlc2V0KCdpbl91c2UnKTtcbiAgICBjb25zdCBhbGxQcm9tcHRzID0gWy4uLnByZXNldC5wcm9tcHRzLCAuLi5wcmVzZXQucHJvbXB0c191bnVzZWRdO1xuICAgIGNvbnN0IHByb21wdFN0YXRlcyA9IGFsbFByb21wdHMubWFwKChwOiB7IGlkOiBzdHJpbmc7IGVuYWJsZWQ6IGJvb2xlYW47IG5hbWU6IHN0cmluZyB9KSA9PiAoe1xuICAgICAgaWQ6IHAuaWQsXG4gICAgICBlbmFibGVkOiBwLmVuYWJsZWQsXG4gICAgICBuYW1lOiBwLm5hbWUsXG4gICAgfSkpO1xuICAgIGNvbnN0IGNvbmZpZ1RvU2F2ZTogQ29uZmlnRGF0YSA9IHtcbiAgICAgIGlkOiBnZW5lcmF0ZVVuaXF1ZUlkKCksXG4gICAgICBuYW1lOiBjb25maWdOYW1lLFxuICAgICAgcHJlc2V0TmFtZTogY3VycmVudFByZXNldE5hbWUsIC8vIOS9v+eUqOWunumZheeahOmihOiuvuWQjeensOiAjOS4jeaYr1wiaW5fdXNlXCJcbiAgICAgIGlkZW50aWZpZXJJZDogaWRlbnRpZmllcklkLCAvLyDkvb/nlKjor4bliKvmnaHnm65JROi/m+ihjOWPr+mdoOeahOmihOiuvuivhuWIq1xuICAgICAgc3RhdGVzOiBwcm9tcHRTdGF0ZXMsXG4gICAgfTtcblxuICAgIGlmICgkKCcjcHJlc2V0LW1hbmFnZXItYmluZC1jaGFyJykuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgIGNvbnN0IGNoYXJEYXRhID0gYXdhaXQgVGF2ZXJuSGVscGVyLmdldENoYXJEYXRhKCdjdXJyZW50Jyk7XG4gICAgICBpZiAoY2hhckRhdGEgJiYgY2hhckRhdGEuYXZhdGFyKSB7XG4gICAgICAgIGNvbmZpZ1RvU2F2ZS5ib3VuZENoYXJBdmF0YXIgPSBjaGFyRGF0YS5hdmF0YXI7XG4gICAgICAgIGNvbmZpZ1RvU2F2ZS5ib3VuZENoYXJOYW1lID0gY2hhckRhdGEubmFtZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvYXN0ci53YXJuaW5nKCfml6Dms5Xojrflj5blvZPliY3op5LoibLkv6Hmga/vvIzphY3nva7mnKrnu5HlrprjgIInKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjb25maWdzID0gYXdhaXQgZ2V0U3RvcmVkQ29uZmlncygpO1xuICAgIGNvbmZpZ3NbY29uZmlnVG9TYXZlLmlkXSA9IGNvbmZpZ1RvU2F2ZTtcbiAgICBhd2FpdCBzZXRTdG9yZWRDb25maWdzKGNvbmZpZ3MpO1xuICAgIGNsZWFyQ29uZmlnQ2FjaGUoKTsgLy8g5riF6Zmk6YWN572u57yT5a2YXG5cbiAgICB0b2FzdHIuc3VjY2Vzcyhg6YWN572uIFwiJHtjb25maWdOYW1lfVwiIOW3suS/neWtmOOAgmApO1xuICAgIG5hbWVJbnB1dC52YWwoJycpO1xuICAgICQoJyNwcmVzZXQtbWFuYWdlci1iaW5kLWNoYXInKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgIGF3YWl0IHJlbmRlckNvbmZpZ3NMaXN0KCk7XG4gICAgdXBkYXRlQ29uZmlnTGlzdENhY2hlKCk7IC8vIOabtOaWsFVJ57yT5a2YXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign5L+d5a2Y6aKE6K6+6YWN572u5aSx6LSlOicsIGVycm9yKTtcbiAgICB0b2FzdHIuZXJyb3IoJ+S/neWtmOmihOiuvumFjee9ruWksei0pe+8jOivt+ajgOafpeaOp+WItuWPsOiOt+WPluabtOWkmuS/oeaBr+OAgicpO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkQ29uZmlnKGNvbmZpZ0lkOiBzdHJpbmcsIHNob3VsZFRvZ2dsZVVJID0gdHJ1ZSk6IFByb21pc2U8dm9pZD4ge1xuICB0cnkge1xuICAgIGNvbnN0IGNvbmZpZ3MgPSBhd2FpdCBnZXRTdG9yZWRDb25maWdzKCk7XG4gICAgY29uc3QgY29uZmlnVG9Mb2FkID0gY29uZmlnc1tjb25maWdJZF07XG4gICAgaWYgKCFjb25maWdUb0xvYWQpIHtcbiAgICAgIHRvYXN0ci5lcnJvcihg6YWN572u5LiN5a2Y5Zyo44CCYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8g5LyY5YWI5L2/55So6K+G5Yir5p2h55uuSUTmn6Xmib7pooTorr7vvIzlpoLmnpzmsqHmnInliJnlm57pgIDliLDpooTorr7lkI3np7BcbiAgICBsZXQgdGFyZ2V0UHJlc2V0TmFtZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgICBpZiAoY29uZmlnVG9Mb2FkLmlkZW50aWZpZXJJZCkge1xuICAgICAgLy8g5L2/55So6K+G5Yir5p2h55uuSUTmn6Xmib7pooTorr5cbiAgICAgIHRhcmdldFByZXNldE5hbWUgPSBhd2FpdCBnZXRQcmVzZXROYW1lQnlJZGVudGlmaWVyKGNvbmZpZ1RvTG9hZC5pZGVudGlmaWVySWQpO1xuICAgICAgaWYgKHRhcmdldFByZXNldE5hbWUpIHtcbiAgICAgICAgLy8g5aaC5p6c5om+5Yiw55qE5pivXCJpbl91c2VcIu+8jOmcgOimgei9rOaNouS4uuW9k+WJjeato+WcqOS9v+eUqOeahOWunumZhemihOiuvuWQjeensFxuICAgICAgICBpZiAodGFyZ2V0UHJlc2V0TmFtZSA9PT0gJ2luX3VzZScpIHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50UHJlc2V0TmFtZSA9IFRhdmVybkhlbHBlci5nZXRMb2FkZWRQcmVzZXROYW1lKCk7XG4gICAgICAgICAgdGFyZ2V0UHJlc2V0TmFtZSA9IGN1cnJlbnRQcmVzZXROYW1lICE9PSAnaW5fdXNlJyA/IGN1cnJlbnRQcmVzZXROYW1lIDogJ2luX3VzZSc7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+mAmui/h+ivhuWIq+adoeebrklE5om+5YiwaW5fdXNl77yM6L2s5o2i5Li65b2T5YmN6aKE6K6+OicsIHRhcmdldFByZXNldE5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfpgJrov4for4bliKvmnaHnm65JROaJvuWIsOmihOiuvjonLCB0YXJnZXRQcmVzZXROYW1lKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKCfml6Dms5XpgJrov4for4bliKvmnaHnm65JROaJvuWIsOmihOiuvu+8jOWwneivleS9v+eUqOmihOiuvuWQjeensCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIOWmguaenOmAmui/h+ivhuWIq+adoeebrklE5rKh5om+5Yiw77yM5bCd6K+V5L2/55So6aKE6K6+5ZCN56ew77yI5ZCR5ZCO5YW85a6577yJXG4gICAgaWYgKCF0YXJnZXRQcmVzZXROYW1lICYmIGNvbmZpZ1RvTG9hZC5wcmVzZXROYW1lKSB7XG4gICAgICBpZiAoVGF2ZXJuSGVscGVyLmdldFByZXNldE5hbWVzKCkuaW5jbHVkZXMoY29uZmlnVG9Mb2FkLnByZXNldE5hbWUpKSB7XG4gICAgICAgIHRhcmdldFByZXNldE5hbWUgPSBjb25maWdUb0xvYWQucHJlc2V0TmFtZTtcbiAgICAgICAgY29uc29sZS5sb2coJ+mAmui/h+mihOiuvuWQjeensOaJvuWIsOmihOiuvjonLCB0YXJnZXRQcmVzZXROYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2Fybihg6aKE6K6+IFwiJHtjb25maWdUb0xvYWQucHJlc2V0TmFtZX1cIiDkuI3lrZjlnKjvvIzlsJ3or5Xmiavmj4/miYDmnInpooTorr7mn6Xmib7or4bliKvmnaHnm65gKTtcbiAgICAgICAgLy8g5aaC5p6c6aKE6K6+5ZCN56ew5Lmf5LiN5a2Y5Zyo77yM5bCd6K+V5omr5o+P5omA5pyJ6aKE6K6+5p+l5om+6K+G5Yir5p2h55uuXG4gICAgICAgIGlmIChjb25maWdUb0xvYWQuaWRlbnRpZmllcklkKSB7XG4gICAgICAgICAgdGFyZ2V0UHJlc2V0TmFtZSA9IGF3YWl0IGdldFByZXNldE5hbWVCeUlkZW50aWZpZXIoY29uZmlnVG9Mb2FkLmlkZW50aWZpZXJJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGFyZ2V0UHJlc2V0TmFtZSkge1xuICAgICAgLy8g5Yqg6L296aKE6K6+XG4gICAgICBpZiAoVGF2ZXJuSGVscGVyLmxvYWRQcmVzZXQodGFyZ2V0UHJlc2V0TmFtZSkpIHtcbiAgICAgICAgdG9hc3RyLmluZm8oYOW3suWIh+aNouWIsOmihOiuviBcIiR7dGFyZ2V0UHJlc2V0TmFtZX1cIuOAgmApO1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG5cbiAgICAgICAgLy8g56Gu5L+d55uu5qCH6aKE6K6+5Lit5pyJ6K+G5Yir5p2h55uuXG4gICAgICAgIGlmIChjb25maWdUb0xvYWQuaWRlbnRpZmllcklkKSB7XG4gICAgICAgICAgYXdhaXQgZW5zdXJlSWRlbnRpZmllckluQ3VycmVudFByZXNldChjb25maWdUb0xvYWQuaWRlbnRpZmllcklkKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9hc3RyLmVycm9yKGDliqDovb3pooTorr4gXCIke3RhcmdldFByZXNldE5hbWV9XCIg5aSx6LSl44CCYCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdG9hc3RyLndhcm5pbmcoYOaXoOazleaJvuWIsOWvueW6lOeahOmihOiuvu+8jOWwhuS7heWvueW9k+WJjemihOiuvuW6lOeUqOadoeebrueKtuaAgeOAgmApO1xuICAgIH1cblxuICAgIGNvbnN0IHByb21wdFN0YXRlcyA9IGNvbmZpZ1RvTG9hZC5zdGF0ZXM7XG4gICAgaWYgKCFwcm9tcHRTdGF0ZXMgfHwgIUFycmF5LmlzQXJyYXkocHJvbXB0U3RhdGVzKSkge1xuICAgICAgdG9hc3RyLmVycm9yKGDphY3nva4gXCIke2NvbmZpZ1RvTG9hZC5uYW1lfVwiIOaVsOaNruagvOW8j+S4jeato+ehruaIluS4uuepuuOAgmApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YXRlc01hcCA9IG5ldyBNYXAocHJvbXB0U3RhdGVzLm1hcChzID0+IFtzLmlkLCBzLmVuYWJsZWRdKSk7XG4gICAgYXdhaXQgVGF2ZXJuSGVscGVyLnVwZGF0ZVByZXNldFdpdGgoJ2luX3VzZScsIHByZXNldCA9PiB7XG4gICAgICBbLi4ucHJlc2V0LnByb21wdHMsIC4uLnByZXNldC5wcm9tcHRzX3VudXNlZF0uZm9yRWFjaCgocHJvbXB0OiBhbnkpID0+IHtcbiAgICAgICAgaWYgKHN0YXRlc01hcC5oYXMocHJvbXB0LmlkKSkgcHJvbXB0LmVuYWJsZWQgPSBzdGF0ZXNNYXAuZ2V0KHByb21wdC5pZCkgYXMgYm9vbGVhbjtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHByZXNldDtcbiAgICB9KTtcblxuICAgIGlmIChjb25maWdUb0xvYWQucmVnZXhTdGF0ZXMgJiYgQXJyYXkuaXNBcnJheShjb25maWdUb0xvYWQucmVnZXhTdGF0ZXMpKSB7XG4gICAgICBjb25zdCBzdGF0ZXNUb0FwcGx5ID0gbmV3IE1hcChjb25maWdUb0xvYWQucmVnZXhTdGF0ZXMubWFwKHIgPT4gW3IuaWQsIHIuZW5hYmxlZF0pKTtcbiAgICAgIGlmIChzdGF0ZXNUb0FwcGx5LnNpemUgPiAwKSB7XG4gICAgICAgIGF3YWl0IFRhdmVybkhlbHBlci51cGRhdGVUYXZlcm5SZWdleGVzV2l0aChcbiAgICAgICAgICByZWdleGVzID0+IHtcbiAgICAgICAgICAgIHJlZ2V4ZXMuZm9yRWFjaCgocmVnZXg6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBpZiAocmVnZXguc2NvcGUgPT09ICdnbG9iYWwnICYmIHN0YXRlc1RvQXBwbHkuaGFzKHJlZ2V4LmlkKSkge1xuICAgICAgICAgICAgICAgIHJlZ2V4LmVuYWJsZWQgPSBzdGF0ZXNUb0FwcGx5LmdldChyZWdleC5pZCkgYXMgYm9vbGVhbjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVnZXhlcztcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgc2NvcGU6ICdnbG9iYWwnIH0sXG4gICAgICAgICk7XG4gICAgICAgIHRvYXN0ci5zdWNjZXNzKGDlt7LlupTnlKjphY3nva4gXCIke2NvbmZpZ1RvTG9hZC5uYW1lfVwiIOe7keWumueahOWFqOWxgOato+WImeOAgmApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRvYXN0ci5zdWNjZXNzKGDlt7LliqDovb3phY3nva4gXCIke2NvbmZpZ1RvTG9hZC5uYW1lfVwi44CCYCk7XG5cbiAgICAvLyDliqDovb3phY3nva7lkI7op6blj5HliIbnu4TmgaLlpI1cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRyaWdnZXJHcm91cGluZ1Jlc3RvcmUoKTtcbiAgICB9LCA1MDApO1xuXG4gICAgaWYgKHNob3VsZFRvZ2dsZVVJKSB7XG4gICAgICB0b2dnbGVVSSgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfliqDovb3pooTorr7phY3nva7lpLHotKU6JywgZXJyb3IpO1xuICAgIHRvYXN0ci5lcnJvcign5Yqg6L296aKE6K6+6YWN572u5aSx6LSl77yM6K+35qOA5p+l5o6n5Yi25Y+w6I635Y+W5pu05aSa5L+h5oGv44CCJyk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUNvbmZpZyhjb25maWdJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29uZmlncyA9IGF3YWl0IGdldFN0b3JlZENvbmZpZ3MoKTtcbiAgICBjb25zdCBjb25maWdUb0RlbGV0ZSA9IGNvbmZpZ3NbY29uZmlnSWRdO1xuICAgIGlmIChjb25maWdUb0RlbGV0ZSkge1xuICAgICAgZGVsZXRlIGNvbmZpZ3NbY29uZmlnSWRdO1xuICAgICAgYXdhaXQgc2V0U3RvcmVkQ29uZmlncyhjb25maWdzKTtcbiAgICAgIGNsZWFyQ29uZmlnQ2FjaGUoKTsgLy8g5riF6Zmk6YWN572u57yT5a2YXG4gICAgICB0b2FzdHIuc3VjY2Vzcyhg5bey5Yig6Zmk6YWN572uIFwiJHtjb25maWdUb0RlbGV0ZS5uYW1lfVwi44CCYCk7XG4gICAgICBhd2FpdCByZW5kZXJDb25maWdzTGlzdCgpO1xuICAgICAgdXBkYXRlQ29uZmlnTGlzdENhY2hlKCk7IC8vIOabtOaWsFVJ57yT5a2YXG4gICAgfSBlbHNlIHtcbiAgICAgIHRvYXN0ci53YXJuaW5nKGDphY3nva7kuI3lrZjlnKjjgIJgKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign5Yig6Zmk6YWN572u5aSx6LSlOicsIGVycm9yKTtcbiAgICB0b2FzdHIuZXJyb3IoJ+WIoOmZpOmFjee9ruWksei0pe+8jOivt+ajgOafpeaOp+WItuWPsOiOt+WPluabtOWkmuS/oeaBr+OAgicpO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/喵喵预设配置管理/配置操作功能.ts\n\n}");

/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		// no module.id needed
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/make namespace object */
/******/ (() => {
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = (exports) => {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/ })();
/******/ 
/************************************************************************/
/******/ 
/******/ // startup
/******/ // Load entry module and return exports
/******/ // This entry module can't be inlined because the eval-source-map devtool is used.
/******/ var __webpack_exports__ = __webpack_require__("./src/喵喵预设配置管理/index.ts");
/******/ 
